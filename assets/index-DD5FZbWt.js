(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function sa(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Fe={},uo=[],Kt=()=>{},hg=()=>!1,Cr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),la=e=>e.startsWith("onUpdate:"),et=Object.assign,aa=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},pg=Object.prototype.hasOwnProperty,Me=(e,t)=>pg.call(e,t),we=Array.isArray,co=e=>gi(e)==="[object Map]",Nr=e=>gi(e)==="[object Set]",Xa=e=>gi(e)==="[object Date]",Ce=e=>typeof e=="function",je=e=>typeof e=="string",$t=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",Fd=e=>(Le(e)||Ce(e))&&Ce(e.then)&&Ce(e.catch),Vd=Object.prototype.toString,gi=e=>Vd.call(e),gg=e=>gi(e).slice(8,-1),Bd=e=>gi(e)==="[object Object]",ua=e=>je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vo=sa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},mg=/-(\w)/g,At=kr(e=>e.replace(mg,(t,n)=>n?n.toUpperCase():"")),vg=/\B([A-Z])/g,Pn=kr(e=>e.replace(vg,"-$1").toLowerCase()),Tr=kr(e=>e.charAt(0).toUpperCase()+e.slice(1)),ns=kr(e=>e?`on${Tr(e)}`:""),cn=(e,t)=>!Object.is(e,t),Vi=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},El=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Zi=e=>{const t=parseFloat(e);return isNaN(t)?e:t},yg=e=>{const t=je(e)?Number(e):NaN;return isNaN(t)?e:t};let Za;const Ar=()=>Za||(Za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function at(e){if(we(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],i=je(o)?xg(o):at(o);if(i)for(const r in i)t[r]=i[r]}return t}else if(je(e)||Le(e))return e}const _g=/;(?![^(]*\))/g,wg=/:([^]+)/,bg=/\/\*[^]*?\*\//g;function xg(e){const t={};return e.replace(bg,"").split(_g).forEach(n=>{if(n){const o=n.split(wg);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Je(e){let t="";if(je(e))t=e;else if(we(e))for(let n=0;n<e.length;n++){const o=Je(e[n]);o&&(t+=o+" ")}else if(Le(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Sl(e){if(!e)return null;let{class:t,style:n}=e;return t&&!je(t)&&(e.class=Je(t)),n&&(e.style=at(n)),e}const Eg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sg=sa(Eg);function Hd(e){return!!e||e===""}function Cg(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=_o(e[o],t[o]);return n}function _o(e,t){if(e===t)return!0;let n=Xa(e),o=Xa(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=$t(e),o=$t(t),n||o)return e===t;if(n=we(e),o=we(t),n||o)return n&&o?Cg(e,t):!1;if(n=Le(e),o=Le(t),n||o){if(!n||!o)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const s in e){const l=e.hasOwnProperty(s),a=t.hasOwnProperty(s);if(l&&!a||!l&&a||!_o(e[s],t[s]))return!1}}return String(e)===String(t)}function Ng(e,t){return e.findIndex(n=>_o(n,t))}const jd=e=>!!(e&&e.__v_isRef===!0),Te=e=>je(e)?e:e==null?"":we(e)||Le(e)&&(e.toString===Vd||!Ce(e.toString))?jd(e)?Te(e.value):JSON.stringify(e,zd,2):String(e),zd=(e,t)=>jd(t)?zd(e,t.value):co(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,i],r)=>(n[os(o,r)+" =>"]=i,n),{})}:Nr(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>os(n))}:$t(t)?os(t):Le(t)&&!we(t)&&!Bd(t)?String(t):t,os=(e,t="")=>{var n;return $t(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let rt;class Yd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=rt,!t&&rt&&(this.index=(rt.scopes||(rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=rt;try{return rt=this,t()}finally{rt=n}}}on(){++this._on===1&&(this.prevScope=rt,rt=this)}off(){this._on>0&&--this._on===0&&(rt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Gd(e){return new Yd(e)}function Or(){return rt}function Bo(e,t=!1){rt&&rt.cleanups.push(e)}let Be;const is=new WeakSet;class Ud{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,rt&&rt.active&&rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,is.has(this)&&(is.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Wd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qa(this),Kd(this);const t=Be,n=Mt;Be=this,Mt=!0;try{return this.fn()}finally{Xd(this),Be=t,Mt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)fa(t);this.deps=this.depsTail=void 0,Qa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?is.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Cl(this)&&this.run()}get dirty(){return Cl(this)}}let qd=0,Ho,jo;function Wd(e,t=!1){if(e.flags|=8,t){e.next=jo,jo=e;return}e.next=Ho,Ho=e}function ca(){qd++}function da(){if(--qd>0)return;if(jo){let t=jo;for(jo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ho;){let t=Ho;for(Ho=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Kd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Xd(e){let t,n=e.depsTail,o=n;for(;o;){const i=o.prevDep;o.version===-1?(o===n&&(n=i),fa(o),kg(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=i}e.deps=t,e.depsTail=n}function Cl(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Zd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Zd(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Xo)||(e.globalVersion=Xo,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Cl(e))))return;e.flags|=2;const t=e.dep,n=Be,o=Mt;Be=e,Mt=!0;try{Kd(e);const i=e.fn(e._value);(t.version===0||cn(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Be=n,Mt=o,Xd(e),e.flags&=-3}}function fa(e,t=!1){const{dep:n,prevSub:o,nextSub:i}=e;if(o&&(o.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)fa(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function kg(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Mt=!0;const Qd=[];function hn(){Qd.push(Mt),Mt=!1}function pn(){const e=Qd.pop();Mt=e===void 0?!0:e}function Qa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Be;Be=void 0;try{t()}finally{Be=n}}}let Xo=0;class Tg{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ir{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Be||!Mt||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new Tg(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,Jd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=o)}return n}trigger(t){this.version++,Xo++,this.notify(t)}notify(t){ca();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{da()}}}function Jd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Jd(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Qi=new WeakMap,zn=Symbol(""),Nl=Symbol(""),Zo=Symbol("");function st(e,t,n){if(Mt&&Be){let o=Qi.get(e);o||Qi.set(e,o=new Map);let i=o.get(n);i||(o.set(n,i=new Ir),i.map=o,i.key=n),i.track()}}function rn(e,t,n,o,i,r){const s=Qi.get(e);if(!s){Xo++;return}const l=a=>{a&&a.trigger()};if(ca(),t==="clear")s.forEach(l);else{const a=we(e),c=a&&ua(n);if(a&&n==="length"){const u=Number(o);s.forEach((d,f)=>{(f==="length"||f===Zo||!$t(f)&&f>=u)&&l(d)})}else switch((n!==void 0||s.has(void 0))&&l(s.get(n)),c&&l(s.get(Zo)),t){case"add":a?c&&l(s.get("length")):(l(s.get(zn)),co(e)&&l(s.get(Nl)));break;case"delete":a||(l(s.get(zn)),co(e)&&l(s.get(Nl)));break;case"set":co(e)&&l(s.get(zn));break}}da()}function Ag(e,t){const n=Qi.get(e);return n&&n.get(t)}function Jn(e){const t=Ae(e);return t===e?t:(st(t,"iterate",Zo),Tt(e)?t:t.map(nt))}function Mr(e){return st(e=Ae(e),"iterate",Zo),e}const Og={__proto__:null,[Symbol.iterator](){return rs(this,Symbol.iterator,nt)},concat(...e){return Jn(this).concat(...e.map(t=>we(t)?Jn(t):t))},entries(){return rs(this,"entries",e=>(e[1]=nt(e[1]),e))},every(e,t){return tn(this,"every",e,t,void 0,arguments)},filter(e,t){return tn(this,"filter",e,t,n=>n.map(nt),arguments)},find(e,t){return tn(this,"find",e,t,nt,arguments)},findIndex(e,t){return tn(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return tn(this,"findLast",e,t,nt,arguments)},findLastIndex(e,t){return tn(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return tn(this,"forEach",e,t,void 0,arguments)},includes(...e){return ss(this,"includes",e)},indexOf(...e){return ss(this,"indexOf",e)},join(e){return Jn(this).join(e)},lastIndexOf(...e){return ss(this,"lastIndexOf",e)},map(e,t){return tn(this,"map",e,t,void 0,arguments)},pop(){return Ao(this,"pop")},push(...e){return Ao(this,"push",e)},reduce(e,...t){return Ja(this,"reduce",e,t)},reduceRight(e,...t){return Ja(this,"reduceRight",e,t)},shift(){return Ao(this,"shift")},some(e,t){return tn(this,"some",e,t,void 0,arguments)},splice(...e){return Ao(this,"splice",e)},toReversed(){return Jn(this).toReversed()},toSorted(e){return Jn(this).toSorted(e)},toSpliced(...e){return Jn(this).toSpliced(...e)},unshift(...e){return Ao(this,"unshift",e)},values(){return rs(this,"values",nt)}};function rs(e,t,n){const o=Mr(e),i=o[t]();return o!==e&&!Tt(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const Ig=Array.prototype;function tn(e,t,n,o,i,r){const s=Mr(e),l=s!==e&&!Tt(e),a=s[t];if(a!==Ig[t]){const d=a.apply(e,r);return l?nt(d):d}let c=n;s!==e&&(l?c=function(d,f){return n.call(this,nt(d),f,e)}:n.length>2&&(c=function(d,f){return n.call(this,d,f,e)}));const u=a.call(s,c,o);return l&&i?i(u):u}function Ja(e,t,n,o){const i=Mr(e);let r=n;return i!==e&&(Tt(e)?n.length>3&&(r=function(s,l,a){return n.call(this,s,l,a,e)}):r=function(s,l,a){return n.call(this,s,nt(l),a,e)}),i[t](r,...o)}function ss(e,t,n){const o=Ae(e);st(o,"iterate",Zo);const i=o[t](...n);return(i===-1||i===!1)&&ma(n[0])?(n[0]=Ae(n[0]),o[t](...n)):i}function Ao(e,t,n=[]){hn(),ca();const o=Ae(e)[t].apply(e,n);return da(),pn(),o}const Mg=sa("__proto__,__v_isRef,__isVue"),ef=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($t));function Dg(e){$t(e)||(e=String(e));const t=Ae(this);return st(t,"has",e),t.hasOwnProperty(e)}class tf{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return o===(i?r?zg:sf:r?rf:of).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const s=we(t);if(!i){let a;if(s&&(a=Og[n]))return a;if(n==="hasOwnProperty")return Dg}const l=Reflect.get(t,n,Ge(t)?t:o);return($t(n)?ef.has(n):Mg(n))||(i||st(t,"get",n),r)?l:Ge(l)?s&&ua(n)?l:l.value:Le(l)?i?pa(l):bt(l):l}}class nf extends tf{constructor(t=!1){super(!1,t)}set(t,n,o,i){let r=t[n];if(!this._isShallow){const a=In(r);if(!Tt(o)&&!In(o)&&(r=Ae(r),o=Ae(o)),!we(t)&&Ge(r)&&!Ge(o))return a?!1:(r.value=o,!0)}const s=we(t)&&ua(n)?Number(n)<t.length:Me(t,n),l=Reflect.set(t,n,o,Ge(t)?t:i);return t===Ae(i)&&(s?cn(o,r)&&rn(t,"set",n,o):rn(t,"add",n,o)),l}deleteProperty(t,n){const o=Me(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&o&&rn(t,"delete",n,void 0),i}has(t,n){const o=Reflect.has(t,n);return(!$t(n)||!ef.has(n))&&st(t,"has",n),o}ownKeys(t){return st(t,"iterate",we(t)?"length":zn),Reflect.ownKeys(t)}}class $g extends tf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Pg=new nf,Lg=new $g,Rg=new nf(!0);const kl=e=>e,xi=e=>Reflect.getPrototypeOf(e);function Fg(e,t,n){return function(...o){const i=this.__v_raw,r=Ae(i),s=co(r),l=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,c=i[e](...o),u=n?kl:t?Ji:nt;return!t&&st(r,"iterate",a?Nl:zn),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:l?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Ei(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Vg(e,t){const n={get(i){const r=this.__v_raw,s=Ae(r),l=Ae(i);e||(cn(i,l)&&st(s,"get",i),st(s,"get",l));const{has:a}=xi(s),c=t?kl:e?Ji:nt;if(a.call(s,i))return c(r.get(i));if(a.call(s,l))return c(r.get(l));r!==s&&r.get(i)},get size(){const i=this.__v_raw;return!e&&st(Ae(i),"iterate",zn),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,s=Ae(r),l=Ae(i);return e||(cn(i,l)&&st(s,"has",i),st(s,"has",l)),i===l?r.has(i):r.has(i)||r.has(l)},forEach(i,r){const s=this,l=s.__v_raw,a=Ae(l),c=t?kl:e?Ji:nt;return!e&&st(a,"iterate",zn),l.forEach((u,d)=>i.call(r,c(u),c(d),s))}};return et(n,e?{add:Ei("add"),set:Ei("set"),delete:Ei("delete"),clear:Ei("clear")}:{add(i){!t&&!Tt(i)&&!In(i)&&(i=Ae(i));const r=Ae(this);return xi(r).has.call(r,i)||(r.add(i),rn(r,"add",i,i)),this},set(i,r){!t&&!Tt(r)&&!In(r)&&(r=Ae(r));const s=Ae(this),{has:l,get:a}=xi(s);let c=l.call(s,i);c||(i=Ae(i),c=l.call(s,i));const u=a.call(s,i);return s.set(i,r),c?cn(r,u)&&rn(s,"set",i,r):rn(s,"add",i,r),this},delete(i){const r=Ae(this),{has:s,get:l}=xi(r);let a=s.call(r,i);a||(i=Ae(i),a=s.call(r,i)),l&&l.call(r,i);const c=r.delete(i);return a&&rn(r,"delete",i,void 0),c},clear(){const i=Ae(this),r=i.size!==0,s=i.clear();return r&&rn(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=Fg(i,e,t)}),n}function ha(e,t){const n=Vg(e,t);return(o,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(Me(n,i)&&i in o?n:o,i,r)}const Bg={get:ha(!1,!1)},Hg={get:ha(!1,!0)},jg={get:ha(!0,!1)};const of=new WeakMap,rf=new WeakMap,sf=new WeakMap,zg=new WeakMap;function Yg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gg(e){return e.__v_skip||!Object.isExtensible(e)?0:Yg(gg(e))}function bt(e){return In(e)?e:ga(e,!1,Pg,Bg,of)}function Ug(e){return ga(e,!1,Rg,Hg,rf)}function pa(e){return ga(e,!0,Lg,jg,sf)}function ga(e,t,n,o,i){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Gg(e);if(r===0)return e;const s=i.get(e);if(s)return s;const l=new Proxy(e,r===2?o:n);return i.set(e,l),l}function fo(e){return In(e)?fo(e.__v_raw):!!(e&&e.__v_isReactive)}function In(e){return!!(e&&e.__v_isReadonly)}function Tt(e){return!!(e&&e.__v_isShallow)}function ma(e){return e?!!e.__v_raw:!1}function Ae(e){const t=e&&e.__v_raw;return t?Ae(t):e}function Yn(e){return!Me(e,"__v_skip")&&Object.isExtensible(e)&&El(e,"__v_skip",!0),e}const nt=e=>Le(e)?bt(e):e,Ji=e=>Le(e)?pa(e):e;function Ge(e){return e?e.__v_isRef===!0:!1}function be(e){return lf(e,!1)}function er(e){return lf(e,!0)}function lf(e,t){return Ge(e)?e:new qg(e,t)}class qg{constructor(t,n){this.dep=new Ir,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ae(t),this._value=n?t:nt(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||Tt(t)||In(t);t=o?t:Ae(t),cn(t,n)&&(this._rawValue=t,this._value=o?t:nt(t),this.dep.trigger())}}function M(e){return Ge(e)?e.value:e}function ke(e){return Ce(e)?e():M(e)}const Wg={get:(e,t,n)=>t==="__v_raw"?e:M(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const i=e[t];return Ge(i)&&!Ge(n)?(i.value=n,!0):Reflect.set(e,t,n,o)}};function af(e){return fo(e)?e:new Proxy(e,Wg)}class Kg{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Ir,{get:o,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=o,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function Xg(e){return new Kg(e)}function Zg(e){const t=we(e)?new Array(e.length):{};for(const n in e)t[n]=uf(e,n);return t}class Qg{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ag(Ae(this._object),this._key)}}class Jg{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ye(e,t,n){return Ge(e)?e:Ce(e)?new Jg(e):Le(e)&&arguments.length>1?uf(e,t,n):be(e)}function uf(e,t,n){const o=e[t];return Ge(o)?o:new Qg(e,t,n)}class em{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ir(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Xo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return Wd(this,!0),!0}get value(){const t=this.dep.track();return Zd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tm(e,t,n=!1){let o,i;return Ce(e)?o=e:(o=e.get,i=e.set),new em(o,i,n)}const Si={},tr=new WeakMap;let Vn;function nm(e,t=!1,n=Vn){if(n){let o=tr.get(n);o||tr.set(n,o=[]),o.push(e)}}function om(e,t,n=Fe){const{immediate:o,deep:i,once:r,scheduler:s,augmentJob:l,call:a}=n,c=S=>i?S:Tt(S)||i===!1||i===0?sn(S,1):sn(S);let u,d,f,h,g=!1,p=!1;if(Ge(e)?(d=()=>e.value,g=Tt(e)):fo(e)?(d=()=>c(e),g=!0):we(e)?(p=!0,g=e.some(S=>fo(S)||Tt(S)),d=()=>e.map(S=>{if(Ge(S))return S.value;if(fo(S))return c(S);if(Ce(S))return a?a(S,2):S()})):Ce(e)?t?d=a?()=>a(e,2):e:d=()=>{if(f){hn();try{f()}finally{pn()}}const S=Vn;Vn=u;try{return a?a(e,3,[h]):e(h)}finally{Vn=S}}:d=Kt,t&&i){const S=d,$=i===!0?1/0:i;d=()=>sn(S(),$)}const m=Or(),w=()=>{u.stop(),m&&m.active&&aa(m.effects,u)};if(r&&t){const S=t;t=(...$)=>{S(...$),w()}}let _=p?new Array(e.length).fill(Si):Si;const x=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const $=u.run();if(i||g||(p?$.some((F,W)=>cn(F,_[W])):cn($,_))){f&&f();const F=Vn;Vn=u;try{const W=[$,_===Si?void 0:p&&_[0]===Si?[]:_,h];_=$,a?a(t,3,W):t(...W)}finally{Vn=F}}}else u.run()};return l&&l(x),u=new Ud(d),u.scheduler=s?()=>s(x,!1):x,h=S=>nm(S,!1,u),f=u.onStop=()=>{const S=tr.get(u);if(S){if(a)a(S,4);else for(const $ of S)$();tr.delete(u)}},t?o?x(!0):_=u.run():s?s(x.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function sn(e,t=1/0,n){if(t<=0||!Le(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ge(e))sn(e.value,t,n);else if(we(e))for(let o=0;o<e.length;o++)sn(e[o],t,n);else if(Nr(e)||co(e))e.forEach(o=>{sn(o,t,n)});else if(Bd(e)){for(const o in e)sn(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&sn(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function mi(e,t,n,o){try{return o?e(...o):e()}catch(i){Dr(i,t,n)}}function Pt(e,t,n,o){if(Ce(e)){const i=mi(e,t,n,o);return i&&Fd(i)&&i.catch(r=>{Dr(r,t,n)}),i}if(we(e)){const i=[];for(let r=0;r<e.length;r++)i.push(Pt(e[r],t,n,o));return i}}function Dr(e,t,n,o=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||Fe;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,a,c)===!1)return}l=l.parent}if(r){hn(),mi(r,null,10,[e,a,c]),pn();return}}im(e,n,i,o,s)}function im(e,t,n,o=!0,i=!1){if(i)throw e;console.error(e)}const ft=[];let Yt=-1;const ho=[];let Nn=null,oo=0;const cf=Promise.resolve();let nr=null;function mt(e){const t=nr||cf;return e?t.then(this?e.bind(this):e):t}function rm(e){let t=Yt+1,n=ft.length;for(;t<n;){const o=t+n>>>1,i=ft[o],r=Qo(i);r<e||r===e&&i.flags&2?t=o+1:n=o}return t}function va(e){if(!(e.flags&1)){const t=Qo(e),n=ft[ft.length-1];!n||!(e.flags&2)&&t>=Qo(n)?ft.push(e):ft.splice(rm(t),0,e),e.flags|=1,df()}}function df(){nr||(nr=cf.then(hf))}function sm(e){we(e)?ho.push(...e):Nn&&e.id===-1?Nn.splice(oo+1,0,e):e.flags&1||(ho.push(e),e.flags|=1),df()}function eu(e,t,n=Yt+1){for(;n<ft.length;n++){const o=ft[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;ft.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function ff(e){if(ho.length){const t=[...new Set(ho)].sort((n,o)=>Qo(n)-Qo(o));if(ho.length=0,Nn){Nn.push(...t);return}for(Nn=t,oo=0;oo<Nn.length;oo++){const n=Nn[oo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Nn=null,oo=0}}const Qo=e=>e.id==null?e.flags&2?-1:1/0:e.id;function hf(e){try{for(Yt=0;Yt<ft.length;Yt++){const t=ft[Yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),mi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Yt<ft.length;Yt++){const t=ft[Yt];t&&(t.flags&=-2)}Yt=-1,ft.length=0,ff(),nr=null,(ft.length||ho.length)&&hf()}}let ot=null,pf=null;function or(e){const t=ot;return ot=e,pf=e&&e.type.__scopeId||null,t}function De(e,t=ot,n){if(!t||e._n)return e;const o=(...i)=>{o._d&&cu(-1);const r=or(t);let s;try{s=e(...i)}finally{or(r),o._d&&cu(1)}return s};return o._n=!0,o._c=!0,o._d=!0,o}function Gn(e,t){if(ot===null)return e;const n=Rr(ot),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,s,l,a=Fe]=t[i];r&&(Ce(r)&&(r={mounted:r,updated:r}),r.deep&&sn(s),o.push({dir:r,instance:n,value:s,oldValue:void 0,arg:l,modifiers:a}))}return e}function Ln(e,t,n,o){const i=e.dirs,r=t&&t.dirs;for(let s=0;s<i.length;s++){const l=i[s];r&&(l.oldValue=r[s].value);let a=l.dir[o];a&&(hn(),Pt(a,n,8,[e.el,l,e,t]),pn())}}const lm=Symbol("_vte"),am=e=>e.__isTeleport,eo=Symbol("_leaveCb"),Ci=Symbol("_enterCb");function um(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ut(()=>{e.isMounted=!0}),vi(()=>{e.isUnmounting=!0}),e}const Nt=[Function,Array],cm={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nt,onEnter:Nt,onAfterEnter:Nt,onEnterCancelled:Nt,onBeforeLeave:Nt,onLeave:Nt,onAfterLeave:Nt,onLeaveCancelled:Nt,onBeforeAppear:Nt,onAppear:Nt,onAfterAppear:Nt,onAppearCancelled:Nt};function dm(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function Tl(e,t,n,o,i){const{appear:r,mode:s,persisted:l=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:g,onLeaveCancelled:p,onBeforeAppear:m,onAppear:w,onAfterAppear:_,onAppearCancelled:x}=t,S=String(e.key),$=dm(n,e),F=(O,D)=>{O&&Pt(O,o,9,D)},W=(O,D)=>{const I=D[1];F(O,D),we(O)?O.every(E=>E.length<=1)&&I():O.length<=1&&I()},A={mode:s,persisted:l,beforeEnter(O){let D=a;if(!n.isMounted)if(r)D=m||a;else return;O[eo]&&O[eo](!0);const I=$[S];I&&io(e,I)&&I.el[eo]&&I.el[eo](),F(D,[O])},enter(O){let D=c,I=u,E=d;if(!n.isMounted)if(r)D=w||c,I=_||u,E=x||d;else return;let K=!1;const T=O[Ci]=q=>{K||(K=!0,q?F(E,[O]):F(I,[O]),A.delayedLeave&&A.delayedLeave(),O[Ci]=void 0)};D?W(D,[O,T]):T()},leave(O,D){const I=String(e.key);if(O[Ci]&&O[Ci](!0),n.isUnmounting)return D();F(f,[O]);let E=!1;const K=O[eo]=T=>{E||(E=!0,D(),T?F(p,[O]):F(g,[O]),O[eo]=void 0,$[I]===e&&delete $[I])};$[I]=e,h?W(h,[O,K]):K()},clone(O){return Tl(O,t,n,o)}};return A}function Jo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Jo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function gf(e,t=!1,n){let o=[],i=0;for(let r=0;r<e.length;r++){let s=e[r];const l=n==null?s.key:String(n)+String(s.key!=null?s.key:r);s.type===ve?(s.patchFlag&128&&i++,o=o.concat(gf(s.children,t,l))):(t||s.type!==Qt)&&o.push(l!=null?Kn(s,{key:l}):s)}if(i>1)for(let r=0;r<o.length;r++)o[r].patchFlag=-2;return o}/*! #__NO_SIDE_EFFECTS__ */function ze(e,t){return Ce(e)?et({name:e.name},t,{setup:e}):e}function mf(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function zo(e,t,n,o,i=!1){if(we(e)){e.forEach((g,p)=>zo(g,t&&(we(t)?t[p]:t),n,o,i));return}if(po(o)&&!i){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&zo(e,t,n,o.component.subTree);return}const r=o.shapeFlag&4?Rr(o.component):o.el,s=i?null:r,{i:l,r:a}=e,c=t&&t.r,u=l.refs===Fe?l.refs={}:l.refs,d=l.setupState,f=Ae(d),h=d===Fe?()=>!1:g=>Me(f,g);if(c!=null&&c!==a&&(je(c)?(u[c]=null,h(c)&&(d[c]=null)):Ge(c)&&(c.value=null)),Ce(a))mi(a,l,12,[s,u]);else{const g=je(a),p=Ge(a);if(g||p){const m=()=>{if(e.f){const w=g?h(a)?d[a]:u[a]:a.value;i?we(w)&&aa(w,r):we(w)?w.includes(r)||w.push(r):g?(u[a]=[r],h(a)&&(d[a]=u[a])):(a.value=[r],e.k&&(u[e.k]=a.value))}else g?(u[a]=s,h(a)&&(d[a]=s)):p&&(a.value=s,e.k&&(u[e.k]=s))};s?(m.id=-1,Et(m,n)):m()}}}Ar().requestIdleCallback;Ar().cancelIdleCallback;const po=e=>!!e.type.__asyncLoader,vf=e=>e.type.__isKeepAlive;function fm(e,t){yf(e,"a",t)}function hm(e,t){yf(e,"da",t)}function yf(e,t,n=lt){const o=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if($r(t,o,n),n){let i=n.parent;for(;i&&i.parent;)vf(i.parent.vnode)&&pm(o,t,n,i),i=i.parent}}function pm(e,t,n,o){const i=$r(t,e,o,!0);ya(()=>{aa(o[t],i)},n)}function $r(e,t,n=lt,o=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...s)=>{hn();const l=_i(n),a=Pt(t,n,e,s);return l(),pn(),a});return o?i.unshift(r):i.push(r),r}}const wn=e=>(t,n=lt)=>{(!ti||e==="sp")&&$r(e,(...o)=>t(...o),n)},_f=wn("bm"),ut=wn("m"),gm=wn("bu"),wf=wn("u"),vi=wn("bum"),ya=wn("um"),mm=wn("sp"),vm=wn("rtg"),ym=wn("rtc");function _m(e,t=lt){$r("ec",e,t)}const bf="components";function xf(e,t){return Cf(bf,e,!0,t)||e}const Ef=Symbol.for("v-ndc");function Sf(e){return je(e)?Cf(bf,e,!1)||e:e||Ef}function Cf(e,t,n=!0,o=!1){const i=ot||lt;if(i){const r=i.type;{const l=rv(r,!1);if(l&&(l===t||l===At(t)||l===Tr(At(t))))return r}const s=tu(i[e]||r[e],t)||tu(i.appContext[e],t);return!s&&o?r:s}}function tu(e,t){return e&&(e[t]||e[At(t)]||e[Tr(At(t))])}function We(e,t,n,o){let i;const r=n&&n[o],s=we(e);if(s||je(e)){const l=s&&fo(e);let a=!1,c=!1;l&&(a=!Tt(e),c=In(e),e=Mr(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(a?c?Ji(nt(e[u])):nt(e[u]):e[u],u,void 0,r&&r[u])}else if(typeof e=="number"){i=new Array(e);for(let l=0;l<e;l++)i[l]=t(l+1,l,void 0,r&&r[l])}else if(Le(e))if(e[Symbol.iterator])i=Array.from(e,(l,a)=>t(l,a,void 0,r&&r[a]));else{const l=Object.keys(e);i=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];i[a]=t(e[u],u,a,r&&r[a])}}else i=[];return n&&(n[o]=i),i}function Lt(e,t,n={},o,i){if(ot.ce||ot.parent&&po(ot.parent)&&ot.parent.ce)return t!=="default"&&(n.name=t),z(),Ve(ve,null,[pe("slot",n,o&&o())],64);let r=e[t];r&&r._c&&(r._d=!1),z();const s=r&&Nf(r(n)),l=n.key||s&&s.key,a=Ve(ve,{key:(l&&!$t(l)?l:`_${t}`)+(!s&&o?"_fb":"")},s||(o?o():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Nf(e){return e.some(t=>ei(t)?!(t.type===Qt||t.type===ve&&!Nf(t.children)):!0)?e:null}const Al=e=>e?Wf(e)?Rr(e):Al(e.parent):null,Yo=et(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Al(e.parent),$root:e=>Al(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Of(e),$forceUpdate:e=>e.f||(e.f=()=>{va(e.update)}),$nextTick:e=>e.n||(e.n=mt.bind(e.proxy)),$watch:e=>zm.bind(e)}),ls=(e,t)=>e!==Fe&&!e.__isScriptSetup&&Me(e,t),wm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:i,props:r,accessCache:s,type:l,appContext:a}=e;let c;if(t[0]!=="$"){const h=s[t];if(h!==void 0)switch(h){case 1:return o[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(ls(o,t))return s[t]=1,o[t];if(i!==Fe&&Me(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&Me(c,t))return s[t]=3,r[t];if(n!==Fe&&Me(n,t))return s[t]=4,n[t];Ol&&(s[t]=0)}}const u=Yo[t];let d,f;if(u)return t==="$attrs"&&st(e.attrs,"get",""),u(e);if((d=l.__cssModules)&&(d=d[t]))return d;if(n!==Fe&&Me(n,t))return s[t]=4,n[t];if(f=a.config.globalProperties,Me(f,t))return f[t]},set({_:e},t,n){const{data:o,setupState:i,ctx:r}=e;return ls(i,t)?(i[t]=n,!0):o!==Fe&&Me(o,t)?(o[t]=n,!0):Me(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:i,propsOptions:r}},s){let l;return!!n[s]||e!==Fe&&Me(e,s)||ls(t,s)||(l=r[0])&&Me(l,s)||Me(o,s)||Me(Yo,s)||Me(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Me(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function kf(){return Tf().slots}function bm(){return Tf().attrs}function Tf(e){const t=bn();return t.setupContext||(t.setupContext=Xf(t))}function nu(e){return we(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function xm(e,t){const n={};for(const o in e)t.includes(o)||Object.defineProperty(n,o,{enumerable:!0,get:()=>e[o]});return n}let Ol=!0;function Em(e){const t=Of(e),n=e.proxy,o=e.ctx;Ol=!1,t.beforeCreate&&ou(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:s,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:g,activated:p,deactivated:m,beforeDestroy:w,beforeUnmount:_,destroyed:x,unmounted:S,render:$,renderTracked:F,renderTriggered:W,errorCaptured:A,serverPrefetch:O,expose:D,inheritAttrs:I,components:E,directives:K,filters:T}=t;if(c&&Sm(c,o,null),s)for(const Q in s){const ee=s[Q];Ce(ee)&&(o[Q]=ee.bind(n))}if(i){const Q=i.call(n,n);Le(Q)&&(e.data=bt(Q))}if(Ol=!0,r)for(const Q in r){const ee=r[Q],re=Ce(ee)?ee.bind(n,n):Ce(ee.get)?ee.get.bind(n,n):Kt,se=!Ce(ee)&&Ce(ee.set)?ee.set.bind(n):Kt,ue=me({get:re,set:se});Object.defineProperty(o,Q,{enumerable:!0,configurable:!0,get:()=>ue.value,set:he=>ue.value=he})}if(l)for(const Q in l)Af(l[Q],o,n,Q);if(a){const Q=Ce(a)?a.call(n):a;Reflect.ownKeys(Q).forEach(ee=>{Mn(ee,Q[ee])})}u&&ou(u,e,"c");function P(Q,ee){we(ee)?ee.forEach(re=>Q(re.bind(n))):ee&&Q(ee.bind(n))}if(P(_f,d),P(ut,f),P(gm,h),P(wf,g),P(fm,p),P(hm,m),P(_m,A),P(ym,F),P(vm,W),P(vi,_),P(ya,S),P(mm,O),we(D))if(D.length){const Q=e.exposed||(e.exposed={});D.forEach(ee=>{Object.defineProperty(Q,ee,{get:()=>n[ee],set:re=>n[ee]=re,enumerable:!0})})}else e.exposed||(e.exposed={});$&&e.render===Kt&&(e.render=$),I!=null&&(e.inheritAttrs=I),E&&(e.components=E),K&&(e.directives=K),O&&mf(e)}function Sm(e,t,n=Kt){we(e)&&(e=Il(e));for(const o in e){const i=e[o];let r;Le(i)?"default"in i?r=Dt(i.from||o,i.default,!0):r=Dt(i.from||o):r=Dt(i),Ge(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:s=>r.value=s}):t[o]=r}}function ou(e,t,n){Pt(we(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Af(e,t,n,o){let i=o.includes(".")?jf(n,o):()=>n[o];if(je(e)){const r=t[e];Ce(r)&&Se(i,r)}else if(Ce(e))Se(i,e.bind(n));else if(Le(e))if(we(e))e.forEach(r=>Af(r,t,n,o));else{const r=Ce(e.handler)?e.handler.bind(n):t[e.handler];Ce(r)&&Se(i,r,e)}}function Of(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:s}}=e.appContext,l=r.get(t);let a;return l?a=l:!i.length&&!n&&!o?a=t:(a={},i.length&&i.forEach(c=>ir(a,c,s,!0)),ir(a,t,s)),Le(t)&&r.set(t,a),a}function ir(e,t,n,o=!1){const{mixins:i,extends:r}=t;r&&ir(e,r,n,!0),i&&i.forEach(s=>ir(e,s,n,!0));for(const s in t)if(!(o&&s==="expose")){const l=Cm[s]||n&&n[s];e[s]=l?l(e[s],t[s]):t[s]}return e}const Cm={data:iu,props:ru,emits:ru,methods:Do,computed:Do,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:Do,directives:Do,watch:km,provide:iu,inject:Nm};function iu(e,t){return t?e?function(){return et(Ce(e)?e.call(this,this):e,Ce(t)?t.call(this,this):t)}:t:e}function Nm(e,t){return Do(Il(e),Il(t))}function Il(e){if(we(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function dt(e,t){return e?[...new Set([].concat(e,t))]:t}function Do(e,t){return e?et(Object.create(null),e,t):t}function ru(e,t){return e?we(e)&&we(t)?[...new Set([...e,...t])]:et(Object.create(null),nu(e),nu(t??{})):t}function km(e,t){if(!e)return t;if(!t)return e;const n=et(Object.create(null),e);for(const o in t)n[o]=dt(e[o],t[o]);return n}function If(){return{app:null,config:{isNativeTag:hg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tm=0;function Am(e,t){return function(o,i=null){Ce(o)||(o=et({},o)),i!=null&&!Le(i)&&(i=null);const r=If(),s=new WeakSet,l=[];let a=!1;const c=r.app={_uid:Tm++,_component:o,_props:i,_container:null,_context:r,_instance:null,version:av,get config(){return r.config},set config(u){},use(u,...d){return s.has(u)||(u&&Ce(u.install)?(s.add(u),u.install(c,...d)):Ce(u)&&(s.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!a){const h=c._ceVNode||pe(o,i);return h.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),e(h,u,f),a=!0,c._container=u,u.__vue_app__=c,Rr(h.component)}},onUnmount(u){l.push(u)},unmount(){a&&(Pt(l,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=go;go=c;try{return u()}finally{go=d}}};return c}}let go=null;function Mn(e,t){if(lt){let n=lt.provides;const o=lt.parent&&lt.parent.provides;o===n&&(n=lt.provides=Object.create(o)),n[e]=t}}function Dt(e,t,n=!1){const o=bn();if(o||go){let i=go?go._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ce(t)?t.call(o&&o.proxy):t}}const Mf={},Df=()=>Object.create(Mf),$f=e=>Object.getPrototypeOf(e)===Mf;function Om(e,t,n,o=!1){const i={},r=Df();e.propsDefaults=Object.create(null),Pf(e,t,i,r);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=o?i:Ug(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function Im(e,t,n,o){const{props:i,attrs:r,vnode:{patchFlag:s}}=e,l=Ae(i),[a]=e.propsOptions;let c=!1;if((o||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Pr(e.emitsOptions,f))continue;const h=t[f];if(a)if(Me(r,f))h!==r[f]&&(r[f]=h,c=!0);else{const g=At(f);i[g]=Ml(a,l,g,h,e,!1)}else h!==r[f]&&(r[f]=h,c=!0)}}}else{Pf(e,t,i,r)&&(c=!0);let u;for(const d in l)(!t||!Me(t,d)&&((u=Pn(d))===d||!Me(t,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=Ml(a,l,d,void 0,e,!0)):delete i[d]);if(r!==l)for(const d in r)(!t||!Me(t,d))&&(delete r[d],c=!0)}c&&rn(e.attrs,"set","")}function Pf(e,t,n,o){const[i,r]=e.propsOptions;let s=!1,l;if(t)for(let a in t){if(Vo(a))continue;const c=t[a];let u;i&&Me(i,u=At(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:Pr(e.emitsOptions,a)||(!(a in o)||c!==o[a])&&(o[a]=c,s=!0)}if(r){const a=Ae(n),c=l||Fe;for(let u=0;u<r.length;u++){const d=r[u];n[d]=Ml(i,a,d,c[d],e,!Me(c,d))}}return s}function Ml(e,t,n,o,i,r){const s=e[n];if(s!=null){const l=Me(s,"default");if(l&&o===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&Ce(a)){const{propsDefaults:c}=i;if(n in c)o=c[n];else{const u=_i(i);o=c[n]=a.call(null,t),u()}}else o=a;i.ce&&i.ce._setProp(n,o)}s[0]&&(r&&!l?o=!1:s[1]&&(o===""||o===Pn(n))&&(o=!0))}return o}const Mm=new WeakMap;function Lf(e,t,n=!1){const o=n?Mm:t.propsCache,i=o.get(e);if(i)return i;const r=e.props,s={},l=[];let a=!1;if(!Ce(e)){const u=d=>{a=!0;const[f,h]=Lf(d,t,!0);et(s,f),h&&l.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!a)return Le(e)&&o.set(e,uo),uo;if(we(r))for(let u=0;u<r.length;u++){const d=At(r[u]);su(d)&&(s[d]=Fe)}else if(r)for(const u in r){const d=At(u);if(su(d)){const f=r[u],h=s[d]=we(f)||Ce(f)?{type:f}:et({},f),g=h.type;let p=!1,m=!0;if(we(g))for(let w=0;w<g.length;++w){const _=g[w],x=Ce(_)&&_.name;if(x==="Boolean"){p=!0;break}else x==="String"&&(m=!1)}else p=Ce(g)&&g.name==="Boolean";h[0]=p,h[1]=m,(p||Me(h,"default"))&&l.push(d)}}const c=[s,l];return Le(e)&&o.set(e,c),c}function su(e){return e[0]!=="$"&&!Vo(e)}const _a=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",wa=e=>we(e)?e.map(Ut):[Ut(e)],Dm=(e,t,n)=>{if(t._n)return t;const o=De((...i)=>wa(t(...i)),n);return o._c=!1,o},Rf=(e,t,n)=>{const o=e._ctx;for(const i in e){if(_a(i))continue;const r=e[i];if(Ce(r))t[i]=Dm(i,r,o);else if(r!=null){const s=wa(r);t[i]=()=>s}}},Ff=(e,t)=>{const n=wa(t);e.slots.default=()=>n},Vf=(e,t,n)=>{for(const o in t)(n||!_a(o))&&(e[o]=t[o])},$m=(e,t,n)=>{const o=e.slots=Df();if(e.vnode.shapeFlag&32){const i=t.__;i&&El(o,"__",i,!0);const r=t._;r?(Vf(o,t,n),n&&El(o,"_",r,!0)):Rf(t,o)}else t&&Ff(e,t)},Pm=(e,t,n)=>{const{vnode:o,slots:i}=e;let r=!0,s=Fe;if(o.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:Vf(i,t,n):(r=!t.$stable,Rf(t,i)),s=t}else t&&(Ff(e,t),s={default:1});if(r)for(const l in i)!_a(l)&&s[l]==null&&delete i[l]},Et=Xm;function Lm(e){return Rm(e)}function Rm(e,t){const n=Ar();n.__VUE__=!0;const{insert:o,remove:i,patchProp:r,createElement:s,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Kt,insertStaticContent:g}=e,p=(C,N,y,b=null,v=null,k=null,L=void 0,Z=null,H=!!N.dynamicChildren)=>{if(C===N)return;C&&!io(C,N)&&(b=le(C),he(C,v,k,!0),C=null),N.patchFlag===-2&&(H=!1,N.dynamicChildren=null);const{type:G,ref:ne,shapeFlag:te}=N;switch(G){case Lr:m(C,N,y,b);break;case Qt:w(C,N,y,b);break;case us:C==null&&_(N,y,b,L);break;case ve:E(C,N,y,b,v,k,L,Z,H);break;default:te&1?$(C,N,y,b,v,k,L,Z,H):te&6?K(C,N,y,b,v,k,L,Z,H):(te&64||te&128)&&G.process(C,N,y,b,v,k,L,Z,H,xe)}ne!=null&&v?zo(ne,C&&C.ref,k,N||C,!N):ne==null&&C&&C.ref!=null&&zo(C.ref,null,k,C,!0)},m=(C,N,y,b)=>{if(C==null)o(N.el=l(N.children),y,b);else{const v=N.el=C.el;N.children!==C.children&&c(v,N.children)}},w=(C,N,y,b)=>{C==null?o(N.el=a(N.children||""),y,b):N.el=C.el},_=(C,N,y,b)=>{[C.el,C.anchor]=g(C.children,N,y,b,C.el,C.anchor)},x=({el:C,anchor:N},y,b)=>{let v;for(;C&&C!==N;)v=f(C),o(C,y,b),C=v;o(N,y,b)},S=({el:C,anchor:N})=>{let y;for(;C&&C!==N;)y=f(C),i(C),C=y;i(N)},$=(C,N,y,b,v,k,L,Z,H)=>{N.type==="svg"?L="svg":N.type==="math"&&(L="mathml"),C==null?F(N,y,b,v,k,L,Z,H):O(C,N,v,k,L,Z,H)},F=(C,N,y,b,v,k,L,Z)=>{let H,G;const{props:ne,shapeFlag:te,transition:oe,dirs:ce}=C;if(H=C.el=s(C.type,k,ne&&ne.is,ne),te&8?u(H,C.children):te&16&&A(C.children,H,null,b,v,as(C,k),L,Z),ce&&Ln(C,null,b,"created"),W(H,C,C.scopeId,L,b),ne){for(const Oe in ne)Oe!=="value"&&!Vo(Oe)&&r(H,Oe,null,ne[Oe],k,b);"value"in ne&&r(H,"value",null,ne.value,k),(G=ne.onVnodeBeforeMount)&&jt(G,b,C)}ce&&Ln(C,null,b,"beforeMount");const Ne=Fm(v,oe);Ne&&oe.beforeEnter(H),o(H,N,y),((G=ne&&ne.onVnodeMounted)||Ne||ce)&&Et(()=>{G&&jt(G,b,C),Ne&&oe.enter(H),ce&&Ln(C,null,b,"mounted")},v)},W=(C,N,y,b,v)=>{if(y&&h(C,y),b)for(let k=0;k<b.length;k++)h(C,b[k]);if(v){let k=v.subTree;if(N===k||Yf(k.type)&&(k.ssContent===N||k.ssFallback===N)){const L=v.vnode;W(C,L,L.scopeId,L.slotScopeIds,v.parent)}}},A=(C,N,y,b,v,k,L,Z,H=0)=>{for(let G=H;G<C.length;G++){const ne=C[G]=Z?kn(C[G]):Ut(C[G]);p(null,ne,N,y,b,v,k,L,Z)}},O=(C,N,y,b,v,k,L)=>{const Z=N.el=C.el;let{patchFlag:H,dynamicChildren:G,dirs:ne}=N;H|=C.patchFlag&16;const te=C.props||Fe,oe=N.props||Fe;let ce;if(y&&Rn(y,!1),(ce=oe.onVnodeBeforeUpdate)&&jt(ce,y,N,C),ne&&Ln(N,C,y,"beforeUpdate"),y&&Rn(y,!0),(te.innerHTML&&oe.innerHTML==null||te.textContent&&oe.textContent==null)&&u(Z,""),G?D(C.dynamicChildren,G,Z,y,b,as(N,v),k):L||ee(C,N,Z,null,y,b,as(N,v),k,!1),H>0){if(H&16)I(Z,te,oe,y,v);else if(H&2&&te.class!==oe.class&&r(Z,"class",null,oe.class,v),H&4&&r(Z,"style",te.style,oe.style,v),H&8){const Ne=N.dynamicProps;for(let Oe=0;Oe<Ne.length;Oe++){const Ie=Ne[Oe],vt=te[Ie],yt=oe[Ie];(yt!==vt||Ie==="value")&&r(Z,Ie,vt,yt,v,y)}}H&1&&C.children!==N.children&&u(Z,N.children)}else!L&&G==null&&I(Z,te,oe,y,v);((ce=oe.onVnodeUpdated)||ne)&&Et(()=>{ce&&jt(ce,y,N,C),ne&&Ln(N,C,y,"updated")},b)},D=(C,N,y,b,v,k,L)=>{for(let Z=0;Z<N.length;Z++){const H=C[Z],G=N[Z],ne=H.el&&(H.type===ve||!io(H,G)||H.shapeFlag&198)?d(H.el):y;p(H,G,ne,null,b,v,k,L,!0)}},I=(C,N,y,b,v)=>{if(N!==y){if(N!==Fe)for(const k in N)!Vo(k)&&!(k in y)&&r(C,k,N[k],null,v,b);for(const k in y){if(Vo(k))continue;const L=y[k],Z=N[k];L!==Z&&k!=="value"&&r(C,k,Z,L,v,b)}"value"in y&&r(C,"value",N.value,y.value,v)}},E=(C,N,y,b,v,k,L,Z,H)=>{const G=N.el=C?C.el:l(""),ne=N.anchor=C?C.anchor:l("");let{patchFlag:te,dynamicChildren:oe,slotScopeIds:ce}=N;ce&&(Z=Z?Z.concat(ce):ce),C==null?(o(G,y,b),o(ne,y,b),A(N.children||[],y,ne,v,k,L,Z,H)):te>0&&te&64&&oe&&C.dynamicChildren?(D(C.dynamicChildren,oe,y,v,k,L,Z),(N.key!=null||v&&N===v.subTree)&&Bf(C,N,!0)):ee(C,N,y,ne,v,k,L,Z,H)},K=(C,N,y,b,v,k,L,Z,H)=>{N.slotScopeIds=Z,C==null?N.shapeFlag&512?v.ctx.activate(N,y,b,L,H):T(N,y,b,v,k,L,H):q(C,N,H)},T=(C,N,y,b,v,k,L)=>{const Z=C.component=tv(C,b,v);if(vf(C)&&(Z.ctx.renderer=xe),nv(Z,!1,L),Z.asyncDep){if(v&&v.registerDep(Z,P,L),!C.el){const H=Z.subTree=pe(Qt);w(null,H,N,y),C.placeholder=H.el}}else P(Z,C,N,y,v,k,L)},q=(C,N,y)=>{const b=N.component=C.component;if(Wm(C,N,y))if(b.asyncDep&&!b.asyncResolved){Q(b,N,y);return}else b.next=N,b.update();else N.el=C.el,b.vnode=N},P=(C,N,y,b,v,k,L)=>{const Z=()=>{if(C.isMounted){let{next:te,bu:oe,u:ce,parent:Ne,vnode:Oe}=C;{const Bt=Hf(C);if(Bt){te&&(te.el=Oe.el,Q(C,te,L)),Bt.asyncDep.then(()=>{C.isUnmounted||Z()});return}}let Ie=te,vt;Rn(C,!1),te?(te.el=Oe.el,Q(C,te,L)):te=Oe,oe&&Vi(oe),(vt=te.props&&te.props.onVnodeBeforeUpdate)&&jt(vt,Ne,te,Oe),Rn(C,!0);const yt=au(C),Vt=C.subTree;C.subTree=yt,p(Vt,yt,d(Vt.el),le(Vt),C,v,k),te.el=yt.el,Ie===null&&Km(C,yt.el),ce&&Et(ce,v),(vt=te.props&&te.props.onVnodeUpdated)&&Et(()=>jt(vt,Ne,te,Oe),v)}else{let te;const{el:oe,props:ce}=N,{bm:Ne,m:Oe,parent:Ie,root:vt,type:yt}=C,Vt=po(N);Rn(C,!1),Ne&&Vi(Ne),!Vt&&(te=ce&&ce.onVnodeBeforeMount)&&jt(te,Ie,N),Rn(C,!0);{vt.ce&&vt.ce._def.shadowRoot!==!1&&vt.ce._injectChildStyle(yt);const Bt=C.subTree=au(C);p(null,Bt,y,b,C,v,k),N.el=Bt.el}if(Oe&&Et(Oe,v),!Vt&&(te=ce&&ce.onVnodeMounted)){const Bt=N;Et(()=>jt(te,Ie,Bt),v)}(N.shapeFlag&256||Ie&&po(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&C.a&&Et(C.a,v),C.isMounted=!0,N=y=b=null}};C.scope.on();const H=C.effect=new Ud(Z);C.scope.off();const G=C.update=H.run.bind(H),ne=C.job=H.runIfDirty.bind(H);ne.i=C,ne.id=C.uid,H.scheduler=()=>va(ne),Rn(C,!0),G()},Q=(C,N,y)=>{N.component=C;const b=C.vnode.props;C.vnode=N,C.next=null,Im(C,N.props,b,y),Pm(C,N.children,y),hn(),eu(C),pn()},ee=(C,N,y,b,v,k,L,Z,H=!1)=>{const G=C&&C.children,ne=C?C.shapeFlag:0,te=N.children,{patchFlag:oe,shapeFlag:ce}=N;if(oe>0){if(oe&128){se(G,te,y,b,v,k,L,Z,H);return}else if(oe&256){re(G,te,y,b,v,k,L,Z,H);return}}ce&8?(ne&16&&X(G,v,k),te!==G&&u(y,te)):ne&16?ce&16?se(G,te,y,b,v,k,L,Z,H):X(G,v,k,!0):(ne&8&&u(y,""),ce&16&&A(te,y,b,v,k,L,Z,H))},re=(C,N,y,b,v,k,L,Z,H)=>{C=C||uo,N=N||uo;const G=C.length,ne=N.length,te=Math.min(G,ne);let oe;for(oe=0;oe<te;oe++){const ce=N[oe]=H?kn(N[oe]):Ut(N[oe]);p(C[oe],ce,y,null,v,k,L,Z,H)}G>ne?X(C,v,k,!0,!1,te):A(N,y,b,v,k,L,Z,H,te)},se=(C,N,y,b,v,k,L,Z,H)=>{let G=0;const ne=N.length;let te=C.length-1,oe=ne-1;for(;G<=te&&G<=oe;){const ce=C[G],Ne=N[G]=H?kn(N[G]):Ut(N[G]);if(io(ce,Ne))p(ce,Ne,y,null,v,k,L,Z,H);else break;G++}for(;G<=te&&G<=oe;){const ce=C[te],Ne=N[oe]=H?kn(N[oe]):Ut(N[oe]);if(io(ce,Ne))p(ce,Ne,y,null,v,k,L,Z,H);else break;te--,oe--}if(G>te){if(G<=oe){const ce=oe+1,Ne=ce<ne?N[ce].el:b;for(;G<=oe;)p(null,N[G]=H?kn(N[G]):Ut(N[G]),y,Ne,v,k,L,Z,H),G++}}else if(G>oe)for(;G<=te;)he(C[G],v,k,!0),G++;else{const ce=G,Ne=G,Oe=new Map;for(G=Ne;G<=oe;G++){const xt=N[G]=H?kn(N[G]):Ut(N[G]);xt.key!=null&&Oe.set(xt.key,G)}let Ie,vt=0;const yt=oe-Ne+1;let Vt=!1,Bt=0;const To=new Array(yt);for(G=0;G<yt;G++)To[G]=0;for(G=ce;G<=te;G++){const xt=C[G];if(vt>=yt){he(xt,v,k,!0);continue}let Ht;if(xt.key!=null)Ht=Oe.get(xt.key);else for(Ie=Ne;Ie<=oe;Ie++)if(To[Ie-Ne]===0&&io(xt,N[Ie])){Ht=Ie;break}Ht===void 0?he(xt,v,k,!0):(To[Ht-Ne]=G+1,Ht>=Bt?Bt=Ht:Vt=!0,p(xt,N[Ht],y,null,v,k,L,Z,H),vt++)}const qa=Vt?Vm(To):uo;for(Ie=qa.length-1,G=yt-1;G>=0;G--){const xt=Ne+G,Ht=N[xt],Wa=N[xt+1],Ka=xt+1<ne?Wa.el||Wa.placeholder:b;To[G]===0?p(null,Ht,y,Ka,v,k,L,Z,H):Vt&&(Ie<0||G!==qa[Ie]?ue(Ht,y,Ka,2):Ie--)}}},ue=(C,N,y,b,v=null)=>{const{el:k,type:L,transition:Z,children:H,shapeFlag:G}=C;if(G&6){ue(C.component.subTree,N,y,b);return}if(G&128){C.suspense.move(N,y,b);return}if(G&64){L.move(C,N,y,xe);return}if(L===ve){o(k,N,y);for(let te=0;te<H.length;te++)ue(H[te],N,y,b);o(C.anchor,N,y);return}if(L===us){x(C,N,y);return}if(b!==2&&G&1&&Z)if(b===0)Z.beforeEnter(k),o(k,N,y),Et(()=>Z.enter(k),v);else{const{leave:te,delayLeave:oe,afterLeave:ce}=Z,Ne=()=>{C.ctx.isUnmounted?i(k):o(k,N,y)},Oe=()=>{te(k,()=>{Ne(),ce&&ce()})};oe?oe(k,Ne,Oe):Oe()}else o(k,N,y)},he=(C,N,y,b=!1,v=!1)=>{const{type:k,props:L,ref:Z,children:H,dynamicChildren:G,shapeFlag:ne,patchFlag:te,dirs:oe,cacheIndex:ce}=C;if(te===-2&&(v=!1),Z!=null&&(hn(),zo(Z,null,y,C,!0),pn()),ce!=null&&(N.renderCache[ce]=void 0),ne&256){N.ctx.deactivate(C);return}const Ne=ne&1&&oe,Oe=!po(C);let Ie;if(Oe&&(Ie=L&&L.onVnodeBeforeUnmount)&&jt(Ie,N,C),ne&6)Y(C.component,y,b);else{if(ne&128){C.suspense.unmount(y,b);return}Ne&&Ln(C,null,N,"beforeUnmount"),ne&64?C.type.remove(C,N,y,xe,b):G&&!G.hasOnce&&(k!==ve||te>0&&te&64)?X(G,N,y,!1,!0):(k===ve&&te&384||!v&&ne&16)&&X(H,N,y),b&&V(C)}(Oe&&(Ie=L&&L.onVnodeUnmounted)||Ne)&&Et(()=>{Ie&&jt(Ie,N,C),Ne&&Ln(C,null,N,"unmounted")},y)},V=C=>{const{type:N,el:y,anchor:b,transition:v}=C;if(N===ve){R(y,b);return}if(N===us){S(C);return}const k=()=>{i(y),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(C.shapeFlag&1&&v&&!v.persisted){const{leave:L,delayLeave:Z}=v,H=()=>L(y,k);Z?Z(C.el,k,H):H()}else k()},R=(C,N)=>{let y;for(;C!==N;)y=f(C),i(C),C=y;i(N)},Y=(C,N,y)=>{const{bum:b,scope:v,job:k,subTree:L,um:Z,m:H,a:G,parent:ne,slots:{__:te}}=C;lu(H),lu(G),b&&Vi(b),ne&&we(te)&&te.forEach(oe=>{ne.renderCache[oe]=void 0}),v.stop(),k&&(k.flags|=8,he(L,C,N,y)),Z&&Et(Z,N),Et(()=>{C.isUnmounted=!0},N),N&&N.pendingBranch&&!N.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===N.pendingId&&(N.deps--,N.deps===0&&N.resolve())},X=(C,N,y,b=!1,v=!1,k=0)=>{for(let L=k;L<C.length;L++)he(C[L],N,y,b,v)},le=C=>{if(C.shapeFlag&6)return le(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const N=f(C.anchor||C.el),y=N&&N[lm];return y?f(y):N};let ae=!1;const ge=(C,N,y)=>{C==null?N._vnode&&he(N._vnode,null,null,!0):p(N._vnode||null,C,N,null,null,null,y),N._vnode=C,ae||(ae=!0,eu(),ff(),ae=!1)},xe={p,um:he,m:ue,r:V,mt:T,mc:A,pc:ee,pbc:D,n:le,o:e};return{render:ge,hydrate:void 0,createApp:Am(ge)}}function as({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Rn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Bf(e,t,n=!1){const o=e.children,i=t.children;if(we(o)&&we(i))for(let r=0;r<o.length;r++){const s=o[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=kn(i[r]),l.el=s.el),!n&&l.patchFlag!==-2&&Bf(s,l)),l.type===Lr&&(l.el=s.el),l.type===Qt&&!l.el&&(l.el=s.el)}}function Vm(e){const t=e.slice(),n=[0];let o,i,r,s,l;const a=e.length;for(o=0;o<a;o++){const c=e[o];if(c!==0){if(i=n[n.length-1],e[i]<c){t[o]=i,n.push(o);continue}for(r=0,s=n.length-1;r<s;)l=r+s>>1,e[n[l]]<c?r=l+1:s=l;c<e[n[r]]&&(r>0&&(t[o]=n[r-1]),n[r]=o)}}for(r=n.length,s=n[r-1];r-- >0;)n[r]=s,s=t[s];return n}function Hf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Hf(t)}function lu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Bm=Symbol.for("v-scx"),Hm=()=>Dt(Bm);function jm(e,t){return ba(e,null,t)}function Se(e,t,n){return ba(e,t,n)}function ba(e,t,n=Fe){const{immediate:o,deep:i,flush:r,once:s}=n,l=et({},n),a=t&&o||!t&&r!=="post";let c;if(ti){if(r==="sync"){const h=Hm();c=h.__watcherHandles||(h.__watcherHandles=[])}else if(!a){const h=()=>{};return h.stop=Kt,h.resume=Kt,h.pause=Kt,h}}const u=lt;l.call=(h,g,p)=>Pt(h,u,g,p);let d=!1;r==="post"?l.scheduler=h=>{Et(h,u&&u.suspense)}:r!=="sync"&&(d=!0,l.scheduler=(h,g)=>{g?h():va(h)}),l.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,u&&(h.id=u.uid,h.i=u))};const f=om(e,t,l);return ti&&(c?c.push(f):a&&f()),f}function zm(e,t,n){const o=this.proxy,i=je(e)?e.includes(".")?jf(o,e):()=>o[e]:e.bind(o,o);let r;Ce(t)?r=t:(r=t.handler,n=t);const s=_i(this),l=ba(i,r.bind(o),n);return s(),l}function jf(e,t){const n=t.split(".");return()=>{let o=e;for(let i=0;i<n.length&&o;i++)o=o[n[i]];return o}}const Ym=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${At(t)}Modifiers`]||e[`${Pn(t)}Modifiers`];function Gm(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Fe;let i=n;const r=t.startsWith("update:"),s=r&&Ym(o,t.slice(7));s&&(s.trim&&(i=n.map(u=>je(u)?u.trim():u)),s.number&&(i=n.map(Zi)));let l,a=o[l=ns(t)]||o[l=ns(At(t))];!a&&r&&(a=o[l=ns(Pn(t))]),a&&Pt(a,e,6,i);const c=o[l+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Pt(c,e,6,i)}}function zf(e,t,n=!1){const o=t.emitsCache,i=o.get(e);if(i!==void 0)return i;const r=e.emits;let s={},l=!1;if(!Ce(e)){const a=c=>{const u=zf(c,t,!0);u&&(l=!0,et(s,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!l?(Le(e)&&o.set(e,null),null):(we(r)?r.forEach(a=>s[a]=null):et(s,r),Le(e)&&o.set(e,s),s)}function Pr(e,t){return!e||!Cr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Me(e,t[0].toLowerCase()+t.slice(1))||Me(e,Pn(t))||Me(e,t))}function au(e){const{type:t,vnode:n,proxy:o,withProxy:i,propsOptions:[r],slots:s,attrs:l,emit:a,render:c,renderCache:u,props:d,data:f,setupState:h,ctx:g,inheritAttrs:p}=e,m=or(e);let w,_;try{if(n.shapeFlag&4){const S=i||o,$=S;w=Ut(c.call($,S,u,d,h,f,g)),_=l}else{const S=t;w=Ut(S.length>1?S(d,{attrs:l,slots:s,emit:a}):S(d,null)),_=t.props?l:Um(l)}}catch(S){Go.length=0,Dr(S,e,1),w=pe(Qt)}let x=w;if(_&&p!==!1){const S=Object.keys(_),{shapeFlag:$}=x;S.length&&$&7&&(r&&S.some(la)&&(_=qm(_,r)),x=Kn(x,_,!1,!0))}return n.dirs&&(x=Kn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&Jo(x,n.transition),w=x,or(m),w}const Um=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cr(n))&&((t||(t={}))[n]=e[n]);return t},qm=(e,t)=>{const n={};for(const o in e)(!la(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Wm(e,t,n){const{props:o,children:i,component:r}=e,{props:s,children:l,patchFlag:a}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return o?uu(o,s,c):!!s;if(a&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==o[f]&&!Pr(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:o===s?!1:o?s?uu(o,s,c):!0:!!s;return!1}function uu(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const r=o[i];if(t[r]!==e[r]&&!Pr(n,r))return!0}return!1}function Km({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Yf=e=>e.__isSuspense;function Xm(e,t){t&&t.pendingBranch?we(e)?t.effects.push(...e):t.effects.push(e):sm(e)}const ve=Symbol.for("v-fgt"),Lr=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),us=Symbol.for("v-stc"),Go=[];let gt=null;function z(e=!1){Go.push(gt=e?null:[])}function Zm(){Go.pop(),gt=Go[Go.length-1]||null}let wo=1;function cu(e,t=!1){wo+=e,e<0&&gt&&t&&(gt.hasOnce=!0)}function Gf(e){return e.dynamicChildren=wo>0?gt||uo:null,Zm(),wo>0&&gt&&gt.push(e),e}function J(e,t,n,o,i,r){return Gf(B(e,t,n,o,i,r,!0))}function Ve(e,t,n,o,i){return Gf(pe(e,t,n,o,i,!0))}function ei(e){return e?e.__v_isVNode===!0:!1}function io(e,t){return e.type===t.type&&e.key===t.key}const Uf=({key:e})=>e??null,Bi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?je(e)||Ge(e)||Ce(e)?{i:ot,r:e,k:t,f:!!n}:e:null);function B(e,t=null,n=null,o=0,i=null,r=e===ve?0:1,s=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Uf(t),ref:t&&Bi(t),scopeId:pf,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ot};return l?(xa(a,n),r&128&&e.normalize(a)):n&&(a.shapeFlag|=je(n)?8:16),wo>0&&!s&&gt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&gt.push(a),a}const pe=Qm;function Qm(e,t=null,n=null,o=0,i=null,r=!1){if((!e||e===Ef)&&(e=Qt),ei(e)){const l=Kn(e,t,!0);return n&&xa(l,n),wo>0&&!r&&gt&&(l.shapeFlag&6?gt[gt.indexOf(e)]=l:gt.push(l)),l.patchFlag=-2,l}if(sv(e)&&(e=e.__vccOpts),t){t=qf(t);let{class:l,style:a}=t;l&&!je(l)&&(t.class=Je(l)),Le(a)&&(ma(a)&&!we(a)&&(a=et({},a)),t.style=at(a))}const s=je(e)?1:Yf(e)?128:am(e)?64:Le(e)?4:Ce(e)?2:0;return B(e,t,n,o,i,s,r,!0)}function qf(e){return e?ma(e)||$f(e)?et({},e):e:null}function Kn(e,t,n=!1,o=!1){const{props:i,ref:r,patchFlag:s,children:l,transition:a}=e,c=t?gn(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Uf(c),ref:t&&t.ref?n&&r?we(r)?r.concat(Bi(t)):[r,Bi(t)]:Bi(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kn(e.ssContent),ssFallback:e.ssFallback&&Kn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&Jo(u,a.clone(u)),u}function yi(e=" ",t=0){return pe(Lr,null,e,t)}function Ee(e="",t=!1){return t?(z(),Ve(Qt,null,e)):pe(Qt,null,e)}function Ut(e){return e==null||typeof e=="boolean"?pe(Qt):we(e)?pe(ve,null,e.slice()):ei(e)?kn(e):pe(Lr,null,String(e))}function kn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kn(e)}function xa(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(we(t))n=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),xa(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!$f(t)?t._ctx=ot:i===3&&ot&&(ot.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ce(t)?(t={default:t,_ctx:ot},n=32):(t=String(t),o&64?(n=16,t=[yi(t)]):n=8);e.children=t,e.shapeFlag|=n}function gn(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=Je([t.class,o.class]));else if(i==="style")t.style=at([t.style,o.style]);else if(Cr(i)){const r=t[i],s=o[i];s&&r!==s&&!(we(r)&&r.includes(s))&&(t[i]=r?[].concat(r,s):s)}else i!==""&&(t[i]=o[i])}return t}function jt(e,t,n,o=null){Pt(e,t,7,[n,o])}const Jm=If();let ev=0;function tv(e,t,n){const o=e.type,i=(t?t.appContext:e.appContext)||Jm,r={uid:ev++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Lf(o,i),emitsOptions:zf(o,i),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:o.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Gm.bind(null,r),e.ce&&e.ce(r),r}let lt=null;const bn=()=>lt||ot;let rr,Dl;{const e=Ar(),t=(n,o)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(o),r=>{i.length>1?i.forEach(s=>s(r)):i[0](r)}};rr=t("__VUE_INSTANCE_SETTERS__",n=>lt=n),Dl=t("__VUE_SSR_SETTERS__",n=>ti=n)}const _i=e=>{const t=lt;return rr(e),e.scope.on(),()=>{e.scope.off(),rr(t)}},du=()=>{lt&&lt.scope.off(),rr(null)};function Wf(e){return e.vnode.shapeFlag&4}let ti=!1;function nv(e,t=!1,n=!1){t&&Dl(t);const{props:o,children:i}=e.vnode,r=Wf(e);Om(e,o,r,t),$m(e,i,n||t);const s=r?ov(e,t):void 0;return t&&Dl(!1),s}function ov(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wm);const{setup:o}=n;if(o){hn();const i=e.setupContext=o.length>1?Xf(e):null,r=_i(e),s=mi(o,e,0,[e.props,i]),l=Fd(s);if(pn(),r(),(l||e.sp)&&!po(e)&&mf(e),l){if(s.then(du,du),t)return s.then(a=>{fu(e,a)}).catch(a=>{Dr(a,e,0)});e.asyncDep=s}else fu(e,s)}else Kf(e)}function fu(e,t,n){Ce(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=af(t)),Kf(e)}function Kf(e,t,n){const o=e.type;e.render||(e.render=o.render||Kt);{const i=_i(e);hn();try{Em(e)}finally{pn(),i()}}}const iv={get(e,t){return st(e,"get",""),e[t]}};function Xf(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iv),slots:e.slots,emit:e.emit,expose:t}}function Rr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(af(Yn(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yo)return Yo[n](e)},has(t,n){return n in t||n in Yo}})):e.proxy}function rv(e,t=!0){return Ce(e)?e.displayName||e.name:e.name||t&&e.__name}function sv(e){return Ce(e)&&"__vccOpts"in e}const me=(e,t)=>tm(e,t,ti);function Pe(e,t,n){const o=arguments.length;return o===2?Le(t)&&!we(t)?ei(t)?pe(e,null,[t]):pe(e,t):pe(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&ei(n)&&(n=[n]),pe(e,t,n))}function lv(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let o=0;o<n.length;o++)if(cn(n[o],t[o]))return!1;return wo>0&&gt&&gt.push(e),!0}const av="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $l;const hu=typeof window<"u"&&window.trustedTypes;if(hu)try{$l=hu.createPolicy("vue",{createHTML:e=>e})}catch{}const Zf=$l?e=>$l.createHTML(e):e=>e,uv="http://www.w3.org/2000/svg",cv="http://www.w3.org/1998/Math/MathML",on=typeof document<"u"?document:null,pu=on&&on.createElement("template"),dv={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const i=t==="svg"?on.createElementNS(uv,e):t==="mathml"?on.createElementNS(cv,e):n?on.createElement(e,{is:n}):on.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>on.createTextNode(e),createComment:e=>on.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>on.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,i,r){const s=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{pu.innerHTML=Zf(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const l=pu.content;if(o==="svg"||o==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},xn="transition",Oo="animation",bo=Symbol("_vtc"),Qf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fv=et({},cm,Qf),Fn=(e,t=[])=>{we(e)?e.forEach(n=>n(...t)):e&&e(...t)},gu=e=>e?we(e)?e.some(t=>t.length>1):e.length>1:!1;function hv(e){const t={};for(const E in e)E in Qf||(t[E]=e[E]);if(e.css===!1)return t;const{name:n="v",type:o,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:a=r,appearActiveClass:c=s,appearToClass:u=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=e,g=pv(i),p=g&&g[0],m=g&&g[1],{onBeforeEnter:w,onEnter:_,onEnterCancelled:x,onLeave:S,onLeaveCancelled:$,onBeforeAppear:F=w,onAppear:W=_,onAppearCancelled:A=x}=t,O=(E,K,T,q)=>{E._enterCancelled=q,Sn(E,K?u:l),Sn(E,K?c:s),T&&T()},D=(E,K)=>{E._isLeaving=!1,Sn(E,d),Sn(E,h),Sn(E,f),K&&K()},I=E=>(K,T)=>{const q=E?W:_,P=()=>O(K,E,T);Fn(q,[K,P]),mu(()=>{Sn(K,E?a:r),zt(K,E?u:l),gu(q)||vu(K,o,p,P)})};return et(t,{onBeforeEnter(E){Fn(w,[E]),zt(E,r),zt(E,s)},onBeforeAppear(E){Fn(F,[E]),zt(E,a),zt(E,c)},onEnter:I(!1),onAppear:I(!0),onLeave(E,K){E._isLeaving=!0;const T=()=>D(E,K);zt(E,d),E._enterCancelled?(zt(E,f),Pl()):(Pl(),zt(E,f)),mu(()=>{E._isLeaving&&(Sn(E,d),zt(E,h),gu(S)||vu(E,o,m,T))}),Fn(S,[E,T])},onEnterCancelled(E){O(E,!1,void 0,!0),Fn(x,[E])},onAppearCancelled(E){O(E,!0,void 0,!0),Fn(A,[E])},onLeaveCancelled(E){D(E),Fn($,[E])}})}function pv(e){if(e==null)return null;if(Le(e))return[cs(e.enter),cs(e.leave)];{const t=cs(e);return[t,t]}}function cs(e){return yg(e)}function zt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[bo]||(e[bo]=new Set)).add(t)}function Sn(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const n=e[bo];n&&(n.delete(t),n.size||(e[bo]=void 0))}function mu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gv=0;function vu(e,t,n,o){const i=e._endId=++gv,r=()=>{i===e._endId&&o()};if(n!=null)return setTimeout(r,n);const{type:s,timeout:l,propCount:a}=Jf(e,t);if(!s)return o();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,f),r()},f=h=>{h.target===e&&++u>=a&&d()};setTimeout(()=>{u<a&&d()},l+1),e.addEventListener(c,f)}function Jf(e,t){const n=window.getComputedStyle(e),o=g=>(n[g]||"").split(", "),i=o(`${xn}Delay`),r=o(`${xn}Duration`),s=yu(i,r),l=o(`${Oo}Delay`),a=o(`${Oo}Duration`),c=yu(l,a);let u=null,d=0,f=0;t===xn?s>0&&(u=xn,d=s,f=r.length):t===Oo?c>0&&(u=Oo,d=c,f=a.length):(d=Math.max(s,c),u=d>0?s>c?xn:Oo:null,f=u?u===xn?r.length:a.length:0);const h=u===xn&&/\b(transform|all)(,|$)/.test(o(`${xn}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function yu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,o)=>_u(n)+_u(e[o])))}function _u(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Pl(){return document.body.offsetHeight}function mv(e,t,n){const o=e[bo];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const wu=Symbol("_vod"),vv=Symbol("_vsh"),yv=Symbol(""),_v=/(^|;)\s*display\s*:/;function wv(e,t,n){const o=e.style,i=je(n);let r=!1;if(n&&!i){if(t)if(je(t))for(const s of t.split(";")){const l=s.slice(0,s.indexOf(":")).trim();n[l]==null&&Hi(o,l,"")}else for(const s in t)n[s]==null&&Hi(o,s,"");for(const s in n)s==="display"&&(r=!0),Hi(o,s,n[s])}else if(i){if(t!==n){const s=o[yv];s&&(n+=";"+s),o.cssText=n,r=_v.test(n)}}else t&&e.removeAttribute("style");wu in e&&(e[wu]=r?o.display:"",e[vv]&&(o.display="none"))}const bu=/\s*!important$/;function Hi(e,t,n){if(we(n))n.forEach(o=>Hi(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=bv(e,t);bu.test(n)?e.setProperty(Pn(o),n.replace(bu,""),"important"):e[o]=n}}const xu=["Webkit","Moz","ms"],ds={};function bv(e,t){const n=ds[t];if(n)return n;let o=At(t);if(o!=="filter"&&o in e)return ds[t]=o;o=Tr(o);for(let i=0;i<xu.length;i++){const r=xu[i]+o;if(r in e)return ds[t]=r}return t}const Eu="http://www.w3.org/1999/xlink";function Su(e,t,n,o,i,r=Sg(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Eu,t.slice(6,t.length)):e.setAttributeNS(Eu,t,n):n==null||r&&!Hd(n)?e.removeAttribute(t):e.setAttribute(t,r?"":$t(n)?String(n):n)}function Cu(e,t,n,o,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Zf(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(l!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Hd(n):n==null&&l==="string"?(n="",s=!0):l==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function An(e,t,n,o){e.addEventListener(t,n,o)}function xv(e,t,n,o){e.removeEventListener(t,n,o)}const Nu=Symbol("_vei");function Ev(e,t,n,o,i=null){const r=e[Nu]||(e[Nu]={}),s=r[t];if(o&&s)s.value=o;else{const[l,a]=Sv(t);if(o){const c=r[t]=kv(o,i);An(e,l,c,a)}else s&&(xv(e,l,s,a),r[t]=void 0)}}const ku=/(?:Once|Passive|Capture)$/;function Sv(e){let t;if(ku.test(e)){t={};let o;for(;o=e.match(ku);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Pn(e.slice(2)),t]}let fs=0;const Cv=Promise.resolve(),Nv=()=>fs||(Cv.then(()=>fs=0),fs=Date.now());function kv(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;Pt(Tv(o,n.value),t,5,[o])};return n.value=e,n.attached=Nv(),n}function Tv(e,t){if(we(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const Tu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Av=(e,t,n,o,i,r)=>{const s=i==="svg";t==="class"?mv(e,o,s):t==="style"?wv(e,n,o):Cr(t)?la(t)||Ev(e,t,n,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ov(e,t,o,s))?(Cu(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Su(e,t,o,s,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!je(o))?Cu(e,At(t),o,r,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Su(e,t,o,s))};function Ov(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Tu(t)&&Ce(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Tu(t)&&je(n)?!1:t in e}const eh=new WeakMap,th=new WeakMap,sr=Symbol("_moveCb"),Au=Symbol("_enterCb"),Iv=e=>(delete e.props.mode,e),Mv=Iv({name:"TransitionGroup",props:et({},fv,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=bn(),o=um();let i,r;return wf(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!Lv(i[0].el,n.vnode.el,s)){i=[];return}i.forEach(Dv),i.forEach($v);const l=i.filter(Pv);Pl(),l.forEach(a=>{const c=a.el,u=c.style;zt(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[sr]=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c[sr]=null,Sn(c,s))};c.addEventListener("transitionend",d)}),i=[]}),()=>{const s=Ae(e),l=hv(s);let a=s.tag||ve;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),Jo(u,Tl(u,l,o,n)),eh.set(u,u.el.getBoundingClientRect()))}r=t.default?gf(t.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&Jo(u,Tl(u,l,o,n))}return pe(a,null,r)}}}),Ea=Mv;function Dv(e){const t=e.el;t[sr]&&t[sr](),t[Au]&&t[Au]()}function $v(e){th.set(e,e.el.getBoundingClientRect())}function Pv(e){const t=eh.get(e),n=th.get(e),o=t.left-n.left,i=t.top-n.top;if(o||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${o}px,${i}px)`,r.transitionDuration="0s",e}}function Lv(e,t,n){const o=e.cloneNode(),i=e[bo];i&&i.forEach(l=>{l.split(/\s+/).forEach(a=>a&&o.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&o.classList.add(l)),o.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(o);const{hasTransform:s}=Jf(o);return r.removeChild(o),s}const xo=e=>{const t=e.props["onUpdate:modelValue"]||!1;return we(t)?n=>Vi(t,n):t};function Rv(e){e.target.composing=!0}function Ou(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const dn=Symbol("_assign"),Sa={created(e,{modifiers:{lazy:t,trim:n,number:o}},i){e[dn]=xo(i);const r=o||i.props&&i.props.type==="number";An(e,t?"change":"input",s=>{if(s.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Zi(l)),e[dn](l)}),n&&An(e,"change",()=>{e.value=e.value.trim()}),t||(An(e,"compositionstart",Rv),An(e,"compositionend",Ou),An(e,"change",Ou))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:i,number:r}},s){if(e[dn]=xo(s),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Zi(e.value):e.value,a=t??"";l!==a&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||i&&e.value.trim()===a)||(e.value=a))}},Fv={created(e,{value:t},n){e.checked=_o(t,n.props.value),e[dn]=xo(n),An(e,"change",()=>{e[dn](ni(e))})},beforeUpdate(e,{value:t,oldValue:n},o){e[dn]=xo(o),t!==n&&(e.checked=_o(t,o.props.value))}},Ll={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const i=Nr(t);An(e,"change",()=>{const r=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?Zi(ni(s)):ni(s));e[dn](e.multiple?i?new Set(r):r:r[0]),e._assigning=!0,mt(()=>{e._assigning=!1})}),e[dn]=xo(o)},mounted(e,{value:t}){Iu(e,t)},beforeUpdate(e,t,n){e[dn]=xo(n)},updated(e,{value:t}){e._assigning||Iu(e,t)}};function Iu(e,t){const n=e.multiple,o=we(t);if(!(n&&!o&&!Nr(t))){for(let i=0,r=e.options.length;i<r;i++){const s=e.options[i],l=ni(s);if(n)if(o){const a=typeof l;a==="string"||a==="number"?s.selected=t.some(c=>String(c)===String(l)):s.selected=Ng(t,l)>-1}else s.selected=t.has(l);else if(_o(ni(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ni(e){return"_value"in e?e._value:e.value}const Vv=["ctrl","shift","alt","meta"],Bv={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Vv.some(n=>e[`${n}Key`]&&!t.includes(n))},ji=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(i,...r)=>{for(let s=0;s<t.length;s++){const l=Bv[t[s]];if(l&&l(i,t))return}return e(i,...r)})},Hv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zi=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=i=>{if(!("key"in i))return;const r=Pn(i.key);if(t.some(s=>s===r||Hv[s]===r))return e(i)})},jv=et({patchProp:Av},dv);let Mu;function zv(){return Mu||(Mu=Lm(jv))}const Yv=(...e)=>{const t=zv().createApp(...e),{mount:n}=t;return t.mount=o=>{const i=Uv(o);if(!i)return;const r=t._component;!Ce(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,Gv(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function Gv(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Uv(e){return je(e)?document.querySelector(e):e}function Fr(e){return Or()?(Bo(e),!0):!1}function ln(e){return typeof e=="function"?e():M(e)}const qv=typeof window<"u"&&typeof document<"u",Wv=e=>typeof e<"u",Kv=Object.prototype.toString,Xv=e=>Kv.call(e)==="[object Object]",Zv=()=>{};function Qv(e,t){function n(...o){return new Promise((i,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(i).catch(r)})}return n}const nh=e=>e();function Jv(e=nh){const t=be(!0);function n(){t.value=!1}function o(){t.value=!0}const i=(...r)=>{t.value&&e(...r)};return{isActive:pa(t),pause:n,resume:o,eventFilter:i}}function Du(e,t=!1,n="Timeout"){return new Promise((o,i)=>{setTimeout(t?()=>i(n):o,e)})}function ey(e,t,n={}){const{eventFilter:o=nh,...i}=n;return Se(e,Qv(o,t),i)}function to(e,t,n={}){const{eventFilter:o,...i}=n,{eventFilter:r,pause:s,resume:l,isActive:a}=Jv(o);return{stop:ey(e,t,{...i,eventFilter:r}),pause:s,resume:l,isActive:a}}function ty(e,t={}){if(!Ge(e))return Zg(e);const n=Array.isArray(e.value)?Array.from({length:e.value.length}):{};for(const o in e.value)n[o]=Xg(()=>({get(){return e.value[o]},set(i){var r;if((r=ln(t.replaceRef))!=null?r:!0)if(Array.isArray(e.value)){const l=[...e.value];l[o]=i,e.value=l}else{const l={...e.value,[o]:i};Object.setPrototypeOf(l,Object.getPrototypeOf(e.value)),e.value=l}else e.value[o]=i}}));return n}function Rl(e,t=!1){function n(d,{flush:f="sync",deep:h=!1,timeout:g,throwOnTimeout:p}={}){let m=null;const _=[new Promise(x=>{m=Se(e,S=>{d(S)!==t&&(m?.(),x(S))},{flush:f,deep:h,immediate:!0})})];return g!=null&&_.push(Du(g,p).then(()=>ln(e)).finally(()=>m?.())),Promise.race(_)}function o(d,f){if(!Ge(d))return n(S=>S===d,f);const{flush:h="sync",deep:g=!1,timeout:p,throwOnTimeout:m}=f??{};let w=null;const x=[new Promise(S=>{w=Se([e,d],([$,F])=>{t!==($===F)&&(w?.(),S($))},{flush:h,deep:g,immediate:!0})})];return p!=null&&x.push(Du(p,m).then(()=>ln(e)).finally(()=>(w?.(),ln(e)))),Promise.race(x)}function i(d){return n(f=>!!f,d)}function r(d){return o(null,d)}function s(d){return o(void 0,d)}function l(d){return n(Number.isNaN,d)}function a(d,f){return n(h=>{const g=Array.from(h);return g.includes(d)||g.includes(ln(d))},f)}function c(d){return u(1,d)}function u(d=1,f){let h=-1;return n(()=>(h+=1,h>=d),f)}return Array.isArray(ln(e))?{toMatch:n,toContains:a,changed:c,changedTimes:u,get not(){return Rl(e,!t)}}:{toMatch:n,toBe:o,toBeTruthy:i,toBeNull:r,toBeNaN:l,toBeUndefined:s,changed:c,changedTimes:u,get not(){return Rl(e,!t)}}}function Fl(e){return Rl(e)}function ny(e){var t;const n=ln(e);return(t=n?.$el)!=null?t:n}const oh=qv?window:void 0;function ih(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=oh):[t,n,o,i]=e,!t)return Zv;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],s=()=>{r.forEach(u=>u()),r.length=0},l=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),a=Se(()=>[ny(t),ln(i)],([u,d])=>{if(s(),!u)return;const f=Xv(d)?{...d}:d;r.push(...n.flatMap(h=>o.map(g=>l(u,h,g,f))))},{immediate:!0,flush:"post"}),c=()=>{a(),s()};return Fr(c),c}function oy(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function $u(...e){let t,n,o={};e.length===3?(t=e[0],n=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,n=e[0],o=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=oh,eventName:r="keydown",passive:s=!1,dedupe:l=!1}=o,a=oy(t);return ih(i,r,u=>{u.repeat&&ln(l)||a(u)&&n(u)},s)}function iy(e){return JSON.parse(JSON.stringify(e))}function hs(e,t,n,o={}){var i,r,s;const{clone:l=!1,passive:a=!1,eventName:c,deep:u=!1,defaultValue:d,shouldEmit:f}=o,h=bn(),g=n||h?.emit||((i=h?.$emit)==null?void 0:i.bind(h))||((s=(r=h?.proxy)==null?void 0:r.$emit)==null?void 0:s.bind(h?.proxy));let p=c;t||(t="modelValue"),p=p||`update:${t.toString()}`;const m=x=>l?typeof l=="function"?l(x):iy(x):x,w=()=>Wv(e[t])?m(e[t]):d,_=x=>{f?f(x)&&g(p,x):g(p,x)};if(a){const x=w(),S=be(x);let $=!1;return Se(()=>e[t],F=>{$||($=!0,S.value=m(F),mt(()=>$=!1))}),Se(S,F=>{!$&&(F!==e[t]||u)&&_(F)},{deep:u}),S}else return me({get(){return w()},set(x){_(x)}})}var ry={value:()=>{}};function Vr(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Yi(n)}function Yi(e){this._=e}function sy(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Yi.prototype=Vr.prototype={constructor:Yi,on:function(e,t){var n=this._,o=sy(e+"",n),i,r=-1,s=o.length;if(arguments.length<2){for(;++r<s;)if((i=(e=o[r]).type)&&(i=ly(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(i=(e=o[r]).type)n[i]=Pu(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Pu(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yi(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function ly(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function Pu(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=ry,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Vl="http://www.w3.org/1999/xhtml";const Lu={svg:"http://www.w3.org/2000/svg",xhtml:Vl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Br(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Lu.hasOwnProperty(t)?{space:Lu[t],local:e}:e}function ay(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Vl&&t.documentElement.namespaceURI===Vl?t.createElement(e):t.createElementNS(n,e)}}function uy(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function rh(e){var t=Br(e);return(t.local?uy:ay)(t)}function cy(){}function Ca(e){return e==null?cy:function(){return this.querySelector(e)}}function dy(e){typeof e!="function"&&(e=Ca(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],s=r.length,l=o[i]=new Array(s),a,c,u=0;u<s;++u)(a=r[u])&&(c=e.call(a,a.__data__,u,r))&&("__data__"in a&&(c.__data__=a.__data__),l[u]=c);return new Ct(o,this._parents)}function fy(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function hy(){return[]}function sh(e){return e==null?hy:function(){return this.querySelectorAll(e)}}function py(e){return function(){return fy(e.apply(this,arguments))}}function gy(e){typeof e=="function"?e=py(e):e=sh(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var s=t[r],l=s.length,a,c=0;c<l;++c)(a=s[c])&&(o.push(e.call(a,a.__data__,c,s)),i.push(a));return new Ct(o,i)}function lh(e){return function(){return this.matches(e)}}function ah(e){return function(t){return t.matches(e)}}var my=Array.prototype.find;function vy(e){return function(){return my.call(this.children,e)}}function yy(){return this.firstElementChild}function _y(e){return this.select(e==null?yy:vy(typeof e=="function"?e:ah(e)))}var wy=Array.prototype.filter;function by(){return Array.from(this.children)}function xy(e){return function(){return wy.call(this.children,e)}}function Ey(e){return this.selectAll(e==null?by:xy(typeof e=="function"?e:ah(e)))}function Sy(e){typeof e!="function"&&(e=lh(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],s=r.length,l=o[i]=[],a,c=0;c<s;++c)(a=r[c])&&e.call(a,a.__data__,c,r)&&l.push(a);return new Ct(o,this._parents)}function uh(e){return new Array(e.length)}function Cy(){return new Ct(this._enter||this._groups.map(uh),this._parents)}function lr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}lr.prototype={constructor:lr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ny(e){return function(){return e}}function ky(e,t,n,o,i,r){for(var s=0,l,a=t.length,c=r.length;s<c;++s)(l=t[s])?(l.__data__=r[s],o[s]=l):n[s]=new lr(e,r[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function Ty(e,t,n,o,i,r,s){var l,a,c=new Map,u=t.length,d=r.length,f=new Array(u),h;for(l=0;l<u;++l)(a=t[l])&&(f[l]=h=s.call(a,a.__data__,l,t)+"",c.has(h)?i[l]=a:c.set(h,a));for(l=0;l<d;++l)h=s.call(e,r[l],l,r)+"",(a=c.get(h))?(o[l]=a,a.__data__=r[l],c.delete(h)):n[l]=new lr(e,r[l]);for(l=0;l<u;++l)(a=t[l])&&c.get(f[l])===a&&(i[l]=a)}function Ay(e){return e.__data__}function Oy(e,t){if(!arguments.length)return Array.from(this,Ay);var n=t?Ty:ky,o=this._parents,i=this._groups;typeof e!="function"&&(e=Ny(e));for(var r=i.length,s=new Array(r),l=new Array(r),a=new Array(r),c=0;c<r;++c){var u=o[c],d=i[c],f=d.length,h=Iy(e.call(u,u&&u.__data__,c,o)),g=h.length,p=l[c]=new Array(g),m=s[c]=new Array(g),w=a[c]=new Array(f);n(u,d,p,m,w,h,t);for(var _=0,x=0,S,$;_<g;++_)if(S=p[_]){for(_>=x&&(x=_+1);!($=m[x])&&++x<g;);S._next=$||null}}return s=new Ct(s,o),s._enter=l,s._exit=a,s}function Iy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function My(){return new Ct(this._exit||this._groups.map(uh),this._parents)}function Dy(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function $y(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,s=Math.min(i,r),l=new Array(i),a=0;a<s;++a)for(var c=n[a],u=o[a],d=c.length,f=l[a]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;a<i;++a)l[a]=n[a];return new Ct(l,this._parents)}function Py(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],s;--i>=0;)(s=o[i])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Ly(e){e||(e=Ry);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var s=n[r],l=s.length,a=i[r]=new Array(l),c,u=0;u<l;++u)(c=s[u])&&(a[u]=c);a.sort(t)}return new Ct(i,this._parents).order()}function Ry(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fy(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vy(){return Array.from(this)}function By(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var s=o[i];if(s)return s}return null}function Hy(){let e=0;for(const t of this)++e;return e}function jy(){return!this.node()}function zy(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,s=i.length,l;r<s;++r)(l=i[r])&&e.call(l,l.__data__,r,i);return this}function Yy(e){return function(){this.removeAttribute(e)}}function Gy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Uy(e,t){return function(){this.setAttribute(e,t)}}function qy(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Wy(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ky(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xy(e,t){var n=Br(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Gy:Yy:typeof t=="function"?n.local?Ky:Wy:n.local?qy:Uy)(n,t))}function ch(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zy(e){return function(){this.style.removeProperty(e)}}function Qy(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Jy(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function e0(e,t,n){return arguments.length>1?this.each((t==null?Zy:typeof t=="function"?Jy:Qy)(e,t,n??"")):Eo(this.node(),e)}function Eo(e,t){return e.style.getPropertyValue(t)||ch(e).getComputedStyle(e,null).getPropertyValue(t)}function t0(e){return function(){delete this[e]}}function n0(e,t){return function(){this[e]=t}}function o0(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function i0(e,t){return arguments.length>1?this.each((t==null?t0:typeof t=="function"?o0:n0)(e,t)):this.node()[e]}function dh(e){return e.trim().split(/^|\s+/)}function Na(e){return e.classList||new fh(e)}function fh(e){this._node=e,this._names=dh(e.getAttribute("class")||"")}fh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function hh(e,t){for(var n=Na(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function ph(e,t){for(var n=Na(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function r0(e){return function(){hh(this,e)}}function s0(e){return function(){ph(this,e)}}function l0(e,t){return function(){(t.apply(this,arguments)?hh:ph)(this,e)}}function a0(e,t){var n=dh(e+"");if(arguments.length<2){for(var o=Na(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?l0:t?r0:s0)(n,t))}function u0(){this.textContent=""}function c0(e){return function(){this.textContent=e}}function d0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function f0(e){return arguments.length?this.each(e==null?u0:(typeof e=="function"?d0:c0)(e)):this.node().textContent}function h0(){this.innerHTML=""}function p0(e){return function(){this.innerHTML=e}}function g0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function m0(e){return arguments.length?this.each(e==null?h0:(typeof e=="function"?g0:p0)(e)):this.node().innerHTML}function v0(){this.nextSibling&&this.parentNode.appendChild(this)}function y0(){return this.each(v0)}function _0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function w0(){return this.each(_0)}function b0(e){var t=typeof e=="function"?e:rh(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function x0(){return null}function E0(e,t){var n=typeof e=="function"?e:rh(e),o=t==null?x0:typeof t=="function"?t:Ca(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function S0(){var e=this.parentNode;e&&e.removeChild(this)}function C0(){return this.each(S0)}function N0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function k0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function T0(e){return this.select(e?k0:N0)}function A0(e){return arguments.length?this.property("__data__",e):this.node().__data__}function O0(e){return function(t){e.call(this,t,this.__data__)}}function I0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function M0(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function D0(e,t,n){return function(){var o=this.__on,i,r=O0(t);if(o){for(var s=0,l=o.length;s<l;++s)if((i=o[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function $0(e,t,n){var o=I0(e+""),i,r=o.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,u;a<c;++a)for(i=0,u=l[a];i<r;++i)if((s=o[i]).type===u.type&&s.name===u.name)return u.value}return}for(l=t?D0:M0,i=0;i<r;++i)this.each(l(o[i],t,n));return this}function gh(e,t,n){var o=ch(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function P0(e,t){return function(){return gh(this,e,t)}}function L0(e,t){return function(){return gh(this,e,t.apply(this,arguments))}}function R0(e,t){return this.each((typeof t=="function"?L0:P0)(e,t))}function*F0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,s;i<r;++i)(s=o[i])&&(yield s)}var mh=[null];function Ct(e,t){this._groups=e,this._parents=t}function wi(){return new Ct([[document.documentElement]],mh)}function V0(){return this}Ct.prototype=wi.prototype={constructor:Ct,select:dy,selectAll:gy,selectChild:_y,selectChildren:Ey,filter:Sy,data:Oy,enter:Cy,exit:My,join:Dy,merge:$y,selection:V0,order:Py,sort:Ly,call:Fy,nodes:Vy,node:By,size:Hy,empty:jy,each:zy,attr:Xy,style:e0,property:i0,classed:a0,text:f0,html:m0,raise:y0,lower:w0,append:b0,insert:E0,remove:C0,clone:T0,datum:A0,on:$0,dispatch:R0,[Symbol.iterator]:F0};function Ot(e){return typeof e=="string"?new Ct([[document.querySelector(e)]],[document.documentElement]):new Ct([[e]],mh)}function B0(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Gt(e,t){if(e=B0(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const H0={passive:!1},oi={capture:!0,passive:!1};function ps(e){e.stopImmediatePropagation()}function mo(e){e.preventDefault(),e.stopImmediatePropagation()}function vh(e){var t=e.document.documentElement,n=Ot(e).on("dragstart.drag",mo,oi);"onselectstart"in t?n.on("selectstart.drag",mo,oi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function yh(e,t){var n=e.document.documentElement,o=Ot(e).on("dragstart.drag",null);t&&(o.on("click.drag",mo,oi),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ni=e=>()=>e;function Bl(e,{sourceEvent:t,subject:n,target:o,identifier:i,active:r,x:s,y:l,dx:a,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:r,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Bl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function j0(e){return!e.ctrlKey&&!e.button}function z0(){return this.parentNode}function Y0(e,t){return t??{x:e.x,y:e.y}}function G0(){return navigator.maxTouchPoints||"ontouchstart"in this}function U0(){var e=j0,t=z0,n=Y0,o=G0,i={},r=Vr("start","drag","end"),s=0,l,a,c,u,d=0;function f(S){S.on("mousedown.drag",h).filter(o).on("touchstart.drag",m).on("touchmove.drag",w,H0).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(S,$){if(!(u||!e.call(this,S,$))){var F=x(this,t.call(this,S,$),S,$,"mouse");F&&(Ot(S.view).on("mousemove.drag",g,oi).on("mouseup.drag",p,oi),vh(S.view),ps(S),c=!1,l=S.clientX,a=S.clientY,F("start",S))}}function g(S){if(mo(S),!c){var $=S.clientX-l,F=S.clientY-a;c=$*$+F*F>d}i.mouse("drag",S)}function p(S){Ot(S.view).on("mousemove.drag mouseup.drag",null),yh(S.view,c),mo(S),i.mouse("end",S)}function m(S,$){if(e.call(this,S,$)){var F=S.changedTouches,W=t.call(this,S,$),A=F.length,O,D;for(O=0;O<A;++O)(D=x(this,W,S,$,F[O].identifier,F[O]))&&(ps(S),D("start",S,F[O]))}}function w(S){var $=S.changedTouches,F=$.length,W,A;for(W=0;W<F;++W)(A=i[$[W].identifier])&&(mo(S),A("drag",S,$[W]))}function _(S){var $=S.changedTouches,F=$.length,W,A;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),W=0;W<F;++W)(A=i[$[W].identifier])&&(ps(S),A("end",S,$[W]))}function x(S,$,F,W,A,O){var D=r.copy(),I=Gt(O||F,$),E,K,T;if((T=n.call(S,new Bl("beforestart",{sourceEvent:F,target:f,identifier:A,active:s,x:I[0],y:I[1],dx:0,dy:0,dispatch:D}),W))!=null)return E=T.x-I[0]||0,K=T.y-I[1]||0,function q(P,Q,ee){var re=I,se;switch(P){case"start":i[A]=q,se=s++;break;case"end":delete i[A],--s;case"drag":I=Gt(ee||Q,$),se=s;break}D.call(P,S,new Bl(P,{sourceEvent:Q,subject:T,target:f,identifier:A,active:se,x:I[0]+E,y:I[1]+K,dx:I[0]-re[0],dy:I[1]-re[1],dispatch:D}),W)}}return f.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Ni(!!S),f):e},f.container=function(S){return arguments.length?(t=typeof S=="function"?S:Ni(S),f):t},f.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Ni(S),f):n},f.touchable=function(S){return arguments.length?(o=typeof S=="function"?S:Ni(!!S),f):o},f.on=function(){var S=r.on.apply(r,arguments);return S===r?f:S},f.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,f):Math.sqrt(d)},f}function ka(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _h(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function bi(){}var ii=.7,ar=1/ii,vo="\\s*([+-]?\\d+)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",q0=/^#([0-9a-f]{3,8})$/,W0=new RegExp(`^rgb\\(${vo},${vo},${vo}\\)$`),K0=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),X0=new RegExp(`^rgba\\(${vo},${vo},${vo},${ri}\\)$`),Z0=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${ri}\\)$`),Q0=new RegExp(`^hsl\\(${ri},${Xt},${Xt}\\)$`),J0=new RegExp(`^hsla\\(${ri},${Xt},${Xt},${ri}\\)$`),Ru={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ka(bi,Xn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Fu,formatHex:Fu,formatHex8:e_,formatHsl:t_,formatRgb:Vu,toString:Vu});function Fu(){return this.rgb().formatHex()}function e_(){return this.rgb().formatHex8()}function t_(){return wh(this).formatHsl()}function Vu(){return this.rgb().formatRgb()}function Xn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=q0.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Bu(t):n===3?new _t(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ki(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ki(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=W0.exec(e))?new _t(t[1],t[2],t[3],1):(t=K0.exec(e))?new _t(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=X0.exec(e))?ki(t[1],t[2],t[3],t[4]):(t=Z0.exec(e))?ki(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Q0.exec(e))?zu(t[1],t[2]/100,t[3]/100,1):(t=J0.exec(e))?zu(t[1],t[2]/100,t[3]/100,t[4]):Ru.hasOwnProperty(e)?Bu(Ru[e]):e==="transparent"?new _t(NaN,NaN,NaN,0):null}function Bu(e){return new _t(e>>16&255,e>>8&255,e&255,1)}function ki(e,t,n,o){return o<=0&&(e=t=n=NaN),new _t(e,t,n,o)}function n_(e){return e instanceof bi||(e=Xn(e)),e?(e=e.rgb(),new _t(e.r,e.g,e.b,e.opacity)):new _t}function Hl(e,t,n,o){return arguments.length===1?n_(e):new _t(e,t,n,o??1)}function _t(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}ka(_t,Hl,_h(bi,{brighter(e){return e=e==null?ar:Math.pow(ar,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ii:Math.pow(ii,e),new _t(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _t(Un(this.r),Un(this.g),Un(this.b),ur(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Hu,formatHex:Hu,formatHex8:o_,formatRgb:ju,toString:ju}));function Hu(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}`}function o_(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}${jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ju(){const e=ur(this.opacity);return`${e===1?"rgb(":"rgba("}${Un(this.r)}, ${Un(this.g)}, ${Un(this.b)}${e===1?")":`, ${e})`}`}function ur(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Un(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jn(e){return e=Un(e),(e<16?"0":"")+e.toString(16)}function zu(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new It(e,t,n,o)}function wh(e){if(e instanceof It)return new It(e.h,e.s,e.l,e.opacity);if(e instanceof bi||(e=Xn(e)),!e)return new It;if(e instanceof It)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),s=NaN,l=r-i,a=(r+i)/2;return l?(t===r?s=(n-o)/l+(n<o)*6:n===r?s=(o-t)/l+2:s=(t-n)/l+4,l/=a<.5?r+i:2-r-i,s*=60):l=a>0&&a<1?0:s,new It(s,l,a,e.opacity)}function i_(e,t,n,o){return arguments.length===1?wh(e):new It(e,t,n,o??1)}function It(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}ka(It,i_,_h(bi,{brighter(e){return e=e==null?ar:Math.pow(ar,e),new It(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ii:Math.pow(ii,e),new It(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new _t(gs(e>=240?e-240:e+120,i,o),gs(e,i,o),gs(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new It(Yu(this.h),Ti(this.s),Ti(this.l),ur(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ur(this.opacity);return`${e===1?"hsl(":"hsla("}${Yu(this.h)}, ${Ti(this.s)*100}%, ${Ti(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yu(e){return e=(e||0)%360,e<0?e+360:e}function Ti(e){return Math.max(0,Math.min(1,e||0))}function gs(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ta=e=>()=>e;function r_(e,t){return function(n){return e+n*t}}function s_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function l_(e){return(e=+e)==1?bh:function(t,n){return n-t?s_(t,n,e):Ta(isNaN(t)?n:t)}}function bh(e,t){var n=t-e;return n?r_(e,n):Ta(isNaN(e)?t:e)}const cr=(function e(t){var n=l_(t);function o(i,r){var s=n((i=Hl(i)).r,(r=Hl(r)).r),l=n(i.g,r.g),a=n(i.b,r.b),c=bh(i.opacity,r.opacity);return function(u){return i.r=s(u),i.g=l(u),i.b=a(u),i.opacity=c(u),i+""}}return o.gamma=e,o})(1);function a_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function u_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function c_(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),s;for(s=0;s<o;++s)i[s]=Uo(e[s],t[s]);for(;s<n;++s)r[s]=t[s];return function(l){for(s=0;s<o;++s)r[s]=i[s](l);return r}}function d_(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function qt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function f_(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Uo(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var jl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ms=new RegExp(jl.source,"g");function h_(e){return function(){return e}}function p_(e){return function(t){return e(t)+""}}function xh(e,t){var n=jl.lastIndex=ms.lastIndex=0,o,i,r,s=-1,l=[],a=[];for(e=e+"",t=t+"";(o=jl.exec(e))&&(i=ms.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),l[s]?l[s]+=r:l[++s]=r),(o=o[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:qt(o,i)})),n=ms.lastIndex;return n<t.length&&(r=t.slice(n),l[s]?l[s]+=r:l[++s]=r),l.length<2?a[0]?p_(a[0].x):h_(t):(t=a.length,function(c){for(var u=0,d;u<t;++u)l[(d=a[u]).i]=d.x(c);return l.join("")})}function Uo(e,t){var n=typeof t,o;return t==null||n==="boolean"?Ta(t):(n==="number"?qt:n==="string"?(o=Xn(t))?(t=o,cr):xh:t instanceof Xn?cr:t instanceof Date?d_:u_(t)?a_:Array.isArray(t)?c_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?f_:qt)(e,t)}var Gu=180/Math.PI,zl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Eh(e,t,n,o,i,r){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*o)&&(n-=e*a,o-=t*a),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,a/=l),e*o<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Gu,skewX:Math.atan(a)*Gu,scaleX:s,scaleY:l}}var Ai;function g_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?zl:Eh(t.a,t.b,t.c,t.d,t.e,t.f)}function m_(e){return e==null||(Ai||(Ai=document.createElementNS("http://www.w3.org/2000/svg","g")),Ai.setAttribute("transform",e),!(e=Ai.transform.baseVal.consolidate()))?zl:(e=e.matrix,Eh(e.a,e.b,e.c,e.d,e.e,e.f))}function Sh(e,t,n,o){function i(c){return c.length?c.pop()+" ":""}function r(c,u,d,f,h,g){if(c!==d||u!==f){var p=h.push("translate(",null,t,null,n);g.push({i:p-4,x:qt(c,d)},{i:p-2,x:qt(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,o)-2,x:qt(c,u)})):u&&d.push(i(d)+"rotate("+u+o)}function l(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,o)-2,x:qt(c,u)}):u&&d.push(i(d)+"skewX("+u+o)}function a(c,u,d,f,h,g){if(c!==d||u!==f){var p=h.push(i(h)+"scale(",null,",",null,")");g.push({i:p-4,x:qt(c,d)},{i:p-2,x:qt(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),r(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),l(c.skewX,u.skewX,d,f),a(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,p=f.length,m;++g<p;)d[(m=f[g]).i]=m.x(h);return d.join("")}}}var v_=Sh(g_,"px, ","px)","deg)"),y_=Sh(m_,", ",")",")"),__=1e-12;function Uu(e){return((e=Math.exp(e))+1/e)/2}function w_(e){return((e=Math.exp(e))-1/e)/2}function b_(e){return((e=Math.exp(2*e))-1)/(e+1)}const Gi=(function e(t,n,o){function i(r,s){var l=r[0],a=r[1],c=r[2],u=s[0],d=s[1],f=s[2],h=u-l,g=d-a,p=h*h+g*g,m,w;if(p<__)w=Math.log(f/c)/t,m=function(W){return[l+W*h,a+W*g,c*Math.exp(t*W*w)]};else{var _=Math.sqrt(p),x=(f*f-c*c+o*p)/(2*c*n*_),S=(f*f-c*c-o*p)/(2*f*n*_),$=Math.log(Math.sqrt(x*x+1)-x),F=Math.log(Math.sqrt(S*S+1)-S);w=(F-$)/t,m=function(W){var A=W*w,O=Uu($),D=c/(n*_)*(O*b_(t*A+$)-w_($));return[l+D*h,a+D*g,c*O/Uu(t*A+$)]}}return m.duration=w*1e3*t/Math.SQRT2,m}return i.rho=function(r){var s=Math.max(.001,+r),l=s*s,a=l*l;return e(s,l,a)},i})(Math.SQRT2,2,4);var So=0,$o=0,Io=0,Ch=1e3,dr,Po,fr=0,Zn=0,Hr=0,si=typeof performance=="object"&&performance.now?performance:Date,Nh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Aa(){return Zn||(Nh(x_),Zn=si.now()+Hr)}function x_(){Zn=0}function hr(){this._call=this._time=this._next=null}hr.prototype=kh.prototype={constructor:hr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Aa():+n)+(t==null?0:+t),!this._next&&Po!==this&&(Po?Po._next=this:dr=this,Po=this),this._call=e,this._time=n,Yl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yl())}};function kh(e,t,n){var o=new hr;return o.restart(e,t,n),o}function E_(){Aa(),++So;for(var e=dr,t;e;)(t=Zn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--So}function qu(){Zn=(fr=si.now())+Hr,So=$o=0;try{E_()}finally{So=0,C_(),Zn=0}}function S_(){var e=si.now(),t=e-fr;t>Ch&&(Hr-=t,fr=e)}function C_(){for(var e,t=dr,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:dr=n);Po=e,Yl(o)}function Yl(e){if(!So){$o&&($o=clearTimeout($o));var t=e-Zn;t>24?(e<1/0&&($o=setTimeout(qu,e-si.now()-Hr)),Io&&(Io=clearInterval(Io))):(Io||(fr=si.now(),Io=setInterval(S_,Ch)),So=1,Nh(qu))}}function Wu(e,t,n){var o=new hr;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var N_=Vr("start","end","cancel","interrupt"),k_=[],Th=0,Ku=1,Gl=2,Ui=3,Xu=4,Ul=5,qi=6;function jr(e,t,n,o,i,r){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;T_(e,n,{name:t,index:o,group:i,on:N_,tween:k_,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Th})}function Oa(e,t){var n=Ft(e,t);if(n.state>Th)throw new Error("too late; already scheduled");return n}function Jt(e,t){var n=Ft(e,t);if(n.state>Ui)throw new Error("too late; already running");return n}function Ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function T_(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=kh(r,0,n.time);function r(c){n.state=Ku,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,h;if(n.state!==Ku)return a();for(u in o)if(h=o[u],h.name===n.name){if(h.state===Ui)return Wu(s);h.state===Xu?(h.state=qi,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[u]):+u<t&&(h.state=qi,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[u])}if(Wu(function(){n.state===Ui&&(n.state=Xu,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Gl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Gl){for(n.state=Ui,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function l(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=Ul,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===Ul&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=qi,n.timer.stop(),delete o[t];for(var c in o)return;delete e.__transition}}function Wi(e,t){var n=e.__transition,o,i,r=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((o=n[s]).name!==t){r=!1;continue}i=o.state>Gl&&o.state<Ul,o.state=qi,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[s]}r&&delete e.__transition}}function A_(e){return this.each(function(){Wi(this,e)})}function O_(e,t){var n,o;return function(){var i=Jt(this,e),r=i.tween;if(r!==n){o=n=r;for(var s=0,l=o.length;s<l;++s)if(o[s].name===t){o=o.slice(),o.splice(s,1);break}}i.tween=o}}function I_(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Jt(this,e),s=r.tween;if(s!==o){i=(o=s).slice();for(var l={name:t,value:n},a=0,c=i.length;a<c;++a)if(i[a].name===t){i[a]=l;break}a===c&&i.push(l)}r.tween=i}}function M_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=Ft(this.node(),n).tween,i=0,r=o.length,s;i<r;++i)if((s=o[i]).name===e)return s.value;return null}return this.each((t==null?O_:I_)(n,e,t))}function Ia(e,t,n){var o=e._id;return e.each(function(){var i=Jt(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ft(i,o).value[t]}}function Ah(e,t){var n;return(typeof t=="number"?qt:t instanceof Xn?cr:(n=Xn(t))?(t=n,cr):xh)(e,t)}function D_(e){return function(){this.removeAttribute(e)}}function $_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function P_(e,t,n){var o,i=n+"",r;return function(){var s=this.getAttribute(e);return s===i?null:s===o?r:r=t(o=s,n)}}function L_(e,t,n){var o,i=n+"",r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===o?r:r=t(o=s,n)}}function R_(e,t,n){var o,i,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===o&&a===i?r:(i=a,r=t(o=s,l)))}}function F_(e,t,n){var o,i,r;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===o&&a===i?r:(i=a,r=t(o=s,l)))}}function V_(e,t){var n=Br(e),o=n==="transform"?y_:Ah;return this.attrTween(e,typeof t=="function"?(n.local?F_:R_)(n,o,Ia(this,"attr."+e,t)):t==null?(n.local?$_:D_)(n):(n.local?L_:P_)(n,o,t))}function B_(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function H_(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function j_(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&H_(e,r)),n}return i._value=t,i}function z_(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&B_(e,r)),n}return i._value=t,i}function Y_(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=Br(e);return this.tween(n,(o.local?j_:z_)(o,t))}function G_(e,t){return function(){Oa(this,e).delay=+t.apply(this,arguments)}}function U_(e,t){return t=+t,function(){Oa(this,e).delay=t}}function q_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?G_:U_)(t,e)):Ft(this.node(),t).delay}function W_(e,t){return function(){Jt(this,e).duration=+t.apply(this,arguments)}}function K_(e,t){return t=+t,function(){Jt(this,e).duration=t}}function X_(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?W_:K_)(t,e)):Ft(this.node(),t).duration}function Z_(e,t){if(typeof t!="function")throw new Error;return function(){Jt(this,e).ease=t}}function Q_(e){var t=this._id;return arguments.length?this.each(Z_(t,e)):Ft(this.node(),t).ease}function J_(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Jt(this,e).ease=n}}function ew(e){if(typeof e!="function")throw new Error;return this.each(J_(this._id,e))}function tw(e){typeof e!="function"&&(e=lh(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],s=r.length,l=o[i]=[],a,c=0;c<s;++c)(a=r[c])&&e.call(a,a.__data__,c,r)&&l.push(a);return new mn(o,this._parents,this._name,this._id)}function nw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),s=new Array(o),l=0;l<r;++l)for(var a=t[l],c=n[l],u=a.length,d=s[l]=new Array(u),f,h=0;h<u;++h)(f=a[h]||c[h])&&(d[h]=f);for(;l<o;++l)s[l]=t[l];return new mn(s,this._parents,this._name,this._id)}function ow(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function iw(e,t,n){var o,i,r=ow(t)?Oa:Jt;return function(){var s=r(this,e),l=s.on;l!==o&&(i=(o=l).copy()).on(t,n),s.on=i}}function rw(e,t){var n=this._id;return arguments.length<2?Ft(this.node(),n).on.on(e):this.each(iw(n,e,t))}function sw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function lw(){return this.on("end.remove",sw(this._id))}function aw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ca(e));for(var o=this._groups,i=o.length,r=new Array(i),s=0;s<i;++s)for(var l=o[s],a=l.length,c=r[s]=new Array(a),u,d,f=0;f<a;++f)(u=l[f])&&(d=e.call(u,u.__data__,f,l))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,jr(c[f],t,n,f,c,Ft(u,n)));return new mn(r,this._parents,t,n)}function uw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=sh(e));for(var o=this._groups,i=o.length,r=[],s=[],l=0;l<i;++l)for(var a=o[l],c=a.length,u,d=0;d<c;++d)if(u=a[d]){for(var f=e.call(u,u.__data__,d,a),h,g=Ft(u,n),p=0,m=f.length;p<m;++p)(h=f[p])&&jr(h,t,n,p,f,g);r.push(f),s.push(u)}return new mn(r,s,t,n)}var cw=wi.prototype.constructor;function dw(){return new cw(this._groups,this._parents)}function fw(e,t){var n,o,i;return function(){var r=Eo(this,e),s=(this.style.removeProperty(e),Eo(this,e));return r===s?null:r===n&&s===o?i:i=t(n=r,o=s)}}function Oh(e){return function(){this.style.removeProperty(e)}}function hw(e,t,n){var o,i=n+"",r;return function(){var s=Eo(this,e);return s===i?null:s===o?r:r=t(o=s,n)}}function pw(e,t,n){var o,i,r;return function(){var s=Eo(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Eo(this,e))),s===a?null:s===o&&a===i?r:(i=a,r=t(o=s,l))}}function gw(e,t){var n,o,i,r="style."+t,s="end."+r,l;return function(){var a=Jt(this,e),c=a.on,u=a.value[r]==null?l||(l=Oh(t)):void 0;(c!==n||i!==u)&&(o=(n=c).copy()).on(s,i=u),a.on=o}}function mw(e,t,n){var o=(e+="")=="transform"?v_:Ah;return t==null?this.styleTween(e,fw(e,o)).on("end.style."+e,Oh(e)):typeof t=="function"?this.styleTween(e,pw(e,o,Ia(this,"style."+e,t))).each(gw(this._id,e)):this.styleTween(e,hw(e,o,t),n).on("end.style."+e,null)}function vw(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function yw(e,t,n){var o,i;function r(){var s=t.apply(this,arguments);return s!==i&&(o=(i=s)&&vw(e,s,n)),o}return r._value=t,r}function _w(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,yw(e,t,n??""))}function ww(e){return function(){this.textContent=e}}function bw(e){return function(){var t=e(this);this.textContent=t??""}}function xw(e){return this.tween("text",typeof e=="function"?bw(Ia(this,"text",e)):ww(e==null?"":e+""))}function Ew(e){return function(t){this.textContent=e.call(this,t)}}function Sw(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ew(i)),t}return o._value=e,o}function Cw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Sw(e))}function Nw(){for(var e=this._name,t=this._id,n=Ih(),o=this._groups,i=o.length,r=0;r<i;++r)for(var s=o[r],l=s.length,a,c=0;c<l;++c)if(a=s[c]){var u=Ft(a,t);jr(a,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new mn(o,this._parents,e,n)}function kw(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,s){var l={value:s},a={value:function(){--i===0&&r()}};n.each(function(){var c=Jt(this,o),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),c.on=t}),i===0&&r()})}var Tw=0;function mn(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Ih(){return++Tw}var nn=wi.prototype;mn.prototype={constructor:mn,select:aw,selectAll:uw,selectChild:nn.selectChild,selectChildren:nn.selectChildren,filter:tw,merge:nw,selection:dw,transition:Nw,call:nn.call,nodes:nn.nodes,node:nn.node,size:nn.size,empty:nn.empty,each:nn.each,on:rw,attr:V_,attrTween:Y_,style:mw,styleTween:_w,text:xw,textTween:Cw,remove:lw,tween:M_,delay:q_,duration:X_,ease:Q_,easeVarying:ew,end:kw,[Symbol.iterator]:nn[Symbol.iterator]};function Aw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ow={time:null,delay:0,duration:250,ease:Aw};function Iw(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Mw(e){var t,n;e instanceof mn?(t=e._id,e=e._name):(t=Ih(),(n=Ow).time=Aa(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var s=o[r],l=s.length,a,c=0;c<l;++c)(a=s[c])&&jr(a,e,t,c,s,n||Iw(a,t));return new mn(o,this._parents,e,t)}wi.prototype.interrupt=A_;wi.prototype.transition=Mw;const Oi=e=>()=>e;function Dw(e,{sourceEvent:t,target:n,transform:o,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function an(e,t,n){this.k=e,this.x=t,this.y=n}an.prototype={constructor:an,scale:function(e){return e===1?this:new an(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new an(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Co=new an(1,0,0);an.prototype;function vs(e){e.stopImmediatePropagation()}function Mo(e){e.preventDefault(),e.stopImmediatePropagation()}function $w(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Pw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Zu(){return this.__zoom||Co}function Lw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Rw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fw(e,t,n){var o=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],r=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>o?(o+i)/2:Math.min(0,o)||Math.max(0,i),s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s))}function Vw(){var e=$w,t=Pw,n=Fw,o=Lw,i=Rw,r=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Gi,c=Vr("start","zoom","end"),u,d,f,h=500,g=150,p=0,m=10;function w(T){T.property("__zoom",Zu).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",K).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(T,q,P,Q){var ee=T.selection?T.selection():T;ee.property("__zoom",Zu),T!==ee?$(T,q,P,Q):ee.interrupt().each(function(){F(this,arguments).event(Q).start().zoom(null,typeof q=="function"?q.apply(this,arguments):q).end()})},w.scaleBy=function(T,q,P,Q){w.scaleTo(T,function(){var ee=this.__zoom.k,re=typeof q=="function"?q.apply(this,arguments):q;return ee*re},P,Q)},w.scaleTo=function(T,q,P,Q){w.transform(T,function(){var ee=t.apply(this,arguments),re=this.__zoom,se=P==null?S(ee):typeof P=="function"?P.apply(this,arguments):P,ue=re.invert(se),he=typeof q=="function"?q.apply(this,arguments):q;return n(x(_(re,he),se,ue),ee,s)},P,Q)},w.translateBy=function(T,q,P,Q){w.transform(T,function(){return n(this.__zoom.translate(typeof q=="function"?q.apply(this,arguments):q,typeof P=="function"?P.apply(this,arguments):P),t.apply(this,arguments),s)},null,Q)},w.translateTo=function(T,q,P,Q,ee){w.transform(T,function(){var re=t.apply(this,arguments),se=this.__zoom,ue=Q==null?S(re):typeof Q=="function"?Q.apply(this,arguments):Q;return n(Co.translate(ue[0],ue[1]).scale(se.k).translate(typeof q=="function"?-q.apply(this,arguments):-q,typeof P=="function"?-P.apply(this,arguments):-P),re,s)},Q,ee)};function _(T,q){return q=Math.max(r[0],Math.min(r[1],q)),q===T.k?T:new an(q,T.x,T.y)}function x(T,q,P){var Q=q[0]-P[0]*T.k,ee=q[1]-P[1]*T.k;return Q===T.x&&ee===T.y?T:new an(T.k,Q,ee)}function S(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function $(T,q,P,Q){T.on("start.zoom",function(){F(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){F(this,arguments).event(Q).end()}).tween("zoom",function(){var ee=this,re=arguments,se=F(ee,re).event(Q),ue=t.apply(ee,re),he=P==null?S(ue):typeof P=="function"?P.apply(ee,re):P,V=Math.max(ue[1][0]-ue[0][0],ue[1][1]-ue[0][1]),R=ee.__zoom,Y=typeof q=="function"?q.apply(ee,re):q,X=a(R.invert(he).concat(V/R.k),Y.invert(he).concat(V/Y.k));return function(le){if(le===1)le=Y;else{var ae=X(le),ge=V/ae[2];le=new an(ge,he[0]-ae[0]*ge,he[1]-ae[1]*ge)}se.zoom(null,le)}})}function F(T,q,P){return!P&&T.__zooming||new W(T,q)}function W(T,q){this.that=T,this.args=q,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,q),this.taps=0}W.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,q){return this.mouse&&T!=="mouse"&&(this.mouse[1]=q.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=q.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=q.invert(this.touch1[0])),this.that.__zoom=q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var q=Ot(this.that).datum();c.call(T,this.that,new Dw(T,{sourceEvent:this.sourceEvent,target:w,transform:this.that.__zoom,dispatch:c}),q)}};function A(T,...q){if(!e.apply(this,arguments))return;var P=F(this,q).event(T),Q=this.__zoom,ee=Math.max(r[0],Math.min(r[1],Q.k*Math.pow(2,o.apply(this,arguments)))),re=Gt(T);if(P.wheel)(P.mouse[0][0]!==re[0]||P.mouse[0][1]!==re[1])&&(P.mouse[1]=Q.invert(P.mouse[0]=re)),clearTimeout(P.wheel);else{if(Q.k===ee)return;P.mouse=[re,Q.invert(re)],Wi(this),P.start()}Mo(T),P.wheel=setTimeout(se,g),P.zoom("mouse",n(x(_(Q,ee),P.mouse[0],P.mouse[1]),P.extent,s));function se(){P.wheel=null,P.end()}}function O(T,...q){if(f||!e.apply(this,arguments))return;var P=T.currentTarget,Q=F(this,q,!0).event(T),ee=Ot(T.view).on("mousemove.zoom",he,!0).on("mouseup.zoom",V,!0),re=Gt(T,P),se=T.clientX,ue=T.clientY;vh(T.view),vs(T),Q.mouse=[re,this.__zoom.invert(re)],Wi(this),Q.start();function he(R){if(Mo(R),!Q.moved){var Y=R.clientX-se,X=R.clientY-ue;Q.moved=Y*Y+X*X>p}Q.event(R).zoom("mouse",n(x(Q.that.__zoom,Q.mouse[0]=Gt(R,P),Q.mouse[1]),Q.extent,s))}function V(R){ee.on("mousemove.zoom mouseup.zoom",null),yh(R.view,Q.moved),Mo(R),Q.event(R).end()}}function D(T,...q){if(e.apply(this,arguments)){var P=this.__zoom,Q=Gt(T.changedTouches?T.changedTouches[0]:T,this),ee=P.invert(Q),re=P.k*(T.shiftKey?.5:2),se=n(x(_(P,re),Q,ee),t.apply(this,q),s);Mo(T),l>0?Ot(this).transition().duration(l).call($,se,Q,T):Ot(this).call(w.transform,se,Q,T)}}function I(T,...q){if(e.apply(this,arguments)){var P=T.touches,Q=P.length,ee=F(this,q,T.changedTouches.length===Q).event(T),re,se,ue,he;for(vs(T),se=0;se<Q;++se)ue=P[se],he=Gt(ue,this),he=[he,this.__zoom.invert(he),ue.identifier],ee.touch0?!ee.touch1&&ee.touch0[2]!==he[2]&&(ee.touch1=he,ee.taps=0):(ee.touch0=he,re=!0,ee.taps=1+!!u);u&&(u=clearTimeout(u)),re&&(ee.taps<2&&(d=he[0],u=setTimeout(function(){u=null},h)),Wi(this),ee.start())}}function E(T,...q){if(this.__zooming){var P=F(this,q).event(T),Q=T.changedTouches,ee=Q.length,re,se,ue,he;for(Mo(T),re=0;re<ee;++re)se=Q[re],ue=Gt(se,this),P.touch0&&P.touch0[2]===se.identifier?P.touch0[0]=ue:P.touch1&&P.touch1[2]===se.identifier&&(P.touch1[0]=ue);if(se=P.that.__zoom,P.touch1){var V=P.touch0[0],R=P.touch0[1],Y=P.touch1[0],X=P.touch1[1],le=(le=Y[0]-V[0])*le+(le=Y[1]-V[1])*le,ae=(ae=X[0]-R[0])*ae+(ae=X[1]-R[1])*ae;se=_(se,Math.sqrt(le/ae)),ue=[(V[0]+Y[0])/2,(V[1]+Y[1])/2],he=[(R[0]+X[0])/2,(R[1]+X[1])/2]}else if(P.touch0)ue=P.touch0[0],he=P.touch0[1];else return;P.zoom("touch",n(x(se,ue,he),P.extent,s))}}function K(T,...q){if(this.__zooming){var P=F(this,q).event(T),Q=T.changedTouches,ee=Q.length,re,se;for(vs(T),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),re=0;re<ee;++re)se=Q[re],P.touch0&&P.touch0[2]===se.identifier?delete P.touch0:P.touch1&&P.touch1[2]===se.identifier&&delete P.touch1;if(P.touch1&&!P.touch0&&(P.touch0=P.touch1,delete P.touch1),P.touch0)P.touch0[1]=this.__zoom.invert(P.touch0[0]);else if(P.end(),P.taps===2&&(se=Gt(se,this),Math.hypot(d[0]-se[0],d[1]-se[1])<m)){var ue=Ot(this).on("dblclick.zoom");ue&&ue.apply(this,arguments)}}}return w.wheelDelta=function(T){return arguments.length?(o=typeof T=="function"?T:Oi(+T),w):o},w.filter=function(T){return arguments.length?(e=typeof T=="function"?T:Oi(!!T),w):e},w.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:Oi(!!T),w):i},w.extent=function(T){return arguments.length?(t=typeof T=="function"?T:Oi([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),w):t},w.scaleExtent=function(T){return arguments.length?(r[0]=+T[0],r[1]=+T[1],w):[r[0],r[1]]},w.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(T){return arguments.length?(n=T,w):n},w.duration=function(T){return arguments.length?(l=+T,w):l},w.interpolate=function(T){return arguments.length?(a=T,w):a},w.on=function(){var T=c.on.apply(c,arguments);return T===c?w:T},w.clickDistance=function(T){return arguments.length?(p=(T=+T)*T,w):Math.sqrt(p)},w.tapDistance=function(T){return arguments.length?(m=+T,w):m},w}var fe=(e=>(e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom",e))(fe||{}),Ma=(e=>(e.Partial="partial",e.Full="full",e))(Ma||{}),Bn=(e=>(e.Bezier="default",e.SimpleBezier="simple-bezier",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e))(Bn||{}),vn=(e=>(e.Strict="strict",e.Loose="loose",e))(vn||{}),ql=(e=>(e.Arrow="arrow",e.ArrowClosed="arrowclosed",e))(ql||{}),qo=(e=>(e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal",e))(qo||{});const Bw=["INPUT","SELECT","TEXTAREA"],Hw=typeof document<"u"?document:null;function Wl(e){var t,n;const o=((n=(t=e.composedPath)==null?void 0:t.call(e))==null?void 0:n[0])||e.target,i=typeof o?.hasAttribute=="function"?o.hasAttribute("contenteditable"):!1,r=typeof o?.closest=="function"?o.closest(".nokey"):null;return Bw.includes(o?.nodeName)||i||!!r}function jw(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Qu(e,t,n,o){const i=t.replace("+",`
`).replace(`

`,`
+`).split(`
`).map(s=>s.trim().toLowerCase());if(i.length===1)return e.toLowerCase()===t.toLowerCase();o||n.add(e.toLowerCase());const r=i.every((s,l)=>n.has(s)&&Array.from(n.values())[l]===i[l]);return o&&n.delete(e.toLowerCase()),r}function zw(e,t){return n=>{if(!n.code&&!n.key)return!1;const o=Yw(n.code,e);return Array.isArray(e)?e.some(i=>Qu(n[o],i,t,n.type==="keyup")):Qu(n[o],e,t,n.type==="keyup")}}function Yw(e,t){return t.includes(e)?"code":"key"}function Wo(e,t){const n=me(()=>ke(t?.target)??Hw),o=er(ke(e)===!0);let i=!1;const r=new Set;let s=a(ke(e));Se(()=>ke(e),(c,u)=>{typeof u=="boolean"&&typeof c!="boolean"&&l(),s=a(c)},{immediate:!0}),ih(["blur","contextmenu"],l),$u((...c)=>s(...c),c=>{var u,d;const f=ke(t?.actInsideInputWithModifier)??!0,h=ke(t?.preventDefault)??!1;if(i=jw(c),(!i||i&&!f)&&Wl(c))return;const p=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target,m=p?.nodeName==="BUTTON"||p?.nodeName==="A";!h&&(i||!m)&&c.preventDefault(),o.value=!0},{eventName:"keydown",target:n}),$u((...c)=>s(...c),c=>{const u=ke(t?.actInsideInputWithModifier)??!0;if(o.value){if((!i||i&&!u)&&Wl(c))return;i=!1,o.value=!1}},{eventName:"keyup",target:n});function l(){i=!1,r.clear(),o.value=ke(e)===!0}function a(c){return c===null?(l(),()=>!1):typeof c=="boolean"?(l(),o.value=c,()=>!1):Array.isArray(c)||typeof c=="string"?zw(c,r):c}return o}const Mh="vue-flow__node-desc",Dh="vue-flow__edge-desc",Gw="vue-flow__aria-live",$h=["Enter"," ","Escape"],yo={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};function pr(e){return{...e.computedPosition||{x:0,y:0},width:e.dimensions.width||0,height:e.dimensions.height||0}}function gr(e,t){const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)}function zr(e){return{width:e.offsetWidth,height:e.offsetHeight}}function Qn(e,t=0,n=1){return Math.min(Math.max(e,t),n)}function Ph(e,t){return{x:Qn(e.x,t[0][0],t[1][0]),y:Qn(e.y,t[0][1],t[1][1])}}function Ju(e){const t=e.getRootNode();return"elementFromPoint"in t?t:window.document}function Dn(e){return e&&typeof e=="object"&&"id"in e&&"source"in e&&"target"in e}function qn(e){return e&&typeof e=="object"&&"id"in e&&"position"in e&&!Dn(e)}function Lo(e){return qn(e)&&"computedPosition"in e}function Ii(e){return!Number.isNaN(e)&&Number.isFinite(e)}function Uw(e){return Ii(e.width)&&Ii(e.height)&&Ii(e.x)&&Ii(e.y)}function qw(e,t,n){const o={id:e.id.toString(),type:e.type??"default",dimensions:Yn({width:0,height:0}),computedPosition:Yn({z:0,...e.position}),handleBounds:{source:[],target:[]},draggable:void 0,selectable:void 0,connectable:void 0,focusable:void 0,selected:!1,dragging:!1,resizing:!1,initialized:!1,isParent:!1,position:{x:0,y:0},data:Ue(e.data)?e.data:{},events:Yn(Ue(e.events)?e.events:{})};return Object.assign(t??o,e,{id:e.id.toString(),parentNode:n})}function Lh(e,t,n){var o,i;const r={id:e.id.toString(),type:e.type??t?.type??"default",source:e.source.toString(),target:e.target.toString(),sourceHandle:(o=e.sourceHandle)==null?void 0:o.toString(),targetHandle:(i=e.targetHandle)==null?void 0:i.toString(),updatable:e.updatable??n?.updatable,selectable:e.selectable??n?.selectable,focusable:e.focusable??n?.focusable,data:Ue(e.data)?e.data:{},events:Yn(Ue(e.events)?e.events:{}),label:e.label??"",interactionWidth:e.interactionWidth??n?.interactionWidth,...n??{}};return Object.assign(t??r,e,{id:e.id.toString()})}function Rh(e,t,n,o){const i=typeof e=="string"?e:e.id,r=new Set,s=o==="source"?"target":"source";for(const l of n)l[s]===i&&r.add(l[o]);return t.filter(l=>r.has(l.id))}function Ww(...e){if(e.length===3){const[r,s,l]=e;return Rh(r,s,l,"target")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(r=>Dn(r)&&r.source===o).map(r=>n.find(s=>qn(s)&&s.id===r.target))}function Kw(...e){if(e.length===3){const[r,s,l]=e;return Rh(r,s,l,"source")}const[t,n]=e,o=typeof t=="string"?t:t.id;return n.filter(r=>Dn(r)&&r.target===o).map(r=>n.find(s=>qn(s)&&s.id===r.source))}function Fh({source:e,sourceHandle:t,target:n,targetHandle:o}){return`vueflow__edge-${e}${t??""}-${n}${o??""}`}function Xw(e,t){return t.some(n=>Dn(n)&&n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle))}function Kl({x:e,y:t},{x:n,y:o,zoom:i}){return{x:e*i+n,y:t*i+o}}function li({x:e,y:t},{x:n,y:o,zoom:i},r=!1,s=[1,1]){const l={x:(e-n)/i,y:(t-o)/i};return r?Yr(l,s):l}function Zw(e,t){return{x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}}function Vh({x:e,y:t,width:n,height:o}){return{x:e,y:t,x2:e+n,y2:t+o}}function Qw({x:e,y:t,x2:n,y2:o}){return{x:e,y:t,width:n-e,height:o-t}}function Bh(e){let t={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,x2:Number.NEGATIVE_INFINITY,y2:Number.NEGATIVE_INFINITY};for(let n=0;n<e.length;n++){const o=e[n];t=Zw(t,Vh({...o.computedPosition,...o.dimensions}))}return Qw(t)}function Hh(e,t,n={x:0,y:0,zoom:1},o=!1,i=!1){const r={...li(t,n),width:t.width/n.zoom,height:t.height/n.zoom},s=[];for(const l of e){const{dimensions:a,selectable:c=!0,hidden:u=!1}=l,d=a.width??l.width??null,f=a.height??l.height??null;if(i&&!c||u)continue;const h=gr(r,pr(l)),g=d===null||f===null,p=o&&h>0,m=(d??0)*(f??0);(g||p||h>=m||l.dragging)&&s.push(l)}return s}function jh(e,t){const n=new Set;if(typeof e=="string")n.add(e);else if(e.length>=1)for(const o of e)n.add(o.id);return t.filter(o=>n.has(o.source)||n.has(o.target))}function ec(e,t,n,o,i,r=.1,s={x:0,y:0}){const l=t/(e.width*(1+r)),a=n/(e.height*(1+r)),c=Math.min(l,a),u=Qn(c,o,i),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u+(s.x??0),g=n/2-f*u+(s.y??0);return{x:h,y:g,zoom:u}}function Jw(e,t){return{x:t.x+e.x,y:t.y+e.y,z:(e.z>t.z?e.z:t.z)+1}}function zh(e,t){if(!e.parentNode)return!1;const n=t(e.parentNode);return n?n.selected?!0:zh(n,t):!1}function ai(e,t){return typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(o=>`${o}=${e[o]}`).join("&")}`}function tc(e){const t=e.ctrlKey&&mr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t}function nc(e,t,n){return e<t?Qn(Math.abs(e-t),1,t)/t:e>n?-Qn(Math.abs(e-n),1,t)/t:0}function Yh(e,t,n=15,o=40){const i=nc(e.x,o,t.width-o)*n,r=nc(e.y,o,t.height-o)*n;return[i,r]}function ys(e,t){if(t){const n=e.position.x+e.dimensions.width-t.dimensions.width,o=e.position.y+e.dimensions.height-t.dimensions.height;if(n>0||o>0||e.position.x<0||e.position.y<0){let i={};if(typeof t.style=="function"?i={...t.style(t)}:t.style&&(i={...t.style}),i.width=i.width??`${t.dimensions.width}px`,i.height=i.height??`${t.dimensions.height}px`,n>0)if(typeof i.width=="string"){const r=Number(i.width.replace("px",""));i.width=`${r+n}px`}else i.width+=n;if(o>0)if(typeof i.height=="string"){const r=Number(i.height.replace("px",""));i.height=`${r+o}px`}else i.height+=o;if(e.position.x<0){const r=Math.abs(e.position.x);if(t.position.x=t.position.x-r,typeof i.width=="string"){const s=Number(i.width.replace("px",""));i.width=`${s+r}px`}else i.width+=r;e.position.x=0}if(e.position.y<0){const r=Math.abs(e.position.y);if(t.position.y=t.position.y-r,typeof i.height=="string"){const s=Number(i.height.replace("px",""));i.height=`${s+r}px`}else i.height+=r;e.position.y=0}t.dimensions.width=Number(i.width.toString().replace("px","")),t.dimensions.height=Number(i.height.toString().replace("px","")),typeof t.style=="function"?t.style=r=>{const s=t.style;return{...s(r),...i}}:t.style={...t.style,...i}}}}function oc(e,t){var n,o;const i=e.filter(s=>s.type==="add"||s.type==="remove");for(const s of i)if(s.type==="add")t.findIndex(a=>a.id===s.item.id)===-1&&t.push(s.item);else if(s.type==="remove"){const l=t.findIndex(a=>a.id===s.id);l!==-1&&t.splice(l,1)}const r=t.map(s=>s.id);for(const s of t)for(const l of e)if(l.id===s.id)switch(l.type){case"select":s.selected=l.selected;break;case"position":if(Lo(s)&&(typeof l.position<"u"&&(s.position=l.position),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&s.parentNode)){const a=t[r.indexOf(s.parentNode)];a&&Lo(a)&&ys(s,a)}break;case"dimensions":if(Lo(s)&&(typeof l.dimensions<"u"&&(s.dimensions=l.dimensions),typeof l.updateStyle<"u"&&l.updateStyle&&(s.style={...s.style||{},width:`${(n=l.dimensions)==null?void 0:n.width}px`,height:`${(o=l.dimensions)==null?void 0:o.height}px`}),typeof l.resizing<"u"&&(s.resizing=l.resizing),s.expandParent&&s.parentNode)){const a=t[r.indexOf(s.parentNode)];a&&Lo(a)&&(!!a.dimensions.width&&!!a.dimensions.height?ys(s,a):mt(()=>{ys(s,a)}))}break}return t}function Cn(e,t){return{id:e,type:"select",selected:t}}function ic(e){return{item:e,type:"add"}}function rc(e){return{id:e,type:"remove"}}function sc(e,t,n,o,i){return{id:e,source:t,target:n,sourceHandle:o||null,targetHandle:i||null,type:"remove"}}function Tn(e,t=new Set,n=!1){const o=[];for(const[i,r]of e){const s=t.has(i);!(r.selected===void 0&&!s)&&r.selected!==s&&(n&&(r.selected=s),o.push(Cn(r.id,s)))}return o}function de(e){const t=new Set;let n=!1;const o=()=>t.size>0;e&&(n=!0,t.add(e));const i=l=>{t.delete(l)};return{on:l=>{e&&n&&t.delete(e),t.add(l);const a=()=>{i(l),e&&n&&t.add(e)};return Fr(a),{off:a}},off:i,trigger:l=>Promise.all(Array.from(t).map(a=>a(l))),hasListeners:o,fns:t}}function lc(e,t,n){let o=e;do{if(o&&o.matches(t))return!0;if(o===n)return!1;o=o.parentElement}while(o);return!1}function eb(e,t,n,o,i){var r,s;const l=[];for(const a of e)(a.selected||a.id===i)&&(!a.parentNode||!zh(a,o))&&(a.draggable||t&&typeof a.draggable>"u")&&l.push(Yn({id:a.id,position:a.position||{x:0,y:0},distance:{x:n.x-((r=a.computedPosition)==null?void 0:r.x)||0,y:n.y-((s=a.computedPosition)==null?void 0:s.y)||0},from:a.computedPosition,extent:a.extent,parentNode:a.parentNode,dimensions:a.dimensions,expandParent:a.expandParent}));return l}function _s({id:e,dragItems:t,findNode:n}){const o=[];for(const i of t){const r=n(i.id);r&&o.push(r)}return[e?o.find(i=>i.id===e):o[0],o]}function Gh(e){if(Array.isArray(e))switch(e.length){case 1:return[e[0],e[0],e[0],e[0]];case 2:return[e[0],e[1],e[0],e[1]];case 3:return[e[0],e[1],e[2],e[1]];case 4:return e;default:return[0,0,0,0]}return[e,e,e,e]}function tb(e,t,n){const[o,i,r,s]=typeof e!="string"?Gh(e.padding):[0,0,0,0];return n&&typeof n.computedPosition.x<"u"&&typeof n.computedPosition.y<"u"&&typeof n.dimensions.width<"u"&&typeof n.dimensions.height<"u"?[[n.computedPosition.x+s,n.computedPosition.y+o],[n.computedPosition.x+n.dimensions.width-i,n.computedPosition.y+n.dimensions.height-r]]:!1}function nb(e,t,n,o){let i=e.extent||n;if((i==="parent"||!Array.isArray(i)&&i?.range==="parent")&&!e.expandParent)if(e.parentNode&&o&&e.dimensions.width&&e.dimensions.height){const r=tb(i,e,o);r&&(i=r)}else t(new Qe(Ke.NODE_EXTENT_INVALID,e.id)),i=n;else if(Array.isArray(i)){const r=o?.computedPosition.x||0,s=o?.computedPosition.y||0;i=[[i[0][0]+r,i[0][1]+s],[i[1][0]+r,i[1][1]+s]]}else if(i!=="parent"&&i?.range&&Array.isArray(i.range)){const[r,s,l,a]=Gh(i.padding),c=o?.computedPosition.x||0,u=o?.computedPosition.y||0;i=[[i.range[0][0]+c+a,i.range[0][1]+u+r],[i.range[1][0]+c-s,i.range[1][1]+u-l]]}return i==="parent"?[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]]:i}function ob({width:e,height:t},n){return[n[0],[n[1][0]-(e||0),n[1][1]-(t||0)]]}function Da(e,t,n,o,i){const r=ob(e.dimensions,nb(e,n,o,i)),s=Ph(t,r);return{position:{x:s.x-(i?.computedPosition.x||0),y:s.y-(i?.computedPosition.y||0)},computedPosition:s}}function No(e,t,n=fe.Left,o=!1){const i=(t?.x??0)+e.computedPosition.x,r=(t?.y??0)+e.computedPosition.y,{width:s,height:l}=t??lb(e);if(o)return{x:i+s/2,y:r+l/2};switch(t?.position??n){case fe.Top:return{x:i+s/2,y:r};case fe.Right:return{x:i+s,y:r+l/2};case fe.Bottom:return{x:i+s/2,y:r+l};case fe.Left:return{x:i,y:r+l/2}}}function ac(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function ib({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:o,targetWidth:i,targetHeight:r,width:s,height:l,viewport:a}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+o,t.y+r)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Vh({x:(0-a.x)/a.zoom,y:(0-a.y)/a.zoom,width:s/a.zoom,height:l/a.zoom}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function rb(e,t,n=!1){const o=typeof e.zIndex=="number";let i=o?e.zIndex:0;const r=t(e.source),s=t(e.target);return!r||!s?0:(n&&(i=o?e.zIndex:Math.max(r.computedPosition.z||0,s.computedPosition.z||0)),i)}var Ke=(e=>(e.MISSING_STYLES="MISSING_STYLES",e.MISSING_VIEWPORT_DIMENSIONS="MISSING_VIEWPORT_DIMENSIONS",e.NODE_INVALID="NODE_INVALID",e.NODE_NOT_FOUND="NODE_NOT_FOUND",e.NODE_MISSING_PARENT="NODE_MISSING_PARENT",e.NODE_TYPE_MISSING="NODE_TYPE_MISSING",e.NODE_EXTENT_INVALID="NODE_EXTENT_INVALID",e.EDGE_INVALID="EDGE_INVALID",e.EDGE_NOT_FOUND="EDGE_NOT_FOUND",e.EDGE_SOURCE_MISSING="EDGE_SOURCE_MISSING",e.EDGE_TARGET_MISSING="EDGE_TARGET_MISSING",e.EDGE_TYPE_MISSING="EDGE_TYPE_MISSING",e.EDGE_SOURCE_TARGET_SAME="EDGE_SOURCE_TARGET_SAME",e.EDGE_SOURCE_TARGET_MISSING="EDGE_SOURCE_TARGET_MISSING",e.EDGE_ORPHANED="EDGE_ORPHANED",e.USEVUEFLOW_OPTIONS="USEVUEFLOW_OPTIONS",e))(Ke||{});const uc={MISSING_STYLES:()=>"It seems that you haven't loaded the necessary styles. Please import '@vue-flow/core/dist/style.css' to ensure that the graph is rendered correctly",MISSING_VIEWPORT_DIMENSIONS:()=>"The Vue Flow parent container needs a width and a height to render the graph",NODE_INVALID:e=>`Node is invalid
Node: ${e}`,NODE_NOT_FOUND:e=>`Node not found
Node: ${e}`,NODE_MISSING_PARENT:(e,t)=>`Node is missing a parent
Node: ${e}
Parent: ${t}`,NODE_TYPE_MISSING:e=>`Node type is missing
Type: ${e}`,NODE_EXTENT_INVALID:e=>`Only child nodes can use a parent extent
Node: ${e}`,EDGE_INVALID:e=>`An edge needs a source and a target
Edge: ${e}`,EDGE_SOURCE_MISSING:(e,t)=>`Edge source is missing
Edge: ${e} 
Source: ${t}`,EDGE_TARGET_MISSING:(e,t)=>`Edge target is missing
Edge: ${e} 
Target: ${t}`,EDGE_TYPE_MISSING:e=>`Edge type is missing
Type: ${e}`,EDGE_SOURCE_TARGET_SAME:(e,t,n)=>`Edge source and target are the same
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_SOURCE_TARGET_MISSING:(e,t,n)=>`Edge source or target is missing
Edge: ${e} 
Source: ${t} 
Target: ${n}`,EDGE_ORPHANED:e=>`Edge was orphaned (suddenly missing source or target) and has been removed
Edge: ${e}`,EDGE_NOT_FOUND:e=>`Edge not found
Edge: ${e}`,USEVUEFLOW_OPTIONS:()=>"The options parameter is deprecated and will be removed in the next major version. Please use the id parameter instead"};class Qe extends Error{constructor(t,...n){var o;super((o=uc[t])==null?void 0:o.call(uc,...n)),this.name="VueFlowError",this.code=t,this.args=n}}function $a(e){return"clientX"in e}function sb(e){return"sourceEvent"in e}function Wt(e,t){const n=$a(e);let o,i;return n?(o=e.clientX,i=e.clientY):"touches"in e&&e.touches.length>0?(o=e.touches[0].clientX,i=e.touches[0].clientY):"changedTouches"in e&&e.changedTouches.length>0?(o=e.changedTouches[0].clientX,i=e.changedTouches[0].clientY):(o=0,i=0),{x:o-(t?.left??0),y:i-(t?.top??0)}}const mr=()=>{var e;return typeof navigator<"u"&&((e=navigator?.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function lb(e){var t,n;return{width:((t=e.dimensions)==null?void 0:t.width)??e.width??0,height:((n=e.dimensions)==null?void 0:n.height)??e.height??0}}function Yr(e,t=[1,1]){return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}}const ab=()=>!0;function ws(e){e?.classList.remove("valid","connecting","vue-flow__handle-valid","vue-flow__handle-connecting")}function ub(e,t,n){const o=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const r of t.values())gr(i,pr(r))>0&&o.push(r);return o}const cb=250;function db(e,t,n,o){var i,r;let s=[],l=Number.POSITIVE_INFINITY;const a=ub(e,n,t+cb);for(const c of a){const u=[...((i=c.handleBounds)==null?void 0:i.source)??[],...((r=c.handleBounds)==null?void 0:r.target)??[]];for(const d of u){if(o.nodeId===d.nodeId&&o.type===d.type&&o.id===d.id)continue;const{x:f,y:h}=No(c,d,d.position,!0),g=Math.sqrt((f-e.x)**2+(h-e.y)**2);g>t||(g<l?(s=[{...d,x:f,y:h}],l=g):g===l&&s.push({...d,x:f,y:h}))}}if(!s.length)return null;if(s.length>1){const c=o.type==="source"?"target":"source";return s.find(u=>u.type===c)??s[0]}return s[0]}function cc(e,{handle:t,connectionMode:n,fromNodeId:o,fromHandleId:i,fromType:r,doc:s,lib:l,flowId:a,isValidConnection:c=ab},u,d,f){const h=r==="target",g=t?s.querySelector(`.${l}-flow__handle[data-id="${a}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:m}=Wt(e),w=s.elementFromPoint(p,m),_=w?.classList.contains(`${l}-flow__handle`)?w:g,x={handleDomNode:_,isValid:!1,connection:null,toHandle:null};if(_){const S=Uh(void 0,_),$=_.getAttribute("data-nodeid"),F=_.getAttribute("data-handleid"),W=_.classList.contains("connectable"),A=_.classList.contains("connectableend");if(!$||!S)return x;const O={source:h?$:o,sourceHandle:h?F:i,target:h?o:$,targetHandle:h?i:F};x.connection=O;const I=W&&A&&(n===vn.Strict?h&&S==="source"||!h&&S==="target":$!==o||F!==i);x.isValid=I&&c(O,{nodes:d,edges:u,sourceNode:f(O.source),targetNode:f(O.target)}),x.toHandle=t}return x}function Uh(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function fb(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function hb(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}function pb(e,t,n,o,i,r=!1){var s,l,a;const c=o.get(e);if(!c)return null;const u=i===vn.Strict?(s=c.handleBounds)==null?void 0:s[t]:[...((l=c.handleBounds)==null?void 0:l.source)??[],...((a=c.handleBounds)==null?void 0:a.target)??[]],d=(n?u?.find(f=>f.id===n):u?.[0])??null;return d&&r?{...d,...No(c,d,d.position,!0)}:d}const Xl={[fe.Left]:fe.Right,[fe.Right]:fe.Left,[fe.Top]:fe.Bottom,[fe.Bottom]:fe.Top},gb=["production","prod"];function Gr(e,...t){qh()&&console.warn(`[Vue Flow]: ${e}`,...t)}function qh(){return!gb.includes("production")}function dc(e,t,n,o,i){const r=t.querySelectorAll(`.vue-flow__handle.${e}`);return r?.length?Array.from(r).map(s=>{const l=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(l.left-n.left)/o,y:(l.top-n.top)/o,...zr(s)}}):null}function Zl(e,t,n,o,i,r=!1,s){i.value=!1,e.selected?(r||e.selected&&t)&&(o([e]),mt(()=>{s.blur()})):n([e])}function Ue(e){return typeof M(e)<"u"}function mb(e,t,n,o){if(!e||!e.source||!e.target)return n(new Qe(Ke.EDGE_INVALID,e?.id??"[ID UNKNOWN]")),!1;let i;return Dn(e)?i=e:i={...e,id:Fh(e)},i=Lh(i,void 0,o),Xw(i,t)?!1:i}function vb(e,t,n,o,i){if(!t.source||!t.target)return i(new Qe(Ke.EDGE_INVALID,e.id)),!1;if(!n)return i(new Qe(Ke.EDGE_NOT_FOUND,e.id)),!1;const{id:r,...s}=e;return{...s,id:o?Fh(t):r,source:t.source,target:t.target,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle}}function fc(e,t,n){const o={},i=[];for(let r=0;r<e.length;++r){const s=e[r];if(!qn(s)){n(new Qe(Ke.NODE_INVALID,s?.id)||`[ID UNKNOWN|INDEX ${r}]`);continue}const l=qw(s,t(s.id),s.parentNode);s.parentNode&&(o[s.parentNode]=!0),i[r]=l}for(const r of i){const s=t(r.parentNode)||i.find(l=>l.id===r.parentNode);r.parentNode&&!s&&n(new Qe(Ke.NODE_MISSING_PARENT,r.id,r.parentNode)),(r.parentNode||o[r.id])&&(o[r.id]&&(r.isParent=!0),s&&(s.isParent=!0))}return i}function hc(e,t,n,o,i,r){let s=i;const l=o.get(s)||new Map;o.set(s,l.set(n,t)),s=`${i}-${e}`;const a=o.get(s)||new Map;if(o.set(s,a.set(n,t)),r){s=`${i}-${e}-${r}`;const c=o.get(s)||new Map;o.set(s,c.set(n,t))}}function bs(e,t,n){e.clear();for(const o of n){const{source:i,target:r,sourceHandle:s=null,targetHandle:l=null}=o,a={edgeId:o.id,source:i,target:r,sourceHandle:s,targetHandle:l},c=`${i}-${s}--${r}-${l}`,u=`${r}-${l}--${i}-${s}`;hc("source",a,u,e,i,s),hc("target",a,c,e,r,l)}}function pc(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function xs(e,t,n,o,i,r,s,l){const a=[];for(const c of e){const u=Dn(c)?c:mb(c,l,i,r);if(!u)continue;const d=n(u.source),f=n(u.target);if(!d||!f){i(new Qe(Ke.EDGE_SOURCE_TARGET_MISSING,u.id,u.source,u.target));continue}if(!d){i(new Qe(Ke.EDGE_SOURCE_MISSING,u.id,u.source));continue}if(!f){i(new Qe(Ke.EDGE_TARGET_MISSING,u.id,u.target));continue}if(t&&!t(u,{edges:l,nodes:s,sourceNode:d,targetNode:f})){i(new Qe(Ke.EDGE_INVALID,u.id));continue}const h=o(u.id);a.push({...Lh(u,h,r),sourceNode:d,targetNode:f})}return a}const gc=Symbol("vueFlow"),Wh=Symbol("nodeId"),Kh=Symbol("nodeRef"),yb=Symbol("edgeId"),_b=Symbol("edgeRef"),Ur=Symbol("slots");function Xh(e){const{vueFlowRef:t,snapToGrid:n,snapGrid:o,noDragClassName:i,nodes:r,nodeExtent:s,nodeDragThreshold:l,viewport:a,autoPanOnNodeDrag:c,autoPanSpeed:u,nodesDraggable:d,panBy:f,findNode:h,multiSelectionActive:g,nodesSelectionActive:p,selectNodesOnDrag:m,removeSelectedElements:w,addSelectedNodes:_,updateNodePositions:x,emits:S}=Re(),{onStart:$,onDrag:F,onStop:W,onClick:A,el:O,disabled:D,id:I,selectable:E,dragHandle:K}=e,T=er(!1);let q=[],P,Q=null,ee={x:void 0,y:void 0},re={x:0,y:0},se=null,ue=!1,he=0,V=!1;const R=xb(),Y=({x:_e,y:C})=>{ee={x:_e,y:C};let N=!1;if(q=q.map(y=>{const b={x:_e-y.distance.x,y:C-y.distance.y},{computedPosition:v}=Da(y,n.value?Yr(b,o.value):b,S.error,s.value,y.parentNode?h(y.parentNode):void 0);return N=N||y.position.x!==v.x||y.position.y!==v.y,y.position=v,y}),!!N&&(x(q,!0,!0),T.value=!0,se)){const[y,b]=_s({id:I,dragItems:q,findNode:h});F({event:se,node:y,nodes:b})}},X=()=>{if(!Q)return;const[_e,C]=Yh(re,Q,u.value);if(_e!==0||C!==0){const N={x:(ee.x??0)-_e/a.value.zoom,y:(ee.y??0)-C/a.value.zoom};f({x:_e,y:C})&&Y(N)}he=requestAnimationFrame(X)},le=(_e,C)=>{ue=!0;const N=h(I);!m.value&&!g.value&&N&&(N.selected||w()),N&&ke(E)&&m.value&&Zl(N,g.value,_,w,p,!1,C);const y=R(_e.sourceEvent);if(ee=y,q=eb(r.value,d.value,y,h,I),q.length){const[b,v]=_s({id:I,dragItems:q,findNode:h});$({event:_e.sourceEvent,node:b,nodes:v})}},ae=(_e,C)=>{var N;_e.sourceEvent.type==="touchmove"&&_e.sourceEvent.touches.length>1||(l.value===0&&le(_e,C),ee=R(_e.sourceEvent),Q=((N=t.value)==null?void 0:N.getBoundingClientRect())||null,re=Wt(_e.sourceEvent,Q))},ge=(_e,C)=>{const N=R(_e.sourceEvent);if(!V&&ue&&c.value&&(V=!0,X()),!ue){const y=N.xSnapped-(ee.x??0),b=N.ySnapped-(ee.y??0);Math.sqrt(y*y+b*b)>l.value&&le(_e,C)}(ee.x!==N.xSnapped||ee.y!==N.ySnapped)&&q.length&&ue&&(se=_e.sourceEvent,re=Wt(_e.sourceEvent,Q),Y(N))},xe=_e=>{let C=!1;if(!ue&&!T.value&&!g.value){const N=_e.sourceEvent,y=R(N),b=y.xSnapped-(ee.x??0),v=y.ySnapped-(ee.y??0),k=Math.sqrt(b*b+v*v);k!==0&&k<=l.value&&(A?.(N),C=!0)}if(q.length&&!C){x(q,!1,!1);const[N,y]=_s({id:I,dragItems:q,findNode:h});W({event:_e.sourceEvent,node:N,nodes:y})}q=[],T.value=!1,V=!1,ue=!1,ee={x:void 0,y:void 0},cancelAnimationFrame(he)};return Se([()=>ke(D),O],([_e,C],N,y)=>{if(C){const b=Ot(C);_e||(P=U0().on("start",v=>ae(v,C)).on("drag",v=>ge(v,C)).on("end",v=>xe(v)).filter(v=>{const k=v.target,L=ke(K);return!v.button&&(!i.value||!lc(k,`.${i.value}`,C)&&(!L||lc(k,L,C)))}),b.call(P)),y(()=>{b.on(".drag",null),P&&(P.on("start",null),P.on("drag",null),P.on("end",null))})}}),T}function wb(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),updateStart:de(),update:de(),updateEnd:de()}}function bb(e,t){const n=wb();return n.doubleClick.on(o=>{var i,r;t.edgeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.edgeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.edgeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.edgeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.edgeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.edgeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.updateStart.on(o=>{var i,r;t.edgeUpdateStart(o),(r=(i=e.events)==null?void 0:i.updateStart)==null||r.call(i,o)}),n.update.on(o=>{var i,r;t.edgeUpdate(o),(r=(i=e.events)==null?void 0:i.update)==null||r.call(i,o)}),n.updateEnd.on(o=>{var i,r;t.edgeUpdateEnd(o),(r=(i=e.events)==null?void 0:i.updateEnd)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function xb(){const{viewport:e,snapGrid:t,snapToGrid:n,vueFlowRef:o}=Re();return i=>{var r;const s=((r=o.value)==null?void 0:r.getBoundingClientRect())??{left:0,top:0},l=sb(i)?i.sourceEvent:i,{x:a,y:c}=Wt(l,s),u=li({x:a,y:c},e.value),{x:d,y:f}=n.value?Yr(u,t.value):u;return{xSnapped:d,ySnapped:f,...u}}}function Mi(){return!0}function Zh({handleId:e,nodeId:t,type:n,isValidConnection:o,edgeUpdaterType:i,onEdgeUpdate:r,onEdgeUpdateEnd:s}){const{id:l,vueFlowRef:a,connectionMode:c,connectionRadius:u,connectOnClick:d,connectionClickStartHandle:f,nodesConnectable:h,autoPanOnConnect:g,autoPanSpeed:p,findNode:m,panBy:w,startConnection:_,updateConnection:x,endConnection:S,emits:$,viewport:F,edges:W,nodes:A,isValidConnection:O,nodeLookup:D}=Re();let I=null,E=!1,K=null;function T(P){var Q;const ee=ke(n)==="target",re=$a(P),se=Ju(P.target),ue=P.currentTarget;if(ue&&(re&&P.button===0||!re)){let he=function(ne){y=Wt(ne,_e),X=db(li(y,F.value,!1,[1,1]),u.value,D.value,k),b||(v(),b=!0);const te=cc(ne,{handle:X,connectionMode:c.value,fromNodeId:ke(t),fromHandleId:ke(e),fromType:ee?"target":"source",isValidConnection:Y,doc:se,lib:"vue",flowId:l,nodeLookup:D.value},W.value,A.value,m);K=te.handleDomNode,I=te.connection,E=hb(!!X,te.isValid);const oe={...G,isValid:E,to:te.toHandle&&E?Kl({x:te.toHandle.x,y:te.toHandle.y},F.value):y,toHandle:te.toHandle,toPosition:E&&te.toHandle?te.toHandle.position:Xl[k.position],toNode:te.toHandle?D.value.get(te.toHandle.nodeId):null};if(!(E&&X&&G?.toHandle&&oe.toHandle&&G.toHandle.type===oe.toHandle.type&&G.toHandle.nodeId===oe.toHandle.nodeId&&G.toHandle.id===oe.toHandle.id&&G.to.x===oe.to.x&&G.to.y===oe.to.y)){if(x(X&&E?Kl({x:X.x,y:X.y},F.value):y,te.toHandle,fb(!!X,E)),G=oe,!X&&!E&&!K)return ws(N);I&&I.source!==I.target&&K&&(ws(N),N=K,K.classList.add("connecting","vue-flow__handle-connecting"),K.classList.toggle("valid",!!E),K.classList.toggle("vue-flow__handle-valid",!!E))}},V=function(ne){(X||K)&&I&&E&&(r?r(ne,I):$.connect(I)),$.connectEnd(ne),i&&s?.(ne),ws(N),cancelAnimationFrame(le),S(ne),b=!1,E=!1,I=null,K=null,se.removeEventListener("mousemove",he),se.removeEventListener("mouseup",V),se.removeEventListener("touchmove",he),se.removeEventListener("touchend",V)};const R=m(ke(t));let Y=ke(o)||O.value||Mi;!Y&&R&&(Y=(ee?R.isValidSourcePos:R.isValidTargetPos)||Mi);let X,le=0;const{x:ae,y:ge}=Wt(P),xe=Uh(ke(i),ue),_e=(Q=a.value)==null?void 0:Q.getBoundingClientRect();if(!_e||!xe)return;const C=pb(ke(t),xe,ke(e),D.value,c.value);if(!C)return;let N,y=Wt(P,_e),b=!1;const v=()=>{if(!g.value)return;const[ne,te]=Yh(y,_e,p.value);w({x:ne,y:te}),le=requestAnimationFrame(v)},k={...C,nodeId:ke(t),type:xe,position:C.position},L=D.value.get(ke(t)),H={inProgress:!0,isValid:null,from:No(L,k,fe.Left,!0),fromHandle:k,fromPosition:k.position,fromNode:L,to:y,toHandle:null,toPosition:Xl[k.position],toNode:null};_({nodeId:ke(t),id:ke(e),type:xe,position:ue?.getAttribute("data-handlepos")||fe.Top,...y},{x:ae-_e.left,y:ge-_e.top}),$.connectStart({event:P,nodeId:ke(t),handleId:ke(e),handleType:xe});let G=H;se.addEventListener("mousemove",he),se.addEventListener("mouseup",V),se.addEventListener("touchmove",he),se.addEventListener("touchend",V)}}function q(P){var Q,ee;if(!d.value)return;const re=ke(n)==="target";if(!f.value){$.clickConnectStart({event:P,nodeId:ke(t),handleId:ke(e)}),_({nodeId:ke(t),type:ke(n),id:ke(e),position:fe.Top,...Wt(P)},void 0,!0);return}let se=ke(o)||O.value||Mi;const ue=m(ke(t));if(!se&&ue&&(se=(re?ue.isValidSourcePos:ue.isValidTargetPos)||Mi),ue&&(typeof ue.connectable>"u"?h.value:ue.connectable)===!1)return;const he=Ju(P.target),V=cc(P,{handle:{nodeId:ke(t),id:ke(e),type:ke(n),position:fe.Top,...Wt(P)},connectionMode:c.value,fromNodeId:f.value.nodeId,fromHandleId:f.value.id??null,fromType:f.value.type,isValidConnection:se,doc:he,lib:"vue",flowId:l,nodeLookup:D.value},W.value,A.value,m),R=((Q=V.connection)==null?void 0:Q.source)===((ee=V.connection)==null?void 0:ee.target);V.isValid&&V.connection&&!R&&$.connect(V.connection),$.clickConnectEnd(P),S(P,!0)}return{handlePointerDown:T,handleClick:q}}function Eb(){return Dt(Wh,"")}function Qh(e){const t=e??Eb()??"",n=Dt(Kh,be(null)),{findNode:o,edges:i,emits:r}=Re(),s=o(t);return s||r.error(new Qe(Ke.NODE_NOT_FOUND,t)),{id:t,nodeEl:n,node:s,parentNode:me(()=>o(s.parentNode)),connectedEdges:me(()=>jh([s],i.value))}}function Sb(){return{doubleClick:de(),click:de(),mouseEnter:de(),mouseMove:de(),mouseLeave:de(),contextMenu:de(),dragStart:de(),drag:de(),dragStop:de()}}function Cb(e,t){const n=Sb();return n.doubleClick.on(o=>{var i,r;t.nodeDoubleClick(o),(r=(i=e.events)==null?void 0:i.doubleClick)==null||r.call(i,o)}),n.click.on(o=>{var i,r;t.nodeClick(o),(r=(i=e.events)==null?void 0:i.click)==null||r.call(i,o)}),n.mouseEnter.on(o=>{var i,r;t.nodeMouseEnter(o),(r=(i=e.events)==null?void 0:i.mouseEnter)==null||r.call(i,o)}),n.mouseMove.on(o=>{var i,r;t.nodeMouseMove(o),(r=(i=e.events)==null?void 0:i.mouseMove)==null||r.call(i,o)}),n.mouseLeave.on(o=>{var i,r;t.nodeMouseLeave(o),(r=(i=e.events)==null?void 0:i.mouseLeave)==null||r.call(i,o)}),n.contextMenu.on(o=>{var i,r;t.nodeContextMenu(o),(r=(i=e.events)==null?void 0:i.contextMenu)==null||r.call(i,o)}),n.dragStart.on(o=>{var i,r;t.nodeDragStart(o),(r=(i=e.events)==null?void 0:i.dragStart)==null||r.call(i,o)}),n.drag.on(o=>{var i,r;t.nodeDrag(o),(r=(i=e.events)==null?void 0:i.drag)==null||r.call(i,o)}),n.dragStop.on(o=>{var i,r;t.nodeDragStop(o),(r=(i=e.events)==null?void 0:i.dragStop)==null||r.call(i,o)}),Object.entries(n).reduce((o,[i,r])=>(o.emit[i]=r.trigger,o.on[i]=r.on,o),{emit:{},on:{}})}function Jh(){const{getSelectedNodes:e,nodeExtent:t,updateNodePositions:n,findNode:o,snapGrid:i,snapToGrid:r,nodesDraggable:s,emits:l}=Re();return(a,c=!1)=>{const u=r.value?i.value[0]:5,d=r.value?i.value[1]:5,f=c?4:1,h=a.x*u*f,g=a.y*d*f,p=[];for(const m of e.value)if(m.draggable||s&&typeof m.draggable>"u"){const w={x:m.computedPosition.x+h,y:m.computedPosition.y+g},{computedPosition:_}=Da(m,w,l.error,t.value,m.parentNode?o(m.parentNode):void 0);p.push({id:m.id,position:_,from:m.position,distance:{x:a.x,y:a.y},dimensions:m.dimensions})}n(p,!0,!1)}}const Es=.1,Nb=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2;function En(){return Gr("Viewport not initialized yet."),Promise.resolve(!1)}const kb={zoomIn:En,zoomOut:En,zoomTo:En,fitView:En,setCenter:En,fitBounds:En,project:e=>e,screenToFlowCoordinate:e=>e,flowToScreenCoordinate:e=>e,setViewport:En,setTransform:En,getViewport:()=>({x:0,y:0,zoom:1}),getTransform:()=>({x:0,y:0,zoom:1}),viewportInitialized:!1};function Tb(e){function t(o,i){return new Promise(r=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(i?.interpolate==="linear"?Uo:Gi).scaleBy(Ss(e.d3Selection,i?.duration,i?.ease,()=>{r(!0)}),o):r(!1)})}function n(o,i,r,s){return new Promise(l=>{var a;const{x:c,y:u}=Ph({x:-o,y:-i},e.translateExtent),d=Co.translate(-c,-u).scale(r);e.d3Selection&&e.d3Zoom?(a=e.d3Zoom)==null||a.interpolate(s?.interpolate==="linear"?Uo:Gi).transform(Ss(e.d3Selection,s?.duration,s?.ease,()=>{l(!0)}),d):l(!1)})}return me(()=>e.d3Zoom&&e.d3Selection&&e.dimensions.width&&e.dimensions.height?{viewportInitialized:!0,zoomIn:i=>t(1.2,i),zoomOut:i=>t(1/1.2,i),zoomTo:(i,r)=>new Promise(s=>{e.d3Selection&&e.d3Zoom?e.d3Zoom.interpolate(r?.interpolate==="linear"?Uo:Gi).scaleTo(Ss(e.d3Selection,r?.duration,r?.ease,()=>{s(!0)}),i):s(!1)}),setViewport:(i,r)=>n(i.x,i.y,i.zoom,r),setTransform:(i,r)=>n(i.x,i.y,i.zoom,r),getViewport:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),getTransform:()=>({x:e.viewport.x,y:e.viewport.y,zoom:e.viewport.zoom}),fitView:(i={padding:Es,includeHiddenNodes:!1,duration:0})=>{var r,s;const l=[];for(const f of e.nodes)f.dimensions.width&&f.dimensions.height&&(i?.includeHiddenNodes||!f.hidden)&&(!((r=i.nodes)!=null&&r.length)||(s=i.nodes)!=null&&s.length&&i.nodes.includes(f.id))&&l.push(f);if(!l.length)return Promise.resolve(!1);const a=Bh(l),{x:c,y:u,zoom:d}=ec(a,e.dimensions.width,e.dimensions.height,i.minZoom??e.minZoom,i.maxZoom??e.maxZoom,i.padding??Es,i.offset);return n(c,u,d,i)},setCenter:(i,r,s)=>{const l=typeof s?.zoom<"u"?s.zoom:e.maxZoom,a=e.dimensions.width/2-i*l,c=e.dimensions.height/2-r*l;return n(a,c,l,s)},fitBounds:(i,r={padding:Es})=>{const{x:s,y:l,zoom:a}=ec(i,e.dimensions.width,e.dimensions.height,e.minZoom,e.maxZoom,r.padding);return n(s,l,a,r)},project:i=>li(i,e.viewport,e.snapToGrid,e.snapGrid),screenToFlowCoordinate:i=>{if(e.vueFlowRef){const{x:r,y:s}=e.vueFlowRef.getBoundingClientRect(),l={x:i.x-r,y:i.y-s};return li(l,e.viewport,e.snapToGrid,e.snapGrid)}return{x:0,y:0}},flowToScreenCoordinate:i=>{if(e.vueFlowRef){const{x:r,y:s}=e.vueFlowRef.getBoundingClientRect(),l={x:i.x+r,y:i.y+s};return Kl(l,e.viewport)}return{x:0,y:0}}}:kb)}function Ss(e,t=0,n=Nb,o=()=>{}){const i=typeof t=="number"&&t>0;return i||o(),i?e.transition().duration(t).ease(n).on("end",o):e}function Ab(e,t,n){const o=Gd(!0);return o.run(()=>{const i=()=>{o.run(()=>{let p,m,w=!!(n.nodes.value.length||n.edges.value.length);p=to([e.modelValue,()=>{var _,x;return(x=(_=e.modelValue)==null?void 0:_.value)==null?void 0:x.length}],([_])=>{_&&Array.isArray(_)&&(m?.pause(),n.setElements(_),!m&&!w&&_.length?w=!0:m?.resume())}),m=to([n.nodes,n.edges,()=>n.edges.value.length,()=>n.nodes.value.length],([_,x])=>{var S;(S=e.modelValue)!=null&&S.value&&Array.isArray(e.modelValue.value)&&(p?.pause(),e.modelValue.value=[..._,...x],mt(()=>{p?.resume()}))},{immediate:w}),Bo(()=>{p?.stop(),m?.stop()})})},r=()=>{o.run(()=>{let p,m,w=!!n.nodes.value.length;p=to([e.nodes,()=>{var _,x;return(x=(_=e.nodes)==null?void 0:_.value)==null?void 0:x.length}],([_])=>{_&&Array.isArray(_)&&(m?.pause(),n.setNodes(_),!m&&!w&&_.length?w=!0:m?.resume())}),m=to([n.nodes,()=>n.nodes.value.length],([_])=>{var x;(x=e.nodes)!=null&&x.value&&Array.isArray(e.nodes.value)&&(p?.pause(),e.nodes.value=[..._],mt(()=>{p?.resume()}))},{immediate:w}),Bo(()=>{p?.stop(),m?.stop()})})},s=()=>{o.run(()=>{let p,m,w=!!n.edges.value.length;p=to([e.edges,()=>{var _,x;return(x=(_=e.edges)==null?void 0:_.value)==null?void 0:x.length}],([_])=>{_&&Array.isArray(_)&&(m?.pause(),n.setEdges(_),!m&&!w&&_.length?w=!0:m?.resume())}),m=to([n.edges,()=>n.edges.value.length],([_])=>{var x;(x=e.edges)!=null&&x.value&&Array.isArray(e.edges.value)&&(p?.pause(),e.edges.value=[..._],mt(()=>{p?.resume()}))},{immediate:w}),Bo(()=>{p?.stop(),m?.stop()})})},l=()=>{o.run(()=>{Se(()=>t.maxZoom,()=>{t.maxZoom&&Ue(t.maxZoom)&&n.setMaxZoom(t.maxZoom)},{immediate:!0})})},a=()=>{o.run(()=>{Se(()=>t.minZoom,()=>{t.minZoom&&Ue(t.minZoom)&&n.setMinZoom(t.minZoom)},{immediate:!0})})},c=()=>{o.run(()=>{Se(()=>t.translateExtent,()=>{t.translateExtent&&Ue(t.translateExtent)&&n.setTranslateExtent(t.translateExtent)},{immediate:!0})})},u=()=>{o.run(()=>{Se(()=>t.nodeExtent,()=>{t.nodeExtent&&Ue(t.nodeExtent)&&n.setNodeExtent(t.nodeExtent)},{immediate:!0})})},d=()=>{o.run(()=>{Se(()=>t.applyDefault,()=>{Ue(t.applyDefault)&&(n.applyDefault.value=t.applyDefault)},{immediate:!0})})},f=()=>{o.run(()=>{const p=async m=>{let w=m;typeof t.autoConnect=="function"&&(w=await t.autoConnect(m)),w!==!1&&n.addEdges([w])};Se(()=>t.autoConnect,()=>{Ue(t.autoConnect)&&(n.autoConnect.value=t.autoConnect)},{immediate:!0}),Se(n.autoConnect,(m,w,_)=>{m?n.onConnect(p):n.hooks.value.connect.off(p),_(()=>{n.hooks.value.connect.off(p)})},{immediate:!0})})},h=()=>{const p=["id","modelValue","translateExtent","nodeExtent","edges","nodes","maxZoom","minZoom","applyDefault","autoConnect"];for(const m of Object.keys(t)){const w=m;if(!p.includes(w)){const _=Ye(()=>t[w]),x=n[w];Ge(x)&&o.run(()=>{Se(_,S=>{Ue(S)&&(x.value=S)},{immediate:!0})})}}};(()=>{i(),r(),s(),a(),l(),c(),u(),d(),f(),h()})()}),()=>o.stop()}function Ob(){return{edgesChange:de(),nodesChange:de(),nodeDoubleClick:de(),nodeClick:de(),nodeMouseEnter:de(),nodeMouseMove:de(),nodeMouseLeave:de(),nodeContextMenu:de(),nodeDragStart:de(),nodeDrag:de(),nodeDragStop:de(),nodesInitialized:de(),miniMapNodeClick:de(),miniMapNodeDoubleClick:de(),miniMapNodeMouseEnter:de(),miniMapNodeMouseMove:de(),miniMapNodeMouseLeave:de(),connect:de(),connectStart:de(),connectEnd:de(),clickConnectStart:de(),clickConnectEnd:de(),paneReady:de(),init:de(),move:de(),moveStart:de(),moveEnd:de(),selectionDragStart:de(),selectionDrag:de(),selectionDragStop:de(),selectionContextMenu:de(),selectionStart:de(),selectionEnd:de(),viewportChangeStart:de(),viewportChange:de(),viewportChangeEnd:de(),paneScroll:de(),paneClick:de(),paneContextMenu:de(),paneMouseEnter:de(),paneMouseMove:de(),paneMouseLeave:de(),edgeContextMenu:de(),edgeMouseEnter:de(),edgeMouseMove:de(),edgeMouseLeave:de(),edgeDoubleClick:de(),edgeClick:de(),edgeUpdateStart:de(),edgeUpdate:de(),edgeUpdateEnd:de(),updateNodeInternals:de(),error:de(e=>Gr(e.message))}}function Ib(e,t){_f(()=>{for(const[n,o]of Object.entries(t.value)){const i=r=>{e(n,r)};o.fns.add(i),Fr(()=>{o.off(i)})}})}function ep(){return{vueFlowRef:null,viewportRef:null,nodes:[],edges:[],connectionLookup:new Map,nodeTypes:{},edgeTypes:{},initialized:!1,dimensions:{width:0,height:0},viewport:{x:0,y:0,zoom:1},d3Zoom:null,d3Selection:null,d3ZoomHandler:null,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],selectionMode:Ma.Full,paneDragging:!1,preventScrolling:!0,zoomOnScroll:!0,zoomOnPinch:!0,zoomOnDoubleClick:!0,panOnScroll:!1,panOnScrollSpeed:.5,panOnScrollMode:qo.Free,paneClickDistance:0,panOnDrag:!0,edgeUpdaterRadius:10,onlyRenderVisibleElements:!1,defaultViewport:{x:0,y:0,zoom:1},nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,defaultMarkerColor:"#b1b1b7",connectionLineStyle:{},connectionLineType:null,connectionLineOptions:{type:Bn.Bezier,style:{}},connectionMode:vn.Loose,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectionPosition:{x:Number.NaN,y:Number.NaN},connectionRadius:20,connectOnClick:!0,connectionStatus:null,isValidConnection:null,snapGrid:[15,15],snapToGrid:!1,edgesUpdatable:!1,edgesFocusable:!0,nodesFocusable:!0,nodesConnectable:!0,nodesDraggable:!0,nodeDragThreshold:1,elementsSelectable:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,selectionKeyCode:"Shift",multiSelectionKeyCode:mr()?"Meta":"Control",zoomActivationKeyCode:mr()?"Meta":"Control",deleteKeyCode:"Backspace",panActivationKeyCode:"Space",hooks:Ob(),applyDefault:!0,autoConnect:!1,fitViewOnInit:!1,fitViewOnInitDone:!1,noDragClassName:"nodrag",noWheelClassName:"nowheel",noPanClassName:"nopan",defaultEdgeOptions:void 0,elevateEdgesOnSelect:!1,elevateNodesOnSelect:!0,autoPanOnNodeDrag:!0,autoPanOnConnect:!0,autoPanSpeed:15,disableKeyboardA11y:!1,ariaLiveMessage:""}}const Mb=["id","vueFlowRef","viewportRef","initialized","modelValue","nodes","edges","maxZoom","minZoom","translateExtent","hooks","defaultEdgeOptions"];function Db(e,t,n){const o=Tb(e),i=y=>{const b=y??[];e.hooks.updateNodeInternals.trigger(b)},r=y=>Kw(y,e.nodes,e.edges),s=y=>Ww(y,e.nodes,e.edges),l=y=>jh(y,e.edges),a=({id:y,type:b,nodeId:v})=>{var k;const L=y?`-${b}-${y}`:`-${b}`;return Array.from(((k=e.connectionLookup.get(`${v}${L}`))==null?void 0:k.values())??[])},c=y=>{if(y)return t.value.get(y)},u=y=>{if(y)return n.value.get(y)},d=(y,b,v)=>{var k,L;const Z=[];for(const H of y){const G={id:H.id,type:"position",dragging:v,from:H.from};if(b&&(G.position=H.position,H.parentNode)){const ne=c(H.parentNode);G.position={x:G.position.x-(((k=ne?.computedPosition)==null?void 0:k.x)??0),y:G.position.y-(((L=ne?.computedPosition)==null?void 0:L.y)??0)}}Z.push(G)}Z?.length&&e.hooks.nodesChange.trigger(Z)},f=y=>{if(!e.vueFlowRef)return;const b=e.vueFlowRef.querySelector(".vue-flow__transformationpane");if(!b)return;const v=window.getComputedStyle(b),{m22:k}=new window.DOMMatrixReadOnly(v.transform),L=[];for(const Z of y){const H=Z,G=c(H.id);if(G){const ne=zr(H.nodeElement);if(!!(ne.width&&ne.height&&(G.dimensions.width!==ne.width||G.dimensions.height!==ne.height||H.forceUpdate))){const oe=H.nodeElement.getBoundingClientRect();G.dimensions=ne,G.handleBounds.source=dc("source",H.nodeElement,oe,k,G.id),G.handleBounds.target=dc("target",H.nodeElement,oe,k,G.id),L.push({id:G.id,type:"dimensions",dimensions:ne})}}}!e.fitViewOnInitDone&&e.fitViewOnInit&&o.value.fitView().then(()=>{e.fitViewOnInitDone=!0}),L.length&&e.hooks.nodesChange.trigger(L)},h=(y,b)=>{const v=new Set,k=new Set;for(const H of y)qn(H)?v.add(H.id):Dn(H)&&k.add(H.id);const L=Tn(t.value,v,!0),Z=Tn(n.value,k);if(e.multiSelectionActive){for(const H of v)L.push(Cn(H,b));for(const H of k)Z.push(Cn(H,b))}L.length&&e.hooks.nodesChange.trigger(L),Z.length&&e.hooks.edgesChange.trigger(Z)},g=y=>{if(e.multiSelectionActive){const b=y.map(v=>Cn(v.id,!0));e.hooks.nodesChange.trigger(b);return}e.hooks.nodesChange.trigger(Tn(t.value,new Set(y.map(b=>b.id)),!0)),e.hooks.edgesChange.trigger(Tn(n.value))},p=y=>{if(e.multiSelectionActive){const b=y.map(v=>Cn(v.id,!0));e.hooks.edgesChange.trigger(b);return}e.hooks.edgesChange.trigger(Tn(n.value,new Set(y.map(b=>b.id)))),e.hooks.nodesChange.trigger(Tn(t.value,new Set,!0))},m=y=>{h(y,!0)},w=y=>{const v=(y||e.nodes).map(k=>(k.selected=!1,Cn(k.id,!1)));e.hooks.nodesChange.trigger(v)},_=y=>{const v=(y||e.edges).map(k=>(k.selected=!1,Cn(k.id,!1)));e.hooks.edgesChange.trigger(v)},x=y=>{if(!y||!y.length)return h([],!1);const b=y.reduce((v,k)=>{const L=Cn(k.id,!1);return qn(k)?v.nodes.push(L):v.edges.push(L),v},{nodes:[],edges:[]});b.nodes.length&&e.hooks.nodesChange.trigger(b.nodes),b.edges.length&&e.hooks.edgesChange.trigger(b.edges)},S=y=>{var b;(b=e.d3Zoom)==null||b.scaleExtent([y,e.maxZoom]),e.minZoom=y},$=y=>{var b;(b=e.d3Zoom)==null||b.scaleExtent([e.minZoom,y]),e.maxZoom=y},F=y=>{var b;(b=e.d3Zoom)==null||b.translateExtent(y),e.translateExtent=y},W=y=>{e.nodeExtent=y,i()},A=y=>{var b;(b=e.d3Zoom)==null||b.clickDistance(y)},O=y=>{e.nodesDraggable=y,e.nodesConnectable=y,e.elementsSelectable=y},D=y=>{const b=y instanceof Function?y(e.nodes):y;!e.initialized&&!b.length||(e.nodes=fc(b,c,e.hooks.error.trigger))},I=y=>{const b=y instanceof Function?y(e.edges):y;if(!e.initialized&&!b.length)return;const v=xs(b,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);bs(e.connectionLookup,n.value,v),e.edges=v},E=y=>{const b=y instanceof Function?y([...e.nodes,...e.edges]):y;!e.initialized&&!b.length||(D(b.filter(qn)),I(b.filter(Dn)))},K=y=>{let b=y instanceof Function?y(e.nodes):y;b=Array.isArray(b)?b:[b];const v=fc(b,c,e.hooks.error.trigger),k=[];for(const L of v)k.push(ic(L));k.length&&e.hooks.nodesChange.trigger(k)},T=y=>{let b=y instanceof Function?y(e.edges):y;b=Array.isArray(b)?b:[b];const v=xs(b,e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges),k=[];for(const L of v)k.push(ic(L));k.length&&e.hooks.edgesChange.trigger(k)},q=(y,b=!0,v=!1)=>{const k=y instanceof Function?y(e.nodes):y,L=Array.isArray(k)?k:[k],Z=[],H=[];function G(te){const oe=l(te);for(const ce of oe)(!Ue(ce.deletable)||ce.deletable)&&H.push(sc(ce.id,ce.source,ce.target,ce.sourceHandle,ce.targetHandle))}function ne(te){const oe=[];for(const ce of e.nodes)ce.parentNode===te&&oe.push(ce);if(oe.length){for(const ce of oe)Z.push(rc(ce.id));b&&G(oe);for(const ce of oe)ne(ce.id)}}for(const te of L){const oe=typeof te=="string"?c(te):te;oe&&(Ue(oe.deletable)&&!oe.deletable||(Z.push(rc(oe.id)),b&&G([oe]),v&&ne(oe.id)))}H.length&&e.hooks.edgesChange.trigger(H),Z.length&&e.hooks.nodesChange.trigger(Z)},P=y=>{const b=y instanceof Function?y(e.edges):y,v=Array.isArray(b)?b:[b],k=[];for(const L of v){const Z=typeof L=="string"?u(L):L;Z&&(Ue(Z.deletable)&&!Z.deletable||k.push(sc(typeof L=="string"?L:L.id,Z.source,Z.target,Z.sourceHandle,Z.targetHandle)))}e.hooks.edgesChange.trigger(k)},Q=(y,b,v=!0)=>{const k=u(y.id);if(!k)return!1;const L=e.edges.indexOf(k),Z=vb(y,b,k,v,e.hooks.error.trigger);if(Z){const[H]=xs([Z],e.isValidConnection,c,u,e.hooks.error.trigger,e.defaultEdgeOptions,e.nodes,e.edges);return e.edges=e.edges.map((G,ne)=>ne===L?H:G),bs(e.connectionLookup,n.value,[H]),H}return!1},ee=(y,b,v={replace:!1})=>{const k=u(y);if(!k)return;const L=typeof b=="function"?b(k):b;k.data=v.replace?L:{...k.data,...L}},re=y=>oc(y,e.nodes),se=y=>{const b=oc(y,e.edges);return bs(e.connectionLookup,n.value,b),b},ue=(y,b,v={replace:!1})=>{const k=c(y);if(!k)return;const L=typeof b=="function"?b(k):b;v.replace?e.nodes.splice(e.nodes.indexOf(k),1,L):Object.assign(k,L)},he=(y,b,v={replace:!1})=>{const k=c(y);if(!k)return;const L=typeof b=="function"?b(k):b;k.data=v.replace?L:{...k.data,...L}},V=(y,b,v=!1)=>{v?e.connectionClickStartHandle=y:e.connectionStartHandle=y,e.connectionEndHandle=null,e.connectionStatus=null,b&&(e.connectionPosition=b)},R=(y,b=null,v=null)=>{e.connectionStartHandle&&(e.connectionPosition=y,e.connectionEndHandle=b,e.connectionStatus=v)},Y=(y,b)=>{e.connectionPosition={x:Number.NaN,y:Number.NaN},e.connectionEndHandle=null,e.connectionStatus=null,b?e.connectionClickStartHandle=null:e.connectionStartHandle=null},X=y=>{const b=Uw(y),v=b?null:Lo(y)?y:c(y.id);return!b&&!v?[null,null,b]:[b?y:pr(v),v,b]},le=(y,b=!0,v=e.nodes)=>{const[k,L,Z]=X(y);if(!k)return[];const H=[];for(const G of v||e.nodes){if(!Z&&(G.id===L.id||!G.computedPosition))continue;const ne=pr(G),te=gr(ne,k);(b&&te>0||te>=ne.width*ne.height||te>=Number(k.width)*Number(k.height))&&H.push(G)}return H},ae=(y,b,v=!0)=>{const[k]=X(y);if(!k)return!1;const L=gr(k,b);return v&&L>0||L>=Number(k.width)*Number(k.height)},ge=y=>{const{viewport:b,dimensions:v,d3Zoom:k,d3Selection:L,translateExtent:Z}=e;if(!k||!L||!y.x&&!y.y)return!1;const H=Co.translate(b.x+y.x,b.y+y.y).scale(b.zoom),G=[[0,0],[v.width,v.height]],ne=k.constrain()(H,G,Z),te=e.viewport.x!==ne.x||e.viewport.y!==ne.y||e.viewport.zoom!==ne.k;return k.transform(L,ne),te},xe=y=>{const b=y instanceof Function?y(e):y,v=["d3Zoom","d3Selection","d3ZoomHandler","viewportRef","vueFlowRef","dimensions","hooks"];Ue(b.defaultEdgeOptions)&&(e.defaultEdgeOptions=b.defaultEdgeOptions);const k=b.modelValue||b.nodes||b.edges?[]:void 0;k&&(b.modelValue&&k.push(...b.modelValue),b.nodes&&k.push(...b.nodes),b.edges&&k.push(...b.edges),E(k));const L=()=>{Ue(b.maxZoom)&&$(b.maxZoom),Ue(b.minZoom)&&S(b.minZoom),Ue(b.translateExtent)&&F(b.translateExtent)};for(const Z of Object.keys(b)){const H=Z,G=b[H];![...Mb,...v].includes(H)&&Ue(G)&&(e[H]=G)}Fl(()=>e.d3Zoom).not.toBeNull().then(L),e.initialized||(e.initialized=!0)};return{updateNodePositions:d,updateNodeDimensions:f,setElements:E,setNodes:D,setEdges:I,addNodes:K,addEdges:T,removeNodes:q,removeEdges:P,findNode:c,findEdge:u,updateEdge:Q,updateEdgeData:ee,updateNode:ue,updateNodeData:he,applyEdgeChanges:se,applyNodeChanges:re,addSelectedElements:m,addSelectedNodes:g,addSelectedEdges:p,setMinZoom:S,setMaxZoom:$,setTranslateExtent:F,setNodeExtent:W,setPaneClickDistance:A,removeSelectedElements:x,removeSelectedNodes:w,removeSelectedEdges:_,startConnection:V,updateConnection:R,endConnection:Y,setInteractive:O,setState:xe,getIntersectingNodes:le,getIncomers:r,getOutgoers:s,getConnectedEdges:l,getHandleConnections:a,isNodeIntersecting:ae,panBy:ge,fitView:y=>o.value.fitView(y),zoomIn:y=>o.value.zoomIn(y),zoomOut:y=>o.value.zoomOut(y),zoomTo:(y,b)=>o.value.zoomTo(y,b),setViewport:(y,b)=>o.value.setViewport(y,b),setTransform:(y,b)=>o.value.setTransform(y,b),getViewport:()=>o.value.getViewport(),getTransform:()=>o.value.getTransform(),setCenter:(y,b,v)=>o.value.setCenter(y,b,v),fitBounds:(y,b)=>o.value.fitBounds(y,b),project:y=>o.value.project(y),screenToFlowCoordinate:y=>o.value.screenToFlowCoordinate(y),flowToScreenCoordinate:y=>o.value.flowToScreenCoordinate(y),toObject:()=>{const y=[],b=[];for(const v of e.nodes){const{computedPosition:k,handleBounds:L,selected:Z,dimensions:H,isParent:G,resizing:ne,dragging:te,events:oe,...ce}=v;y.push(ce)}for(const v of e.edges){const{selected:k,sourceNode:L,targetNode:Z,events:H,...G}=v;b.push(G)}return JSON.parse(JSON.stringify({nodes:y,edges:b,position:[e.viewport.x,e.viewport.y],zoom:e.viewport.zoom,viewport:e.viewport}))},fromObject:y=>new Promise(b=>{const{nodes:v,edges:k,position:L,zoom:Z,viewport:H}=y;if(v&&D(v),k&&I(k),H?.x&&H?.y||L){const G=H?.x||L[0],ne=H?.y||L[1],te=H?.zoom||Z||e.viewport.zoom;return Fl(()=>o.value.viewportInitialized).toBe(!0).then(()=>{o.value.setViewport({x:G,y:ne,zoom:te}).then(()=>{b(!0)})})}else b(!0)}),updateNodeInternals:i,viewportHelper:o,$reset:()=>{const y=ep();if(e.edges=[],e.nodes=[],e.d3Zoom&&e.d3Selection){const b=Co.translate(y.defaultViewport.x??0,y.defaultViewport.y??0).scale(Qn(y.defaultViewport.zoom??1,y.minZoom,y.maxZoom)),v=e.viewportRef.getBoundingClientRect(),k=[[0,0],[v.width,v.height]],L=e.d3Zoom.constrain()(b,k,y.translateExtent);e.d3Zoom.transform(e.d3Selection,L)}xe(y)},$destroy:()=>{}}}const $b=["data-id","data-handleid","data-nodeid","data-handlepos"],Pb={name:"Handle",compatConfig:{MODE:3}},yn=ze({...Pb,props:{id:{default:null},type:{},position:{default:()=>fe.Top},isValidConnection:{type:Function},connectable:{type:[Boolean,Number,String,Function],default:void 0},connectableStart:{type:Boolean,default:!0},connectableEnd:{type:Boolean,default:!0}},setup(e,{expose:t}){const n=xm(e,["position","connectable","connectableStart","connectableEnd","id"]),o=Ye(()=>n.type??"source"),i=Ye(()=>n.isValidConnection??null),{id:r,connectionStartHandle:s,connectionClickStartHandle:l,connectionEndHandle:a,vueFlowRef:c,nodesConnectable:u,noDragClassName:d,noPanClassName:f}=Re(),{id:h,node:g,nodeEl:p,connectedEdges:m}=Qh(),w=be(),_=Ye(()=>typeof e.connectableStart<"u"?e.connectableStart:!0),x=Ye(()=>typeof e.connectableEnd<"u"?e.connectableEnd:!0),S=Ye(()=>{var I,E,K,T,q,P;return((I=s.value)==null?void 0:I.nodeId)===h&&((E=s.value)==null?void 0:E.id)===e.id&&((K=s.value)==null?void 0:K.type)===o.value||((T=a.value)==null?void 0:T.nodeId)===h&&((q=a.value)==null?void 0:q.id)===e.id&&((P=a.value)==null?void 0:P.type)===o.value}),$=Ye(()=>{var I,E,K;return((I=l.value)==null?void 0:I.nodeId)===h&&((E=l.value)==null?void 0:E.id)===e.id&&((K=l.value)==null?void 0:K.type)===o.value}),{handlePointerDown:F,handleClick:W}=Zh({nodeId:h,handleId:e.id,isValidConnection:i,type:o}),A=me(()=>typeof e.connectable=="string"&&e.connectable==="single"?!m.value.some(I=>{const E=I[`${o.value}Handle`];return I[o.value]!==h?!1:E?E===e.id:!0}):typeof e.connectable=="number"?m.value.filter(I=>{const E=I[`${o.value}Handle`];return I[o.value]!==h?!1:E?E===e.id:!0}).length<e.connectable:typeof e.connectable=="function"?e.connectable(g,m.value):Ue(e.connectable)?e.connectable:u.value);ut(()=>{var I;if(!g.dimensions.width||!g.dimensions.height)return;const E=(I=g.handleBounds[o.value])==null?void 0:I.find(re=>re.id===e.id);if(!c.value||E)return;const K=c.value.querySelector(".vue-flow__transformationpane");if(!p.value||!w.value||!K||!e.id)return;const T=p.value.getBoundingClientRect(),q=w.value.getBoundingClientRect(),P=window.getComputedStyle(K),{m22:Q}=new window.DOMMatrixReadOnly(P.transform),ee={id:e.id,position:e.position,x:(q.left-T.left)/Q,y:(q.top-T.top)/Q,type:o.value,nodeId:h,...zr(w.value)};g.handleBounds[o.value]=[...g.handleBounds[o.value]??[],ee]});function O(I){const E=$a(I);A.value&&_.value&&(E&&I.button===0||!E)&&F(I)}function D(I){!h||!l.value&&!_.value||A.value&&W(I)}return t({handleClick:W,handlePointerDown:F,onClick:D,onPointerDown:O}),(I,E)=>(z(),J("div",{ref_key:"handle",ref:w,"data-id":`${M(r)}-${M(h)}-${e.id}-${o.value}`,"data-handleid":e.id,"data-nodeid":M(h),"data-handlepos":I.position,class:Je(["vue-flow__handle",[`vue-flow__handle-${I.position}`,`vue-flow__handle-${e.id}`,M(d),M(f),o.value,{connectable:A.value,connecting:$.value,connectablestart:_.value,connectableend:x.value,connectionindicator:A.value&&(_.value&&!S.value||x.value&&S.value)}]]),onMousedown:O,onTouchstartPassive:O,onClick:D},[Lt(I.$slots,"default",{id:I.id})],42,$b))}}),qr=function({sourcePosition:e=fe.Bottom,targetPosition:t=fe.Top,label:n,connectable:o=!0,isValidTargetPos:i,isValidSourcePos:r,data:s}){const l=s.label??n;return[Pe(yn,{type:"target",position:t,connectable:o,isValidConnection:i}),typeof l!="string"&&l?Pe(l):Pe(ve,[l]),Pe(yn,{type:"source",position:e,connectable:o,isValidConnection:r})]};qr.props=["sourcePosition","targetPosition","label","isValidTargetPos","isValidSourcePos","connectable","data"];qr.inheritAttrs=!1;qr.compatConfig={MODE:3};const Lb=qr,Wr=function({targetPosition:e=fe.Top,label:t,connectable:n=!0,isValidTargetPos:o,data:i}){const r=i.label??t;return[Pe(yn,{type:"target",position:e,connectable:n,isValidConnection:o}),typeof r!="string"&&r?Pe(r):Pe(ve,[r])]};Wr.props=["targetPosition","label","isValidTargetPos","connectable","data"];Wr.inheritAttrs=!1;Wr.compatConfig={MODE:3};const Rb=Wr,Kr=function({sourcePosition:e=fe.Bottom,label:t,connectable:n=!0,isValidSourcePos:o,data:i}){const r=i.label??t;return[typeof r!="string"&&r?Pe(r):Pe(ve,[r]),Pe(yn,{type:"source",position:e,connectable:n,isValidConnection:o})]};Kr.props=["sourcePosition","label","isValidSourcePos","connectable","data"];Kr.inheritAttrs=!1;Kr.compatConfig={MODE:3};const Fb=Kr,Vb=["transform"],Bb=["width","height","x","y","rx","ry"],Hb=["y"],jb={name:"EdgeText",compatConfig:{MODE:3}},zb=ze({...jb,props:{x:{},y:{},label:{},labelStyle:{default:()=>({})},labelShowBg:{type:Boolean,default:!0},labelBgStyle:{default:()=>({})},labelBgPadding:{default:()=>[2,4]},labelBgBorderRadius:{default:2}},setup(e){const t=be({x:0,y:0,width:0,height:0}),n=be(null),o=me(()=>`translate(${e.x-t.value.width/2} ${e.y-t.value.height/2})`);ut(i),Se([()=>e.x,()=>e.y,n,()=>e.label],i);function i(){if(!n.value)return;const r=n.value.getBBox();(r.width!==t.value.width||r.height!==t.value.height)&&(t.value=r)}return(r,s)=>(z(),J("g",{transform:o.value,class:"vue-flow__edge-textwrapper"},[r.labelShowBg?(z(),J("rect",{key:0,class:"vue-flow__edge-textbg",width:`${t.value.width+2*r.labelBgPadding[0]}px`,height:`${t.value.height+2*r.labelBgPadding[1]}px`,x:-r.labelBgPadding[0],y:-r.labelBgPadding[1],style:at(r.labelBgStyle),rx:r.labelBgBorderRadius,ry:r.labelBgBorderRadius},null,12,Bb)):Ee("",!0),B("text",gn(r.$attrs,{ref_key:"el",ref:n,class:"vue-flow__edge-text",y:t.value.height/2,dy:"0.3em",style:r.labelStyle}),[Lt(r.$slots,"default",{},()=>[typeof r.label!="string"?(z(),Ve(Sf(r.label),{key:0})):(z(),J(ve,{key:1},[yi(Te(r.label),1)],64))])],16,Hb)],8,Vb))}}),Yb=["id","d","marker-end","marker-start"],Gb=["d","stroke-width"],Ub={name:"BaseEdge",inheritAttrs:!1,compatConfig:{MODE:3}},Xr=ze({...Ub,props:{id:{},labelX:{},labelY:{},path:{},label:{},markerStart:{},markerEnd:{},interactionWidth:{default:20},labelStyle:{},labelShowBg:{type:Boolean},labelBgStyle:{},labelBgPadding:{},labelBgBorderRadius:{}},setup(e,{expose:t}){const n=be(null),o=be(null),i=be(null),r=bm();return t({pathEl:n,interactionEl:o,labelEl:i}),(s,l)=>(z(),J(ve,null,[B("path",gn(M(r),{id:s.id,ref_key:"pathEl",ref:n,d:s.path,class:"vue-flow__edge-path","marker-end":s.markerEnd,"marker-start":s.markerStart}),null,16,Yb),s.interactionWidth?(z(),J("path",{key:0,ref_key:"interactionEl",ref:o,fill:"none",d:s.path,"stroke-width":s.interactionWidth,"stroke-opacity":0,class:"vue-flow__edge-interaction"},null,8,Gb)):Ee("",!0),s.label&&s.labelX&&s.labelY?(z(),Ve(zb,{key:1,ref_key:"labelEl",ref:i,x:s.labelX,y:s.labelY,label:s.label,"label-show-bg":s.labelShowBg,"label-bg-style":s.labelBgStyle,"label-bg-padding":s.labelBgPadding,"label-bg-border-radius":s.labelBgBorderRadius,"label-style":s.labelStyle},null,8,["x","y","label","label-show-bg","label-bg-style","label-bg-padding","label-bg-border-radius","label-style"])):Ee("",!0)],64))}});function tp({sourceX:e,sourceY:t,targetX:n,targetY:o}){const i=Math.abs(n-e)/2,r=n<e?n+i:n-i,s=Math.abs(o-t)/2,l=o<t?o+s:o-s;return[r,l,i,s]}function np({sourceX:e,sourceY:t,targetX:n,targetY:o,sourceControlX:i,sourceControlY:r,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,c=t*.125+r*.375+l*.375+o*.125,u=Math.abs(a-e),d=Math.abs(c-t);return[a,c,u,d]}function Di(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function mc({pos:e,x1:t,y1:n,x2:o,y2:i,c:r}){let s,l;switch(e){case fe.Left:s=t-Di(t-o,r),l=n;break;case fe.Right:s=t+Di(o-t,r),l=n;break;case fe.Top:s=t,l=n-Di(n-i,r);break;case fe.Bottom:s=t,l=n+Di(i-n,r);break}return[s,l]}function op(e){const{sourceX:t,sourceY:n,sourcePosition:o=fe.Bottom,targetX:i,targetY:r,targetPosition:s=fe.Top,curvature:l=.25}=e,[a,c]=mc({pos:o,x1:t,y1:n,x2:i,y2:r,c:l}),[u,d]=mc({pos:s,x1:i,y1:r,x2:t,y2:n,c:l}),[f,h,g,p]=np({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${t},${n} C${a},${c} ${u},${d} ${i},${r}`,f,h,g,p]}function vc({pos:e,x1:t,y1:n,x2:o,y2:i}){let r,s;switch(e){case fe.Left:case fe.Right:r=.5*(t+o),s=n;break;case fe.Top:case fe.Bottom:r=t,s=.5*(n+i);break}return[r,s]}function ip(e){const{sourceX:t,sourceY:n,sourcePosition:o=fe.Bottom,targetX:i,targetY:r,targetPosition:s=fe.Top}=e,[l,a]=vc({pos:o,x1:t,y1:n,x2:i,y2:r}),[c,u]=vc({pos:s,x1:i,y1:r,x2:t,y2:n}),[d,f,h,g]=np({sourceX:t,sourceY:n,targetX:i,targetY:r,sourceControlX:l,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${t},${n} C${l},${a} ${c},${u} ${i},${r}`,d,f,h,g]}const yc={[fe.Left]:{x:-1,y:0},[fe.Right]:{x:1,y:0},[fe.Top]:{x:0,y:-1},[fe.Bottom]:{x:0,y:1}};function qb({source:e,sourcePosition:t=fe.Bottom,target:n}){return t===fe.Left||t===fe.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1}}function _c(e,t){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Wb({source:e,sourcePosition:t=fe.Bottom,target:n,targetPosition:o=fe.Top,center:i,offset:r}){const s=yc[t],l=yc[o],a={x:e.x+s.x*r,y:e.y+s.y*r},c={x:n.x+l.x*r,y:n.y+l.y*r},u=qb({source:a,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let h,g,p;const m={x:0,y:0},w={x:0,y:0},[_,x,S,$]=tp({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){g=i.x??_,p=i.y??x;const W=[{x:g,y:a.y},{x:g,y:c.y}],A=[{x:a.x,y:p},{x:c.x,y:p}];s[d]===f?h=d==="x"?W:A:h=d==="x"?A:W}else{const W=[{x:a.x,y:c.y}],A=[{x:c.x,y:a.y}];if(d==="x"?h=s.x===f?A:W:h=s.y===f?W:A,t===o){const K=Math.abs(e[d]-n[d]);if(K<=r){const T=Math.min(r-1,r-K);s[d]===f?m[d]=(a[d]>e[d]?-1:1)*T:w[d]=(c[d]>n[d]?-1:1)*T}}if(t!==o){const K=d==="x"?"y":"x",T=s[d]===l[K],q=a[K]>c[K],P=a[K]<c[K];(s[d]===1&&(!T&&q||T&&P)||s[d]!==1&&(!T&&P||T&&q))&&(h=d==="x"?W:A)}const O={x:a.x+m.x,y:a.y+m.y},D={x:c.x+w.x,y:c.y+w.y},I=Math.max(Math.abs(O.x-h[0].x),Math.abs(D.x-h[0].x)),E=Math.max(Math.abs(O.y-h[0].y),Math.abs(D.y-h[0].y));I>=E?(g=(O.x+D.x)/2,p=h[0].y):(g=h[0].x,p=(O.y+D.y)/2)}return[[e,{x:a.x+m.x,y:a.y+m.y},...h,{x:c.x+w.x,y:c.y+w.y},n],g,p,S,$]}function Kb(e,t,n,o){const i=Math.min(_c(e,t)/2,_c(t,n)/2,o),{x:r,y:s}=t;if(e.x===r&&r===n.x||e.y===s&&s===n.y)return`L${r} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${r+i*c},${s}Q ${r},${s} ${r},${s+i*u}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${r},${s+i*a}Q ${r},${s} ${r+i*l},${s}`}function vr(e){const{sourceX:t,sourceY:n,sourcePosition:o=fe.Bottom,targetX:i,targetY:r,targetPosition:s=fe.Top,borderRadius:l=5,centerX:a,centerY:c,offset:u=20}=e,[d,f,h,g,p]=Wb({source:{x:t,y:n},sourcePosition:o,target:{x:i,y:r},targetPosition:s,center:{x:a,y:c},offset:u});return[d.reduce((w,_,x)=>{let S;return x>0&&x<d.length-1?S=Kb(d[x-1],_,d[x+1],l):S=`${x===0?"M":"L"}${_.x} ${_.y}`,w+=S,w},""),f,h,g,p]}function Xb(e){const{sourceX:t,sourceY:n,targetX:o,targetY:i}=e,[r,s,l,a]=tp({sourceX:t,sourceY:n,targetX:o,targetY:i});return[`M ${t},${n}L ${o},${i}`,r,s,l,a]}const Zb=ze({name:"StraightEdge",props:["label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=Xb(e);return Pe(Xr,{path:n,labelX:o,labelY:i,...t,...e})}}}),Qb=Zb,Jb=ze({name:"SmoothStepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","borderRadius","markerEnd","markerStart","interactionWidth","offset"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=vr({...e,sourcePosition:e.sourcePosition??fe.Bottom,targetPosition:e.targetPosition??fe.Top});return Pe(Xr,{path:n,labelX:o,labelY:i,...t,...e})}}}),rp=Jb,e1=ze({name:"StepEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],setup(e,{attrs:t}){return()=>Pe(rp,{...e,...t,borderRadius:0})}}),t1=e1,n1=ze({name:"BezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","curvature","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=op({...e,sourcePosition:e.sourcePosition??fe.Bottom,targetPosition:e.targetPosition??fe.Top});return Pe(Xr,{path:n,labelX:o,labelY:i,...t,...e})}}}),o1=n1,i1=ze({name:"SimpleBezierEdge",props:["sourcePosition","targetPosition","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","sourceY","sourceX","targetX","targetY","markerEnd","markerStart","interactionWidth"],compatConfig:{MODE:3},setup(e,{attrs:t}){return()=>{const[n,o,i]=ip({...e,sourcePosition:e.sourcePosition??fe.Bottom,targetPosition:e.targetPosition??fe.Top});return Pe(Xr,{path:n,labelX:o,labelY:i,...t,...e})}}}),r1=i1,s1={input:Fb,default:Lb,output:Rb},l1={default:o1,straight:Qb,step:t1,smoothstep:rp,simplebezier:r1};function a1(e,t,n){const o=me(()=>p=>t.value.get(p)),i=me(()=>p=>n.value.get(p)),r=me(()=>{const p={...l1,...e.edgeTypes},m=Object.keys(p);for(const w of e.edges)w.type&&!m.includes(w.type)&&(p[w.type]=w.type);return p}),s=me(()=>{const p={...s1,...e.nodeTypes},m=Object.keys(p);for(const w of e.nodes)w.type&&!m.includes(w.type)&&(p[w.type]=w.type);return p}),l=me(()=>e.onlyRenderVisibleElements?Hh(e.nodes,{x:0,y:0,width:e.dimensions.width,height:e.dimensions.height},e.viewport,!0):e.nodes),a=me(()=>{if(e.onlyRenderVisibleElements){const p=[];for(const m of e.edges){const w=t.value.get(m.source),_=t.value.get(m.target);ib({sourcePos:w.computedPosition||{x:0,y:0},targetPos:_.computedPosition||{x:0,y:0},sourceWidth:w.dimensions.width,sourceHeight:w.dimensions.height,targetWidth:_.dimensions.width,targetHeight:_.dimensions.height,width:e.dimensions.width,height:e.dimensions.height,viewport:e.viewport})&&p.push(m)}return p}return e.edges}),c=me(()=>[...l.value,...a.value]),u=me(()=>{const p=[];for(const m of e.nodes)m.selected&&p.push(m);return p}),d=me(()=>{const p=[];for(const m of e.edges)m.selected&&p.push(m);return p}),f=me(()=>[...u.value,...d.value]),h=me(()=>{const p=[];for(const m of e.nodes)m.dimensions.width&&m.dimensions.height&&m.handleBounds!==void 0&&p.push(m);return p}),g=me(()=>l.value.length>0&&h.value.length===l.value.length);return{getNode:o,getEdge:i,getElements:c,getEdgeTypes:r,getNodeTypes:s,getEdges:a,getNodes:l,getSelectedElements:f,getSelectedNodes:u,getSelectedEdges:d,getNodesInitialized:h,areNodesInitialized:g}}class Hn{constructor(){this.currentId=0,this.flows=new Map}static getInstance(){var t;const n=(t=bn())==null?void 0:t.appContext.app,o=n?.config.globalProperties.$vueFlowStorage??Hn.instance;return Hn.instance=o??new Hn,n&&(n.config.globalProperties.$vueFlowStorage=Hn.instance),Hn.instance}set(t,n){return this.flows.set(t,n)}get(t){return this.flows.get(t)}remove(t){return this.flows.delete(t)}create(t,n){const o=ep(),i=bt(o),r={};for(const[f,h]of Object.entries(i.hooks)){const g=`on${f.charAt(0).toUpperCase()+f.slice(1)}`;r[g]=h.on}const s={};for(const[f,h]of Object.entries(i.hooks))s[f]=h.trigger;const l=me(()=>{const f=new Map;for(const h of i.nodes)f.set(h.id,h);return f}),a=me(()=>{const f=new Map;for(const h of i.edges)f.set(h.id,h);return f}),c=a1(i,l,a),u=Db(i,l,a);u.setState({...i,...n});const d={...r,...c,...u,...ty(i),nodeLookup:l,edgeLookup:a,emits:s,id:t,vueFlowVersion:"1.46.0",$destroy:()=>{this.remove(t)}};return this.set(t,d),d}getId(){return`vue-flow-${this.currentId++}`}}function Re(e){const t=Hn.getInstance(),n=Or(),o=typeof e=="object",i=o?e:{id:e},r=i.id,s=r??n?.vueFlowId;let l;if(n){const a=Dt(gc,null);typeof a<"u"&&a!==null&&(!s||a.id===s)&&(l=a)}if(l||s&&(l=t.get(s)),!l||s&&l.id!==s){const a=r??t.getId(),c=t.create(a,i);l=c,(n??Gd(!0)).run(()=>{Se(c.applyDefault,(d,f,h)=>{const g=m=>{c.applyNodeChanges(m)},p=m=>{c.applyEdgeChanges(m)};d?(c.onNodesChange(g),c.onEdgesChange(p)):(c.hooks.value.nodesChange.off(g),c.hooks.value.edgesChange.off(p)),h(()=>{c.hooks.value.nodesChange.off(g),c.hooks.value.edgesChange.off(p)})},{immediate:!0}),Fr(()=>{if(l){const d=t.get(l.id);d?d.$destroy():Gr(`No store instance found for id ${l.id} in storage.`)}})})}else o&&l.setState(i);if(n&&(Mn(gc,l),n.vueFlowId=l.id),o){const a=bn();a?.type.name!=="VueFlow"&&l.emits.error(new Qe(Ke.USEVUEFLOW_OPTIONS))}return l}function u1(e){const{emits:t,dimensions:n}=Re();let o;ut(()=>{const i=e.value,r=()=>{if(!i)return;const s=zr(i);(s.width===0||s.height===0)&&t.error(new Qe(Ke.MISSING_VIEWPORT_DIMENSIONS)),n.value={width:s.width||500,height:s.height||500}};r(),window.addEventListener("resize",r),i&&(o=new ResizeObserver(()=>r()),o.observe(i)),vi(()=>{window.removeEventListener("resize",r),o&&i&&o.unobserve(i)})})}const c1={name:"UserSelection",compatConfig:{MODE:3}},d1=ze({...c1,props:{userSelectionRect:{}},setup(e){return(t,n)=>(z(),J("div",{class:"vue-flow__selection vue-flow__container",style:at({width:`${t.userSelectionRect.width}px`,height:`${t.userSelectionRect.height}px`,transform:`translate(${t.userSelectionRect.x}px, ${t.userSelectionRect.y}px)`})},null,4))}}),f1=["tabIndex"],h1={name:"NodesSelection",compatConfig:{MODE:3}},p1=ze({...h1,setup(e){const{emits:t,viewport:n,getSelectedNodes:o,noPanClassName:i,disableKeyboardA11y:r,userSelectionActive:s}=Re(),l=Jh(),a=be(null),c=Xh({el:a,onStart(g){t.selectionDragStart(g),t.nodeDragStart(g)},onDrag(g){t.selectionDrag(g),t.nodeDrag(g)},onStop(g){t.selectionDragStop(g),t.nodeDragStop(g)}});ut(()=>{var g;r.value||(g=a.value)==null||g.focus({preventScroll:!0})});const u=me(()=>Bh(o.value)),d=me(()=>({width:`${u.value.width}px`,height:`${u.value.height}px`,top:`${u.value.y}px`,left:`${u.value.x}px`}));function f(g){t.selectionContextMenu({event:g,nodes:o.value})}function h(g){r||yo[g.key]&&(g.preventDefault(),l({x:yo[g.key].x,y:yo[g.key].y},g.shiftKey))}return(g,p)=>!M(s)&&u.value.width&&u.value.height?(z(),J("div",{key:0,class:Je(["vue-flow__nodesselection vue-flow__container",M(i)]),style:at({transform:`translate(${M(n).x}px,${M(n).y}px) scale(${M(n).zoom})`})},[B("div",{ref_key:"el",ref:a,class:Je([{dragging:M(c)},"vue-flow__nodesselection-rect"]),style:at(d.value),tabIndex:M(r)?void 0:-1,onContextmenu:f,onKeydown:h},null,46,f1)],6)):Ee("",!0)}});function g1(e,t){return{x:e.clientX-t.left,y:e.clientY-t.top}}const m1={name:"Pane",compatConfig:{MODE:3}},v1=ze({...m1,props:{isSelecting:{type:Boolean},selectionKeyPressed:{type:Boolean}},setup(e){const{vueFlowRef:t,nodes:n,viewport:o,emits:i,userSelectionActive:r,removeSelectedElements:s,userSelectionRect:l,elementsSelectable:a,nodesSelectionActive:c,getSelectedEdges:u,getSelectedNodes:d,removeNodes:f,removeEdges:h,selectionMode:g,deleteKeyCode:p,multiSelectionKeyCode:m,multiSelectionActive:w,edgeLookup:_,nodeLookup:x,connectionLookup:S,defaultEdgeOptions:$,connectionStartHandle:F}=Re(),W=be(null),A=be(new Set),O=be(new Set),D=be(),I=Ye(()=>a.value&&(e.isSelecting||r.value)),E=Ye(()=>F.value!==null);let K=!1,T=!1;const q=Wo(p,{actInsideInputWithModifier:!1}),P=Wo(m);Se(q,R=>{R&&(f(d.value),h(u.value),c.value=!1)}),Se(P,R=>{w.value=R});function Q(R,Y){return X=>{X.target===Y&&R?.(X)}}function ee(R){if(K||E.value){K=!1;return}i.paneClick(R),s(),c.value=!1}function re(R){R.preventDefault(),R.stopPropagation(),i.paneContextMenu(R)}function se(R){i.paneScroll(R)}function ue(R){var Y,X,le;if(D.value=(Y=t.value)==null?void 0:Y.getBoundingClientRect(),!a.value||!e.isSelecting||R.button!==0||R.target!==W.value||!D.value)return;(le=(X=R.target)==null?void 0:X.setPointerCapture)==null||le.call(X,R.pointerId);const{x:ae,y:ge}=g1(R,D.value);T=!0,K=!1,s(),l.value={width:0,height:0,startX:ae,startY:ge,x:ae,y:ge},i.selectionStart(R)}function he(R){var Y;if(!D.value||!l.value)return;K=!0;const{x:X,y:le}=Wt(R,D.value),{startX:ae=0,startY:ge=0}=l.value,xe={startX:ae,startY:ge,x:X<ae?X:ae,y:le<ge?le:ge,width:Math.abs(X-ae),height:Math.abs(le-ge)},_e=A.value,C=O.value;A.value=new Set(Hh(n.value,xe,o.value,g.value===Ma.Partial,!0).map(y=>y.id)),O.value=new Set;const N=((Y=$.value)==null?void 0:Y.selectable)??!0;for(const y of A.value){const b=S.value.get(y);if(b)for(const{edgeId:v}of b.values()){const k=_.value.get(v);k&&(k.selectable??N)&&O.value.add(v)}}if(!pc(_e,A.value)){const y=Tn(x.value,A.value,!0);i.nodesChange(y)}if(!pc(C,O.value)){const y=Tn(_.value,O.value);i.edgesChange(y)}l.value=xe,r.value=!0,c.value=!1}function V(R){var Y;R.button!==0||!T||((Y=R.target)==null||Y.releasePointerCapture(R.pointerId),!r.value&&l.value&&R.target===W.value&&ee(R),r.value=!1,l.value=null,c.value=A.value.size>0,i.selectionEnd(R),e.selectionKeyPressed&&(K=!1),T=!1)}return(R,Y)=>(z(),J("div",{ref_key:"container",ref:W,class:Je(["vue-flow__pane vue-flow__container",{selection:R.isSelecting}]),onClick:Y[0]||(Y[0]=X=>I.value?void 0:Q(ee,W.value)(X)),onContextmenu:Y[1]||(Y[1]=X=>Q(re,W.value)(X)),onWheelPassive:Y[2]||(Y[2]=X=>Q(se,W.value)(X)),onPointerenter:Y[3]||(Y[3]=X=>I.value?void 0:M(i).paneMouseEnter(X)),onPointerdown:Y[4]||(Y[4]=X=>I.value?ue(X):M(i).paneMouseMove(X)),onPointermove:Y[5]||(Y[5]=X=>I.value?he(X):M(i).paneMouseMove(X)),onPointerup:Y[6]||(Y[6]=X=>I.value?V(X):void 0),onPointerleave:Y[7]||(Y[7]=X=>M(i).paneMouseLeave(X))},[Lt(R.$slots,"default"),M(r)&&M(l)?(z(),Ve(d1,{key:0,"user-selection-rect":M(l)},null,8,["user-selection-rect"])):Ee("",!0),M(c)&&M(d).length?(z(),Ve(p1,{key:1})):Ee("",!0)],34))}}),y1={name:"Transform",compatConfig:{MODE:3}},_1=ze({...y1,setup(e){const{viewport:t,fitViewOnInit:n,fitViewOnInitDone:o}=Re(),i=me(()=>n.value?!o.value:!1),r=me(()=>`translate(${t.value.x}px,${t.value.y}px) scale(${t.value.zoom})`);return(s,l)=>(z(),J("div",{class:"vue-flow__transformationpane vue-flow__container",style:at({transform:r.value,opacity:i.value?0:void 0})},[Lt(s.$slots,"default")],4))}}),w1={name:"Viewport",compatConfig:{MODE:3}},b1=ze({...w1,setup(e){const{minZoom:t,maxZoom:n,defaultViewport:o,translateExtent:i,zoomActivationKeyCode:r,selectionKeyCode:s,panActivationKeyCode:l,panOnScroll:a,panOnScrollMode:c,panOnScrollSpeed:u,panOnDrag:d,zoomOnDoubleClick:f,zoomOnPinch:h,zoomOnScroll:g,preventScrolling:p,noWheelClassName:m,noPanClassName:w,emits:_,connectionStartHandle:x,userSelectionActive:S,paneDragging:$,d3Zoom:F,d3Selection:W,d3ZoomHandler:A,viewport:O,viewportRef:D,paneClickDistance:I}=Re();u1(D);const E=er(!1),K=er(!1);let T=null,q=!1,P=0,Q={x:0,y:0,zoom:0};const ee=Wo(l),re=Wo(s),se=Wo(r),ue=Ye(()=>(!re.value||re.value&&s.value===!0)&&(ee.value||d.value)),he=Ye(()=>ee.value||a.value),V=Ye(()=>re.value||s.value===!0&&ue.value!==!0);ut(()=>{if(!D.value){Gr("Viewport element is missing");return}const ae=D.value,ge=ae.getBoundingClientRect(),xe=Vw().clickDistance(I.value).scaleExtent([t.value,n.value]).translateExtent(i.value),_e=Ot(ae).call(xe),C=_e.on("wheel.zoom"),N=Co.translate(o.value.x??0,o.value.y??0).scale(Qn(o.value.zoom??1,t.value,n.value)),y=[[0,0],[ge.width,ge.height]],b=xe.constrain()(N,y,i.value);xe.transform(_e,b),xe.wheelDelta(tc),F.value=xe,W.value=_e,A.value=C,O.value={x:b.x,y:b.y,zoom:b.k},xe.on("start",v=>{var k;if(!v.sourceEvent)return null;P=v.sourceEvent.button,E.value=!0;const L=X(v.transform);((k=v.sourceEvent)==null?void 0:k.type)==="mousedown"&&($.value=!0),Q=L,_.viewportChangeStart(L),_.moveStart({event:v,flowTransform:L})}),xe.on("end",v=>{if(!v.sourceEvent)return null;if(E.value=!1,$.value=!1,R(ue.value,P??0)&&!q&&_.paneContextMenu(v.sourceEvent),q=!1,Y(Q,v.transform)){const k=X(v.transform);Q=k,_.viewportChangeEnd(k),_.moveEnd({event:v,flowTransform:k})}}),xe.filter(v=>{var k;const L=se.value||g.value,Z=h.value&&v.ctrlKey,H=v.button;if(H===1&&v.type==="mousedown"&&(le(v,"vue-flow__node")||le(v,"vue-flow__edge")))return!0;if(!ue.value&&!L&&!he.value&&!f.value&&!h.value||S.value||!f.value&&v.type==="dblclick"||le(v,m.value)&&v.type==="wheel"||le(v,w.value)&&(v.type!=="wheel"||he.value&&v.type==="wheel"&&!se.value)||!h.value&&v.ctrlKey&&v.type==="wheel"||!L&&!he.value&&!Z&&v.type==="wheel")return!1;if(!h&&v.type==="touchstart"&&((k=v.touches)==null?void 0:k.length)>1)return v.preventDefault(),!1;if(!ue.value&&(v.type==="mousedown"||v.type==="touchstart")||s.value===!0&&Array.isArray(d.value)&&d.value.includes(0)&&H===0||Array.isArray(d.value)&&!d.value.includes(H)&&(v.type==="mousedown"||v.type==="touchstart"))return!1;const G=Array.isArray(d.value)&&d.value.includes(H)||s.value===!0&&Array.isArray(d.value)&&!d.value.includes(0)||!H||H<=1;return(!v.ctrlKey||ee.value||v.type==="wheel")&&G}),Se([S,ue],()=>{S.value&&!E.value?xe.on("zoom",null):S.value||xe.on("zoom",v=>{O.value={x:v.transform.x,y:v.transform.y,zoom:v.transform.k};const k=X(v.transform);q=R(ue.value,P??0),_.viewportChange(k),_.move({event:v,flowTransform:k})})},{immediate:!0}),Se([S,he,c,se,h,p,m],()=>{he.value&&!se.value&&!S.value?_e.on("wheel.zoom",v=>{if(le(v,m.value))return!1;const k=se.value||g.value,L=h.value&&v.ctrlKey;if(!(!p.value||he.value||k||L))return!1;v.preventDefault(),v.stopImmediatePropagation();const H=_e.property("__zoom").k||1,G=mr();if(!ee.value&&v.ctrlKey&&h.value&&G){const Ne=Gt(v),Oe=tc(v),Ie=H*2**Oe;xe.scaleTo(_e,Ie,Ne,v);return}const ne=v.deltaMode===1?20:1;let te=c.value===qo.Vertical?0:v.deltaX*ne,oe=c.value===qo.Horizontal?0:v.deltaY*ne;!G&&v.shiftKey&&c.value!==qo.Vertical&&!te&&oe&&(te=oe,oe=0),xe.translateBy(_e,-(te/H)*u.value,-(oe/H)*u.value);const ce=X(_e.property("__zoom"));T&&clearTimeout(T),K.value?(_.move({event:v,flowTransform:ce}),_.viewportChange(ce),T=setTimeout(()=>{_.moveEnd({event:v,flowTransform:ce}),_.viewportChangeEnd(ce),K.value=!1},150)):(K.value=!0,_.moveStart({event:v,flowTransform:ce}),_.viewportChangeStart(ce))},{passive:!1}):typeof C<"u"&&_e.on("wheel.zoom",function(v,k){const L=!p.value&&v.type==="wheel"&&!v.ctrlKey,Z=se.value||g.value,H=h.value&&v.ctrlKey;if(!Z&&!a.value&&!H&&v.type==="wheel"||L||le(v,m.value))return null;v.preventDefault(),C.call(this,v,k)},{passive:!1})},{immediate:!0})});function R(ae,ge){return ge===2&&Array.isArray(ae)&&ae.includes(2)}function Y(ae,ge){return ae.x!==ge.x&&!Number.isNaN(ge.x)||ae.y!==ge.y&&!Number.isNaN(ge.y)||ae.zoom!==ge.k&&!Number.isNaN(ge.k)}function X(ae){return{x:ae.x,y:ae.y,zoom:ae.k}}function le(ae,ge){return ae.target.closest(`.${ge}`)}return(ae,ge)=>(z(),J("div",{ref_key:"viewportRef",ref:D,class:"vue-flow__viewport vue-flow__container"},[pe(v1,{"is-selecting":V.value,"selection-key-pressed":M(re),class:Je({connecting:!!M(x),dragging:M($),draggable:M(d)===!0||Array.isArray(M(d))&&M(d).includes(0)})},{default:De(()=>[pe(_1,null,{default:De(()=>[Lt(ae.$slots,"default")]),_:3})]),_:3},8,["is-selecting","selection-key-pressed","class"])],512))}}),x1=["id"],E1=["id"],S1=["id"],C1={name:"A11yDescriptions",compatConfig:{MODE:3}},N1=ze({...C1,setup(e){const{id:t,disableKeyboardA11y:n,ariaLiveMessage:o}=Re();return(i,r)=>(z(),J(ve,null,[B("div",{id:`${M(Mh)}-${M(t)}`,style:{display:"none"}}," Press enter or space to select a node. "+Te(M(n)?"":"You can then use the arrow keys to move the node around.")+" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. ",9,x1),B("div",{id:`${M(Dh)}-${M(t)}`,style:{display:"none"}}," Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. ",8,E1),M(n)?Ee("",!0):(z(),J("div",{key:0,id:`${M(Gw)}-${M(t)}`,"aria-live":"assertive","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)","clip-path":"inset(100%)"}},Te(M(o)),9,S1))],64))}});function k1(){const e=Re();Se(()=>e.viewportHelper.value.viewportInitialized,t=>{t&&setTimeout(()=>{e.emits.init(e),e.emits.paneReady(e)},1)})}function T1(e,t,n){return n===fe.Left?e-t:n===fe.Right?e+t:e}function A1(e,t,n){return n===fe.Top?e-t:n===fe.Bottom?e+t:e}const Pa=function({radius:e=10,centerX:t=0,centerY:n=0,position:o=fe.Top,type:i}){return Pe("circle",{class:`vue-flow__edgeupdater vue-flow__edgeupdater-${i}`,cx:T1(t,e,o),cy:A1(n,e,o),r:e,stroke:"transparent",fill:"transparent"})};Pa.props=["radius","centerX","centerY","position","type"];Pa.compatConfig={MODE:3};const wc=Pa,O1=ze({name:"Edge",compatConfig:{MODE:3},props:["id"],setup(e){const{id:t,addSelectedEdges:n,connectionMode:o,edgeUpdaterRadius:i,emits:r,nodesSelectionActive:s,noPanClassName:l,getEdgeTypes:a,removeSelectedEdges:c,findEdge:u,findNode:d,isValidConnection:f,multiSelectionActive:h,disableKeyboardA11y:g,elementsSelectable:p,edgesUpdatable:m,edgesFocusable:w,hooks:_}=Re(),x=me(()=>u(e.id)),{emit:S,on:$}=bb(x.value,r),F=Dt(Ur),W=bn(),A=be(!1),O=be(!1),D=be(""),I=be(null),E=be("source"),K=be(null),T=Ye(()=>typeof x.value.selectable>"u"?p.value:x.value.selectable),q=Ye(()=>typeof x.value.updatable>"u"?m.value:x.value.updatable),P=Ye(()=>typeof x.value.focusable>"u"?w.value:x.value.focusable);Mn(yb,e.id),Mn(_b,K);const Q=me(()=>x.value.class instanceof Function?x.value.class(x.value):x.value.class),ee=me(()=>x.value.style instanceof Function?x.value.style(x.value):x.value.style),re=me(()=>{const b=x.value.type||"default",v=F?.[`edge-${b}`];if(v)return v;let k=x.value.template??a.value[b];if(typeof k=="string"&&W){const L=Object.keys(W.appContext.components);L&&L.includes(b)&&(k=xf(b,!1))}return k&&typeof k!="string"?k:(r.error(new Qe(Ke.EDGE_TYPE_MISSING,k)),!1)}),{handlePointerDown:se}=Zh({nodeId:D,handleId:I,type:E,isValidConnection:f,edgeUpdaterType:E,onEdgeUpdate:V,onEdgeUpdateEnd:R});return()=>{const b=d(x.value.source),v=d(x.value.target),k="pathOptions"in x.value?x.value.pathOptions:{};if(!b&&!v)return r.error(new Qe(Ke.EDGE_SOURCE_TARGET_MISSING,x.value.id,x.value.source,x.value.target)),null;if(!b)return r.error(new Qe(Ke.EDGE_SOURCE_MISSING,x.value.id,x.value.source)),null;if(!v)return r.error(new Qe(Ke.EDGE_TARGET_MISSING,x.value.id,x.value.target)),null;if(!x.value||x.value.hidden||b.hidden||v.hidden)return null;let L;o.value===vn.Strict?L=b.handleBounds.source:L=[...b.handleBounds.source||[],...b.handleBounds.target||[]];const Z=ac(L,x.value.sourceHandle);let H;o.value===vn.Strict?H=v.handleBounds.target:H=[...v.handleBounds.target||[],...v.handleBounds.source||[]];const G=ac(H,x.value.targetHandle),ne=Z?.position||fe.Bottom,te=G?.position||fe.Top,{x:oe,y:ce}=No(b,Z,ne),{x:Ne,y:Oe}=No(v,G,te);return x.value.sourceX=oe,x.value.sourceY=ce,x.value.targetX=Ne,x.value.targetY=Oe,Pe("g",{ref:K,key:e.id,"data-id":e.id,class:["vue-flow__edge",`vue-flow__edge-${re.value===!1?"default":x.value.type||"default"}`,l.value,Q.value,{updating:A.value,selected:x.value.selected,animated:x.value.animated,inactive:!T.value&&!_.value.edgeClick.hasListeners()}],tabIndex:P.value?0:void 0,"aria-label":x.value.ariaLabel===null?void 0:x.value.ariaLabel??`Edge from ${x.value.source} to ${x.value.target}`,"aria-describedby":P.value?`${Dh}-${t}`:void 0,"aria-roledescription":"edge",role:P.value?"group":"img",...x.value.domAttributes,onClick:X,onContextmenu:le,onDblclick:ae,onMouseenter:ge,onMousemove:xe,onMouseleave:_e,onKeyDown:P.value?y:void 0},[O.value?null:Pe(re.value===!1?a.value.default:re.value,{id:e.id,sourceNode:b,targetNode:v,source:x.value.source,target:x.value.target,type:x.value.type,updatable:q.value,selected:x.value.selected,animated:x.value.animated,label:x.value.label,labelStyle:x.value.labelStyle,labelShowBg:x.value.labelShowBg,labelBgStyle:x.value.labelBgStyle,labelBgPadding:x.value.labelBgPadding,labelBgBorderRadius:x.value.labelBgBorderRadius,data:x.value.data,events:{...x.value.events,...$},style:ee.value,markerStart:`url('#${ai(x.value.markerStart,t)}')`,markerEnd:`url('#${ai(x.value.markerEnd,t)}')`,sourcePosition:ne,targetPosition:te,sourceX:oe,sourceY:ce,targetX:Ne,targetY:Oe,sourceHandleId:x.value.sourceHandle,targetHandleId:x.value.targetHandle,interactionWidth:x.value.interactionWidth,...k}),[q.value==="source"||q.value===!0?[Pe("g",{onMousedown:C,onMouseenter:ue,onMouseout:he},Pe(wc,{position:ne,centerX:oe,centerY:ce,radius:i.value,type:"source","data-type":"source"}))]:null,q.value==="target"||q.value===!0?[Pe("g",{onMousedown:N,onMouseenter:ue,onMouseout:he},Pe(wc,{position:te,centerX:Ne,centerY:Oe,radius:i.value,type:"target","data-type":"target"}))]:null]])};function ue(){A.value=!0}function he(){A.value=!1}function V(b,v){S.update({event:b,edge:x.value,connection:v})}function R(b){S.updateEnd({event:b,edge:x.value}),O.value=!1}function Y(b,v){b.button===0&&(O.value=!0,D.value=v?x.value.target:x.value.source,I.value=(v?x.value.targetHandle:x.value.sourceHandle)??null,E.value=v?"target":"source",S.updateStart({event:b,edge:x.value}),se(b))}function X(b){var v;const k={event:b,edge:x.value};T.value&&(s.value=!1,x.value.selected&&h.value?(c([x.value]),(v=K.value)==null||v.blur()):n([x.value])),S.click(k)}function le(b){S.contextMenu({event:b,edge:x.value})}function ae(b){S.doubleClick({event:b,edge:x.value})}function ge(b){S.mouseEnter({event:b,edge:x.value})}function xe(b){S.mouseMove({event:b,edge:x.value})}function _e(b){S.mouseLeave({event:b,edge:x.value})}function C(b){Y(b,!0)}function N(b){Y(b,!1)}function y(b){var v;!g.value&&$h.includes(b.key)&&T.value&&(b.key==="Escape"?((v=K.value)==null||v.blur(),c([u(e.id)])):n([u(e.id)]))}}}),I1=O1,M1=ze({name:"ConnectionLine",compatConfig:{MODE:3},setup(){var e;const{id:t,connectionMode:n,connectionStartHandle:o,connectionEndHandle:i,connectionPosition:r,connectionLineType:s,connectionLineStyle:l,connectionLineOptions:a,connectionStatus:c,viewport:u,findNode:d}=Re(),f=(e=Dt(Ur))==null?void 0:e["connection-line"],h=me(()=>{var _;return d((_=o.value)==null?void 0:_.nodeId)}),g=me(()=>{var _;return d((_=i.value)==null?void 0:_.nodeId)??null}),p=me(()=>({x:(r.value.x-u.value.x)/u.value.zoom,y:(r.value.y-u.value.y)/u.value.zoom})),m=me(()=>a.value.markerStart?`url(#${ai(a.value.markerStart,t)})`:""),w=me(()=>a.value.markerEnd?`url(#${ai(a.value.markerEnd,t)})`:"");return()=>{var _,x,S;if(!h.value||!o.value)return null;const $=o.value.id,F=o.value.type,W=h.value.handleBounds;let A=W?.[F]??[];if(n.value===vn.Loose){const ee=W?.[F==="source"?"target":"source"]??[];A=[...A,...ee]}if(!A)return null;const O=($?A.find(ee=>ee.id===$):A[0])??null,D=O?.position??fe.Top,{x:I,y:E}=No(h.value,O,D);let K=null;g.value&&(n.value===vn.Strict?K=((_=g.value.handleBounds[F==="source"?"target":"source"])==null?void 0:_.find(ee=>{var re;return ee.id===((re=i.value)==null?void 0:re.id)}))||null:K=((x=[...g.value.handleBounds.source??[],...g.value.handleBounds.target??[]])==null?void 0:x.find(ee=>{var re;return ee.id===((re=i.value)==null?void 0:re.id)}))||null);const T=((S=i.value)==null?void 0:S.position)??(D?Xl[D]:null);if(!D||!T)return null;const q=s.value??a.value.type??Bn.Bezier;let P="";const Q={sourceX:I,sourceY:E,sourcePosition:D,targetX:p.value.x,targetY:p.value.y,targetPosition:T};return q===Bn.Bezier?[P]=op(Q):q===Bn.Step?[P]=vr({...Q,borderRadius:0}):q===Bn.SmoothStep?[P]=vr(Q):q===Bn.SimpleBezier?[P]=ip(Q):P=`M${I},${E} ${p.value.x},${p.value.y}`,Pe("svg",{class:"vue-flow__edges vue-flow__connectionline vue-flow__container"},Pe("g",{class:"vue-flow__connection"},f?Pe(f,{sourceX:I,sourceY:E,sourcePosition:D,targetX:p.value.x,targetY:p.value.y,targetPosition:T,sourceNode:h.value,sourceHandle:O,targetNode:g.value,targetHandle:K,markerEnd:w.value,markerStart:m.value,connectionStatus:c.value}):Pe("path",{d:P,class:[a.value.class,c,"vue-flow__connection-path"],style:{...l.value,...a.value.style},"marker-end":w.value,"marker-start":m.value})))}}}),D1=M1,$1=["id","markerWidth","markerHeight","markerUnits","orient"],P1={name:"MarkerType",compatConfig:{MODE:3}},L1=ze({...P1,props:{id:{},type:{},color:{default:"none"},width:{default:12.5},height:{default:12.5},markerUnits:{default:"strokeWidth"},orient:{default:"auto-start-reverse"},strokeWidth:{default:1}},setup(e){return(t,n)=>(z(),J("marker",{id:t.id,class:"vue-flow__arrowhead",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:`${t.width}`,markerHeight:`${t.height}`,markerUnits:t.markerUnits,orient:t.orient},[t.type===M(ql).ArrowClosed?(z(),J("polyline",{key:0,style:at({stroke:t.color,fill:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",points:"-5,-4 0,0 -5,4 -5,-4"},null,4)):Ee("",!0),t.type===M(ql).Arrow?(z(),J("polyline",{key:1,style:at({stroke:t.color,strokeWidth:t.strokeWidth}),"stroke-linecap":"round","stroke-linejoin":"round",fill:"none",points:"-5,-4 0,0 -5,4"},null,4)):Ee("",!0)],8,$1))}}),R1={class:"vue-flow__marker vue-flow__container","aria-hidden":"true"},F1={name:"MarkerDefinitions",compatConfig:{MODE:3}},V1=ze({...F1,setup(e){const{id:t,edges:n,connectionLineOptions:o,defaultMarkerColor:i}=Re(),r=me(()=>{const s=new Set,l=[],a=c=>{if(c){const u=ai(c,t);s.has(u)||(typeof c=="object"?l.push({...c,id:u,color:c.color||i.value}):l.push({id:u,color:i.value,type:c}),s.add(u))}};for(const c of[o.value.markerEnd,o.value.markerStart])a(c);for(const c of n.value)for(const u of[c.markerStart,c.markerEnd])a(u);return l.sort((c,u)=>c.id.localeCompare(u.id))});return(s,l)=>(z(),J("svg",R1,[B("defs",null,[(z(!0),J(ve,null,We(r.value,a=>(z(),Ve(L1,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,"stroke-width":a.strokeWidth,orient:a.orient},null,8,["id","type","color","width","height","markerUnits","stroke-width","orient"]))),128))])]))}}),B1={name:"Edges",compatConfig:{MODE:3}},H1=ze({...B1,setup(e){const{findNode:t,getEdges:n,elevateEdgesOnSelect:o}=Re();return(i,r)=>(z(),J(ve,null,[pe(V1),(z(!0),J(ve,null,We(M(n),s=>(z(),J("svg",{key:s.id,class:"vue-flow__edges vue-flow__container",style:at({zIndex:M(rb)(s,M(t),M(o))})},[pe(M(I1),{id:s.id},null,8,["id"])],4))),128)),pe(M(D1))],64))}}),j1=ze({name:"Node",compatConfig:{MODE:3},props:["id","resizeObserver"],setup(e){const{id:t,noPanClassName:n,selectNodesOnDrag:o,nodesSelectionActive:i,multiSelectionActive:r,emits:s,removeSelectedNodes:l,addSelectedNodes:a,updateNodeDimensions:c,onUpdateNodeInternals:u,getNodeTypes:d,nodeExtent:f,elevateNodesOnSelect:h,disableKeyboardA11y:g,ariaLiveMessage:p,snapToGrid:m,snapGrid:w,nodeDragThreshold:_,nodesDraggable:x,elementsSelectable:S,nodesConnectable:$,nodesFocusable:F,hooks:W}=Re(),A=be(null);Mn(Kh,A),Mn(Wh,e.id);const O=Dt(Ur),D=bn(),I=Jh(),{node:E,parentNode:K}=Qh(e.id),{emit:T,on:q}=Cb(E,s),P=Ye(()=>typeof E.draggable>"u"?x.value:E.draggable),Q=Ye(()=>typeof E.selectable>"u"?S.value:E.selectable),ee=Ye(()=>typeof E.connectable>"u"?$.value:E.connectable),re=Ye(()=>typeof E.focusable>"u"?F.value:E.focusable),se=me(()=>Q.value||P.value||W.value.nodeClick.hasListeners()||W.value.nodeDoubleClick.hasListeners()||W.value.nodeMouseEnter.hasListeners()||W.value.nodeMouseMove.hasListeners()||W.value.nodeMouseLeave.hasListeners()),ue=Ye(()=>!!E.dimensions.width&&!!E.dimensions.height),he=me(()=>{const v=E.type||"default",k=O?.[`node-${v}`];if(k)return k;let L=E.template||d.value[v];if(typeof L=="string"&&D){const Z=Object.keys(D.appContext.components);Z&&Z.includes(v)&&(L=xf(v,!1))}return L&&typeof L!="string"?L:(s.error(new Qe(Ke.NODE_TYPE_MISSING,L)),!1)}),V=Xh({id:e.id,el:A,disabled:()=>!P.value,selectable:Q,dragHandle:()=>E.dragHandle,onStart(v){T.dragStart(v)},onDrag(v){T.drag(v)},onStop(v){T.dragStop(v)},onClick(v){y(v)}}),R=me(()=>E.class instanceof Function?E.class(E):E.class),Y=me(()=>{const v=(E.style instanceof Function?E.style(E):E.style)||{},k=E.width instanceof Function?E.width(E):E.width,L=E.height instanceof Function?E.height(E):E.height;return!v.width&&k&&(v.width=typeof k=="string"?k:`${k}px`),!v.height&&L&&(v.height=typeof L=="string"?L:`${L}px`),v}),X=Ye(()=>Number(E.zIndex??Y.value.zIndex??0));return u(v=>{(v.includes(e.id)||!v.length)&&ae()}),ut(()=>{Se(()=>E.hidden,(v=!1,k,L)=>{!v&&A.value&&(e.resizeObserver.observe(A.value),L(()=>{A.value&&e.resizeObserver.unobserve(A.value)}))},{immediate:!0,flush:"post"})}),Se([()=>E.type,()=>E.sourcePosition,()=>E.targetPosition],()=>{mt(()=>{c([{id:e.id,nodeElement:A.value,forceUpdate:!0}])})}),Se([()=>E.position.x,()=>E.position.y,()=>{var v;return(v=K.value)==null?void 0:v.computedPosition.x},()=>{var v;return(v=K.value)==null?void 0:v.computedPosition.y},()=>{var v;return(v=K.value)==null?void 0:v.computedPosition.z},X,()=>E.selected,()=>E.dimensions.height,()=>E.dimensions.width,()=>{var v;return(v=K.value)==null?void 0:v.dimensions.height},()=>{var v;return(v=K.value)==null?void 0:v.dimensions.width}],([v,k,L,Z,H,G])=>{const ne={x:v,y:k,z:G+(h.value&&E.selected?1e3:0)};typeof L<"u"&&typeof Z<"u"?E.computedPosition=Jw({x:L,y:Z,z:H},ne):E.computedPosition=ne},{flush:"post",immediate:!0}),Se([()=>E.extent,f],([v,k],[L,Z])=>{(v!==L||k!==Z)&&le()}),E.extent==="parent"||typeof E.extent=="object"&&"range"in E.extent&&E.extent.range==="parent"?Fl(()=>ue).toBe(!0).then(le):le(),()=>E.hidden?null:Pe("div",{ref:A,"data-id":E.id,class:["vue-flow__node",`vue-flow__node-${he.value===!1?"default":E.type||"default"}`,{[n.value]:P.value,dragging:V?.value,draggable:P.value,selected:E.selected,selectable:Q.value,parent:E.isParent},R.value],style:{visibility:ue.value?"visible":"hidden",zIndex:E.computedPosition.z??X.value,transform:`translate(${E.computedPosition.x}px,${E.computedPosition.y}px)`,pointerEvents:se.value?"all":"none",...Y.value},tabIndex:re.value?0:void 0,role:re.value?"group":void 0,"aria-describedby":g.value?void 0:`${Mh}-${t}`,"aria-label":E.ariaLabel,"aria-roledescription":"node",...E.domAttributes,onMouseenter:ge,onMousemove:xe,onMouseleave:_e,onContextmenu:C,onClick:y,onDblclick:N,onKeydown:b},[Pe(he.value===!1?d.value.default:he.value,{id:E.id,type:E.type,data:E.data,events:{...E.events,...q},selected:E.selected,resizing:E.resizing,dragging:V.value,connectable:ee.value,position:E.computedPosition,dimensions:E.dimensions,isValidTargetPos:E.isValidTargetPos,isValidSourcePos:E.isValidSourcePos,parent:E.parentNode,parentNodeId:E.parentNode,zIndex:E.computedPosition.z??X.value,targetPosition:E.targetPosition,sourcePosition:E.sourcePosition,label:E.label,dragHandle:E.dragHandle,onUpdateNodeInternals:ae})]);function le(){const v=E.computedPosition,{computedPosition:k,position:L}=Da(E,m.value?Yr(v,w.value):v,s.error,f.value,K.value);(E.computedPosition.x!==k.x||E.computedPosition.y!==k.y)&&(E.computedPosition={...E.computedPosition,...k}),(E.position.x!==L.x||E.position.y!==L.y)&&(E.position=L)}function ae(){A.value&&c([{id:e.id,nodeElement:A.value,forceUpdate:!0}])}function ge(v){V?.value||T.mouseEnter({event:v,node:E})}function xe(v){V?.value||T.mouseMove({event:v,node:E})}function _e(v){V?.value||T.mouseLeave({event:v,node:E})}function C(v){return T.contextMenu({event:v,node:E})}function N(v){return T.doubleClick({event:v,node:E})}function y(v){Q.value&&(!o.value||!P.value||_.value>0)&&Zl(E,r.value,a,l,i,!1,A.value),T.click({event:v,node:E})}function b(v){if(!(Wl(v)||g.value))if($h.includes(v.key)&&Q.value){const k=v.key==="Escape";Zl(E,r.value,a,l,i,k,A.value)}else P.value&&E.selected&&yo[v.key]&&(v.preventDefault(),p.value=`Moved selected node ${v.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~E.position.x}, y: ${~~E.position.y}`,I({x:yo[v.key].x,y:yo[v.key].y},v.shiftKey))}}}),z1=j1;function Y1(e={includeHiddenNodes:!1}){const{nodes:t}=Re();return me(()=>{if(t.value.length===0)return!1;for(const n of t.value)if((e.includeHiddenNodes||!n.hidden)&&(n?.handleBounds===void 0||n.dimensions.width===0||n.dimensions.height===0))return!1;return!0})}const G1={class:"vue-flow__nodes vue-flow__container"},U1={name:"Nodes",compatConfig:{MODE:3}},q1=ze({...U1,setup(e){const{getNodes:t,updateNodeDimensions:n,emits:o}=Re(),i=Y1(),r=be();return Se(i,s=>{s&&mt(()=>{o.nodesInitialized(t.value)})},{immediate:!0}),ut(()=>{r.value=new ResizeObserver(s=>{const l=s.map(a=>({id:a.target.getAttribute("data-id"),nodeElement:a.target,forceUpdate:!0}));mt(()=>n(l))})}),vi(()=>{var s;return(s=r.value)==null?void 0:s.disconnect()}),(s,l)=>(z(),J("div",G1,[r.value?(z(!0),J(ve,{key:0},We(M(t),(a,c,u,d)=>{const f=[a.id];if(d&&d.key===a.id&&lv(d,f))return d;const h=(z(),Ve(M(z1),{id:a.id,key:a.id,"resize-observer":r.value},null,8,["id","resize-observer"]));return h.memo=f,h},l,0),128)):Ee("",!0)]))}});function W1(){const{emits:e}=Re();ut(()=>{if(qh()){const t=document.querySelector(".vue-flow__pane");t&&window.getComputedStyle(t).zIndex!=="1"&&e.error(new Qe(Ke.MISSING_STYLES))}})}const K1=B("div",{class:"vue-flow__edge-labels"},null,-1),X1={name:"VueFlow",compatConfig:{MODE:3}},Z1=ze({...X1,props:{id:{},modelValue:{},nodes:{},edges:{},edgeTypes:{},nodeTypes:{},connectionMode:{},connectionLineType:{},connectionLineStyle:{default:void 0},connectionLineOptions:{default:void 0},connectionRadius:{},isValidConnection:{type:[Function,null],default:void 0},deleteKeyCode:{default:void 0},selectionKeyCode:{type:[Boolean,null],default:void 0},multiSelectionKeyCode:{default:void 0},zoomActivationKeyCode:{default:void 0},panActivationKeyCode:{default:void 0},snapToGrid:{type:Boolean,default:void 0},snapGrid:{},onlyRenderVisibleElements:{type:Boolean,default:void 0},edgesUpdatable:{type:[Boolean,String],default:void 0},nodesDraggable:{type:Boolean,default:void 0},nodesConnectable:{type:Boolean,default:void 0},nodeDragThreshold:{},elementsSelectable:{type:Boolean,default:void 0},selectNodesOnDrag:{type:Boolean,default:void 0},panOnDrag:{type:[Boolean,Array],default:void 0},minZoom:{},maxZoom:{},defaultViewport:{},translateExtent:{},nodeExtent:{},defaultMarkerColor:{},zoomOnScroll:{type:Boolean,default:void 0},zoomOnPinch:{type:Boolean,default:void 0},panOnScroll:{type:Boolean,default:void 0},panOnScrollSpeed:{},panOnScrollMode:{},paneClickDistance:{},zoomOnDoubleClick:{type:Boolean,default:void 0},preventScrolling:{type:Boolean,default:void 0},selectionMode:{},edgeUpdaterRadius:{},fitViewOnInit:{type:Boolean,default:void 0},connectOnClick:{type:Boolean,default:void 0},applyDefault:{type:Boolean,default:void 0},autoConnect:{type:[Boolean,Function],default:void 0},noDragClassName:{},noWheelClassName:{},noPanClassName:{},defaultEdgeOptions:{},elevateEdgesOnSelect:{type:Boolean,default:void 0},elevateNodesOnSelect:{type:Boolean,default:void 0},disableKeyboardA11y:{type:Boolean,default:void 0},edgesFocusable:{type:Boolean,default:void 0},nodesFocusable:{type:Boolean,default:void 0},autoPanOnConnect:{type:Boolean,default:void 0},autoPanOnNodeDrag:{type:Boolean,default:void 0},autoPanSpeed:{}},emits:["nodesChange","edgesChange","nodesInitialized","paneReady","init","updateNodeInternals","error","connect","connectStart","connectEnd","clickConnectStart","clickConnectEnd","moveStart","move","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","edgeUpdate","edgeContextMenu","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeDoubleClick","edgeClick","edgeUpdateStart","edgeUpdateEnd","nodeContextMenu","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeDoubleClick","nodeClick","nodeDragStart","nodeDrag","nodeDragStop","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","update:modelValue","update:nodes","update:edges"],setup(e,{expose:t,emit:n}){const o=e,i=kf(),r=hs(o,"modelValue",n),s=hs(o,"nodes",n),l=hs(o,"edges",n),a=Re(o),c=Ab({modelValue:r,nodes:s,edges:l},o,a);return Ib(n,a.hooks),k1(),W1(),Mn(Ur,i),ya(()=>{c()}),t(a),(u,d)=>(z(),J("div",{ref:M(a).vueFlowRef,class:"vue-flow"},[pe(b1,null,{default:De(()=>[pe(H1),K1,pe(q1),Lt(u.$slots,"zoom-pane")]),_:3}),Lt(u.$slots,"default"),pe(N1)],512))}});function sp(e){return Or()?(Bo(e),!0):!1}function ui(e){return typeof e=="function"?e():M(e)}const Q1=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const J1=e=>e!=null,ex=Object.prototype.toString,tx=e=>ex.call(e)==="[object Object]",lp=()=>{};function nx(e,t,n){return Se(e,(i,r,s)=>{i&&t(i,r,s)},{...n,once:!1})}function ap(e){var t;const n=ui(e);return(t=n?.$el)!=null?t:n}const Zr=Q1?window:void 0;function so(...e){let t,n,o,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,i]=e,t=Zr):[t,n,o,i]=e,!t)return lp;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const r=[],s=()=>{r.forEach(u=>u()),r.length=0},l=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),a=Se(()=>[ap(t),ui(i)],([u,d])=>{if(s(),!u)return;const f=tx(d)?{...d}:d;r.push(...n.flatMap(h=>o.map(g=>l(u,h,g,f))))},{immediate:!0,flush:"post"}),c=()=>{a(),s()};return sp(c),c}function ox(){const e=be(!1),t=bn();return t&&ut(()=>{e.value=!0},t),e}function ix(e){const t=ox();return me(()=>(t.value,!!e()))}function rx(e,t,n={}){const{window:o=Zr,...i}=n;let r;const s=ix(()=>o&&"MutationObserver"in o),l=()=>{r&&(r.disconnect(),r=void 0)},a=me(()=>{const f=ui(e),h=(Array.isArray(f)?f:[f]).map(ap).filter(J1);return new Set(h)}),c=Se(()=>a.value,f=>{l(),s.value&&f.size&&(r=new MutationObserver(t),f.forEach(h=>r.observe(h,i)))},{immediate:!0,flush:"post"}),u=()=>r?.takeRecords(),d=()=>{l(),c()};return sp(d),{isSupported:s,stop:d,takeRecords:u}}function sx(e={}){var t;const{window:n=Zr,deep:o=!0,triggerOnRemoval:i=!1}=e,r=(t=e.document)!=null?t:n?.document,s=()=>{var c;let u=r?.activeElement;if(o)for(;u?.shadowRoot;)u=(c=u?.shadowRoot)==null?void 0:c.activeElement;return u},l=be(),a=()=>{l.value=s()};return n&&(so(n,"blur",c=>{c.relatedTarget===null&&a()},!0),so(n,"focus",a,!0)),i&&rx(r,c=>{c.filter(u=>u.removedNodes.length).map(u=>Array.from(u.removedNodes)).flat().forEach(u=>{u===l.value&&a()})},{childList:!0,subtree:!0}),a(),l}const lx={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function ax(e={}){const{reactive:t=!1,target:n=Zr,aliasMap:o=lx,passive:i=!0,onEventFired:r=lp}=e,s=bt(new Set),l={toJSON(){return{}},current:s},a=t?bt(l):l,c=new Set,u=new Set;function d(p,m){p in a&&(t?a[p]=m:a[p].value=m)}function f(){s.clear();for(const p of u)d(p,!1)}function h(p,m){var w,_;const x=(w=p.key)==null?void 0:w.toLowerCase(),$=[(_=p.code)==null?void 0:_.toLowerCase(),x].filter(Boolean);x&&(m?s.add(x):s.delete(x));for(const F of $)u.add(F),d(F,m);x==="meta"&&!m?(c.forEach(F=>{s.delete(F),d(F,!1)}),c.clear()):typeof p.getModifierState=="function"&&p.getModifierState("Meta")&&m&&[...s,...$].forEach(F=>c.add(F))}so(n,"keydown",p=>(h(p,!0),r(p)),{passive:i}),so(n,"keyup",p=>(h(p,!1),r(p)),{passive:i}),so("blur",f,{passive:!0}),so("focus",f,{passive:!0});const g=new Proxy(a,{get(p,m,w){if(typeof m!="string")return Reflect.get(p,m,w);if(m=m.toLowerCase(),m in o&&(m=o[m]),!(m in a))if(/[+_-]/.test(m)){const x=m.split(/[+_-]/g).map(S=>S.trim());a[m]=me(()=>x.every(S=>ui(g[S])))}else a[m]=be(!1);const _=Reflect.get(p,m,w);return t?ui(_):_}});return g}const en=(e,t)=>{const n=e.__vccOpts||e;for(const[o,i]of t)n[o]=i;return n},ux={class:"dropdown-menu"},cx=["onClick"],dx=["innerHTML"],fx={class:"label"},hx={__name:"Menu",props:["title","menuItems","show"],emits:["update:show"],setup(e,{emit:t}){const n=t;function o(i){typeof i.onClick=="function"&&(i.onClick(),n("update:show",!1))}return(i,r)=>(z(),J("ul",ux,[(z(!0),J(ve,null,We(e.menuItems,s=>(z(),J("li",{class:Je(s.onClick?"selectable":"title title-3"),onClick:l=>o(s)},[s.icon?(z(),J("div",{key:0,class:"icon",innerHTML:s.icon},null,8,dx)):Ee("",!0),B("div",fx,Te(s.label),1)],10,cx))),256))]))}},Ki=en(hx,[["__scopeId","data-v-862e0aa9"]]),fn={dialogues:{dialogues:[{id:"id1",name:"Dialogue 1"}]},flow:{nodes:[{id:"1",type:"start",position:{x:100,y:100},data:{label:"Start",outputs:[{id:"out",order:0}]}},{id:"2",position:{x:500,y:100},type:"dialogue",data:{label:"Dialogue 1",textString:"1",outputs:[{id:"1",order:0,textString:"2"}]}}],edges:[{id:"1",source:"1",sourceHandle:"out",target:"2",targetHandle:"in"}],defaultViewport:{zoom:1,x:0,y:0},nodesOutputsCollapsed:[],nodesTextCollapsed:[]},translations:{languages:["English(en)"],labels:{id1:"string_0001",id2:"string_0002"},strings:{id1:{EN:""},id2:{EN:""}},selectedLanguage:"English(en)"}};let $i;const bc=()=>{$i||($i=$e.state.dialogues.length+1);let e;const t=$e.state.dialogues.map(n=>n.id);do e=$i.toString(10),$i++;while(t.includes(e));return e},up=e=>un.methods.nodeCounter().toString(10),Qr=(e,t,n,o)=>un.methods.edgeCounter().toString(10),La=e=>{let t=1,n=0;const o=e.data.outputs.map(i=>i.id);do n=(e.data.outputs.length+t).toString(10),t++;while(o.includes(n));return n};let Pi;const Ql=()=>{Pi||(Pi=Object.keys(U.state.labels).length);let e;do e="id"+Pi.toString(10),Pi++;while(Object.keys(U.state.labels).includes(e));return e},xc=e=>{let t;return Object.values(U.state.labels).includes(e)?t=Object.keys(U.state.labels).find(n=>U.state.labels[n]==e):t=Ql(),t},Ro={start:`    <svg
      viewBox="0 0 24 24"
      aria-label="Start node"
      role="img"
      fill="none"
      stroke="currentColor"
      stroke-width="1.75"
      stroke-linecap="round"
      stroke-linejoin="round"
      width="24"
      height="24"
    >
      <circle cx="12" cy="12" r="9" />
      <path d="M10 9.5 L15 12 L10 14.5 Z" />
    </svg>`,dialogue:`    <svg
      viewBox="0 0 24 24"
      aria-label="Dialogue node"
      role="img"
      fill="none"
      stroke="currentColor"
      stroke-width="1.75"
      stroke-linecap="round"
      stroke-linejoin="round"
      width="24"
      height="24"
    >
      <path d="M6 7.5h12a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H11l-3.5 3v-3H6a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2Z" />
      <path d="M9 11h6M9 13h4" />
    </svg>`,script:`<svg
      viewBox="0 0 24 24"
      aria-label="Script node"
      role="img"
      fill="none"
      stroke="currentColor"
      stroke-width="1.75"
      stroke-linecap="round"
      stroke-linejoin="round"
      width="24"
      height="24"
    >
      <path d="M9 8l-4 4 4 4" />
      <path d="M15 8l4 4-4 4" />
      <path d="M13 6l-2 12" />
    </svg>`,branch:`<svg
      viewBox="0 0 24 24"
      aria-label="Branch node"
      role="img"
      fill="none"
      stroke="currentColor"
      stroke-width="1.75"
      stroke-linecap="round"
      stroke-linejoin="round"
      width="24"
      height="24"
    >
      <circle cx="12" cy="6" r="2" />
      <circle cx="7" cy="18" r="2" />
      <circle cx="17" cy="18" r="2" />
      <path d="M12 8v3c0 2-1.5 3-3.5 3H7" />
      <path d="M12 11c0 2 1.5 3 3.5 3H17" />
    </svg>`},St={Graph:` <svg viewBox="0 0 24 24" aria-label="Node" role="img" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <circle cx="12" cy="5" r="2" />
  <circle cx="5" cy="19" r="2" />
  <circle cx="19" cy="19" r="2" />
  <path d="M12 7v6M7 18l5-5M17 18l-5-5" />
</svg>
`,Node:`<svg viewBox="0 0 24 24" aria-label="Single node" role="img"
  fill="none" stroke="currentColor" stroke-width="1.75"
  stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <path d="M12 3l7 4v10l-7 4-7-4V7z" />
  <path d="M12 3v18" />
  <path d="M19 7l-7 4-7-4" />
</svg>
`,Translation:`<svg viewBox="0 0 24 24" aria-label="Translations / Dictionary" role="img" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <path d="M3 5h7a4 4 0 0 1 4 4v10a2 2 0 0 0-2-2H3Z" />
  <path d="M21 5h-7a4 4 0 0 0-4 4v10a2 2 0 0 1 2-2h9Z" />
</svg>
`,Languages:`<svg viewBox="0 0 24 24" aria-label="Languages" role="img" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <circle cx="12" cy="12" r="9" />
  <path d="M3.5 9h17M3.5 15h17" />
  <path d="M12 3a17 17 0 0 1 0 18a17 17 0 0 1 0-18Z" />
</svg>
`,Trash:`<svg viewBox="0 0 24 24" aria-label="Trash" role="img" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <path d="M3 6h18" />
  <path d="M8 6V4h8v2" />
  <path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6" />
  <line x1="10" y1="11" x2="10" y2="17" />
  <line x1="14" y1="11" x2="14" y2="17" />
</svg>
`,Light:`<svg viewBox="0 0 24 24" aria-label="Dark mode" role="img" fill="none" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79Z" />
</svg>
`,Fit:`<svg viewBox="0 0 24 24" aria-label="Fit to view" role="img" fill="none"
  stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"
  width="24" height="24">
  <polyline points="3 9 3 3 9 3" />
  <polyline points="15 3 21 3 21 9" />
  <polyline points="21 15 21 21 15 21" />
  <polyline points="9 21 3 21 3 15" />
</svg>
`,Rearrange:`<svg viewBox="0 0 24 24" aria-label="Rearrange horizontally" role="img"
  fill="none" stroke="currentColor" stroke-width="1.75"
  stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
  <path d="M4 12h16" />
  <path d="M8 8l-4 4 4 4" />
  <path d="M16 8l4 4-4 4" />
</svg>
`,History:`<svg viewBox="0 0 24 24" aria-label="History" role="img"
  fill="none" stroke="currentColor" stroke-width="1.75"
  stroke-linecap="round" stroke-linejoin="round"
  width="24" height="24">
  <path d="M3 12a9 9 0 1 1 3 6.7" />
  <polyline points="3 3 3 8 8 8" />
  <path d="M12 7v
`},tt={START:{label:"Start",type:"start",icon:Ro.start},DIALOGUE:{label:"Dialogue",type:"dialogue",icon:Ro.dialogue},BRANCH:{label:"Branch",type:"branch",icon:Ro.branch},SCRIPT:{label:"Script",type:"script",icon:Ro.text}};function px(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cs,Ec;function Ra(){if(Ec)return Cs;Ec=1;var e="\0",t="\0",n="";class o{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(u){u&&(this._isDirected=Object.hasOwn(u,"directed")?u.directed:!0,this._isMultigraph=Object.hasOwn(u,"multigraph")?u.multigraph:!1,this._isCompound=Object.hasOwn(u,"compound")?u.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[t]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(u){return this._label=u,this}graph(){return this._label}setDefaultNodeLabel(u){return this._defaultNodeLabelFn=u,typeof u!="function"&&(this._defaultNodeLabelFn=()=>u),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var u=this;return this.nodes().filter(d=>Object.keys(u._in[d]).length===0)}sinks(){var u=this;return this.nodes().filter(d=>Object.keys(u._out[d]).length===0)}setNodes(u,d){var f=arguments,h=this;return u.forEach(function(g){f.length>1?h.setNode(g,d):h.setNode(g)}),this}setNode(u,d){return Object.hasOwn(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=t,this._children[u]={},this._children[t][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)}node(u){return this._nodes[u]}hasNode(u){return Object.hasOwn(this._nodes,u)}removeNode(u){var d=this;if(Object.hasOwn(this._nodes,u)){var f=h=>d.removeEdge(d._edgeObjs[h]);delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],this.children(u).forEach(function(h){d.setParent(h)}),delete this._children[u]),Object.keys(this._in[u]).forEach(f),delete this._in[u],delete this._preds[u],Object.keys(this._out[u]).forEach(f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this}setParent(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(d===void 0)d=t;else{d+="";for(var f=d;f!==void 0;f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this}_removeFromParentsChildList(u){delete this._children[this._parent[u]][u]}parent(u){if(this._isCompound){var d=this._parent[u];if(d!==t)return d}}children(u=t){if(this._isCompound){var d=this._children[u];if(d)return Object.keys(d)}else{if(u===t)return this.nodes();if(this.hasNode(u))return[]}}predecessors(u){var d=this._preds[u];if(d)return Object.keys(d)}successors(u){var d=this._sucs[u];if(d)return Object.keys(d)}neighbors(u){var d=this.predecessors(u);if(d){const h=new Set(d);for(var f of this.successors(u))h.add(f);return Array.from(h.values())}}isLeaf(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0}filterNodes(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;Object.entries(this._nodes).forEach(function([p,m]){u(p)&&d.setNode(p,m)}),Object.values(this._edgeObjs).forEach(function(p){d.hasNode(p.v)&&d.hasNode(p.w)&&d.setEdge(p,f.edge(p))});var h={};function g(p){var m=f.parent(p);return m===void 0||d.hasNode(m)?(h[p]=m,m):m in h?h[m]:g(m)}return this._isCompound&&d.nodes().forEach(p=>d.setParent(p,g(p))),d}setDefaultEdgeLabel(u){return this._defaultEdgeLabelFn=u,typeof u!="function"&&(this._defaultEdgeLabelFn=()=>u),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(u,d){var f=this,h=arguments;return u.reduce(function(g,p){return h.length>1?f.setEdge(g,p,d):f.setEdge(g,p),p}),this}setEdge(){var u,d,f,h,g=!1,p=arguments[0];typeof p=="object"&&p!==null&&"v"in p?(u=p.v,d=p.w,f=p.name,arguments.length===2&&(h=arguments[1],g=!0)):(u=p,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],g=!0)),u=""+u,d=""+d,f!==void 0&&(f=""+f);var m=s(this._isDirected,u,d,f);if(Object.hasOwn(this._edgeLabels,m))return g&&(this._edgeLabels[m]=h),this;if(f!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[m]=g?h:this._defaultEdgeLabelFn(u,d,f);var w=l(this._isDirected,u,d,f);return u=w.v,d=w.w,Object.freeze(w),this._edgeObjs[m]=w,i(this._preds[d],u),i(this._sucs[u],d),this._in[d][m]=w,this._out[u][m]=w,this._edgeCount++,this}edge(u,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return this._edgeLabels[h]}edgeAsObj(){const u=this.edge(...arguments);return typeof u!="object"?{label:u}:u}hasEdge(u,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return Object.hasOwn(this._edgeLabels,h)}removeEdge(u,d,f){var h=arguments.length===1?a(this._isDirected,arguments[0]):s(this._isDirected,u,d,f),g=this._edgeObjs[h];return g&&(u=g.v,d=g.w,delete this._edgeLabels[h],delete this._edgeObjs[h],r(this._preds[d],u),r(this._sucs[u],d),delete this._in[d][h],delete this._out[u][h],this._edgeCount--),this}inEdges(u,d){var f=this._in[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.v===d):h}}outEdges(u,d){var f=this._out[u];if(f){var h=Object.values(f);return d?h.filter(g=>g.w===d):h}}nodeEdges(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))}}function i(c,u){c[u]?c[u]++:c[u]=1}function r(c,u){--c[u]||delete c[u]}function s(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var p=h;h=g,g=p}return h+n+g+n+(f===void 0?e:f)}function l(c,u,d,f){var h=""+u,g=""+d;if(!c&&h>g){var p=h;h=g,g=p}var m={v:h,w:g};return f&&(m.name=f),m}function a(c,u){return s(c,u.v,u.w,u.name)}return Cs=o,Cs}var Ns,Sc;function gx(){return Sc||(Sc=1,Ns="2.2.4"),Ns}var ks,Cc;function mx(){return Cc||(Cc=1,ks={Graph:Ra(),version:gx()}),ks}var Ts,Nc;function vx(){if(Nc)return Ts;Nc=1;var e=Ra();Ts={write:t,read:i};function t(r){var s={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:n(r),edges:o(r)};return r.graph()!==void 0&&(s.value=structuredClone(r.graph())),s}function n(r){return r.nodes().map(function(s){var l=r.node(s),a=r.parent(s),c={v:s};return l!==void 0&&(c.value=l),a!==void 0&&(c.parent=a),c})}function o(r){return r.edges().map(function(s){var l=r.edge(s),a={v:s.v,w:s.w};return s.name!==void 0&&(a.name=s.name),l!==void 0&&(a.value=l),a})}function i(r){var s=new e(r.options).setGraph(r.value);return r.nodes.forEach(function(l){s.setNode(l.v,l.value),l.parent&&s.setParent(l.v,l.parent)}),r.edges.forEach(function(l){s.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),s}return Ts}var As,kc;function yx(){if(kc)return As;kc=1,As=e;function e(t){var n={},o=[],i;function r(s){Object.hasOwn(n,s)||(n[s]=!0,i.push(s),t.successors(s).forEach(r),t.predecessors(s).forEach(r))}return t.nodes().forEach(function(s){i=[],r(s),i.length&&o.push(i)}),o}return As}var Os,Tc;function cp(){if(Tc)return Os;Tc=1;class e{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var o=this._keyIndices[n];if(o!==void 0)return this._arr[o].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,o){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var r=this._arr,s=r.length;return i[n]=s,r.push({key:n,priority:o}),this._decrease(s),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,o){var i=this._keyIndices[n];if(o>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+o);this._arr[i].priority=o,this._decrease(i)}_heapify(n){var o=this._arr,i=2*n,r=i+1,s=n;i<o.length&&(s=o[i].priority<o[s].priority?i:s,r<o.length&&(s=o[r].priority<o[s].priority?r:s),s!==n&&(this._swap(n,s),this._heapify(s)))}_decrease(n){for(var o=this._arr,i=o[n].priority,r;n!==0&&(r=n>>1,!(o[r].priority<i));)this._swap(n,r),n=r}_swap(n,o){var i=this._arr,r=this._keyIndices,s=i[n],l=i[o];i[n]=l,i[o]=s,r[l.key]=n,r[s.key]=o}}return Os=e,Os}var Is,Ac;function dp(){if(Ac)return Is;Ac=1;var e=cp();Is=n;var t=()=>1;function n(i,r,s,l){return o(i,String(r),s||t,l||function(a){return i.outEdges(a)})}function o(i,r,s,l){var a={},c=new e,u,d,f=function(h){var g=h.v!==u?h.v:h.w,p=a[g],m=s(h),w=d.distance+m;if(m<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+h+" Weight: "+m);w<p.distance&&(p.distance=w,p.predecessor=u,c.decrease(g,w))};for(i.nodes().forEach(function(h){var g=h===r?0:Number.POSITIVE_INFINITY;a[h]={distance:g},c.add(h,g)});c.size()>0&&(u=c.removeMin(),d=a[u],d.distance!==Number.POSITIVE_INFINITY);)l(u).forEach(f);return a}return Is}var Ms,Oc;function _x(){if(Oc)return Ms;Oc=1;var e=dp();Ms=t;function t(n,o,i){return n.nodes().reduce(function(r,s){return r[s]=e(n,s,o,i),r},{})}return Ms}var Ds,Ic;function fp(){if(Ic)return Ds;Ic=1,Ds=e;function e(t){var n=0,o=[],i={},r=[];function s(l){var a=i[l]={onStack:!0,lowlink:n,index:n++};if(o.push(l),t.successors(l).forEach(function(d){Object.hasOwn(i,d)?i[d].onStack&&(a.lowlink=Math.min(a.lowlink,i[d].index)):(s(d),a.lowlink=Math.min(a.lowlink,i[d].lowlink))}),a.lowlink===a.index){var c=[],u;do u=o.pop(),i[u].onStack=!1,c.push(u);while(l!==u);r.push(c)}}return t.nodes().forEach(function(l){Object.hasOwn(i,l)||s(l)}),r}return Ds}var $s,Mc;function wx(){if(Mc)return $s;Mc=1;var e=fp();$s=t;function t(n){return e(n).filter(function(o){return o.length>1||o.length===1&&n.hasEdge(o[0],o[0])})}return $s}var Ps,Dc;function bx(){if(Dc)return Ps;Dc=1,Ps=t;var e=()=>1;function t(o,i,r){return n(o,i||e,r||function(s){return o.outEdges(s)})}function n(o,i,r){var s={},l=o.nodes();return l.forEach(function(a){s[a]={},s[a][a]={distance:0},l.forEach(function(c){a!==c&&(s[a][c]={distance:Number.POSITIVE_INFINITY})}),r(a).forEach(function(c){var u=c.v===a?c.w:c.v,d=i(c);s[a][u]={distance:d,predecessor:a}})}),l.forEach(function(a){var c=s[a];l.forEach(function(u){var d=s[u];l.forEach(function(f){var h=d[a],g=c[f],p=d[f],m=h.distance+g.distance;m<p.distance&&(p.distance=m,p.predecessor=g.predecessor)})})}),s}return Ps}var Ls,$c;function hp(){if($c)return Ls;$c=1;function e(n){var o={},i={},r=[];function s(l){if(Object.hasOwn(i,l))throw new t;Object.hasOwn(o,l)||(i[l]=!0,o[l]=!0,n.predecessors(l).forEach(s),delete i[l],r.push(l))}if(n.sinks().forEach(s),Object.keys(o).length!==n.nodeCount())throw new t;return r}class t extends Error{constructor(){super(...arguments)}}return Ls=e,e.CycleException=t,Ls}var Rs,Pc;function xx(){if(Pc)return Rs;Pc=1;var e=hp();Rs=t;function t(n){try{e(n)}catch(o){if(o instanceof e.CycleException)return!1;throw o}return!0}return Rs}var Fs,Lc;function pp(){if(Lc)return Fs;Lc=1,Fs=e;function e(i,r,s){Array.isArray(r)||(r=[r]);var l=i.isDirected()?d=>i.successors(d):d=>i.neighbors(d),a=s==="post"?t:n,c=[],u={};return r.forEach(d=>{if(!i.hasNode(d))throw new Error("Graph does not have node: "+d);a(d,l,u,c)}),c}function t(i,r,s,l){for(var a=[[i,!1]];a.length>0;){var c=a.pop();c[1]?l.push(c[0]):Object.hasOwn(s,c[0])||(s[c[0]]=!0,a.push([c[0],!0]),o(r(c[0]),u=>a.push([u,!1])))}}function n(i,r,s,l){for(var a=[i];a.length>0;){var c=a.pop();Object.hasOwn(s,c)||(s[c]=!0,l.push(c),o(r(c),u=>a.push(u)))}}function o(i,r){for(var s=i.length;s--;)r(i[s],s,i);return i}return Fs}var Vs,Rc;function Ex(){if(Rc)return Vs;Rc=1;var e=pp();Vs=t;function t(n,o){return e(n,o,"post")}return Vs}var Bs,Fc;function Sx(){if(Fc)return Bs;Fc=1;var e=pp();Bs=t;function t(n,o){return e(n,o,"pre")}return Bs}var Hs,Vc;function Cx(){if(Vc)return Hs;Vc=1;var e=Ra(),t=cp();Hs=n;function n(o,i){var r=new e,s={},l=new t,a;function c(d){var f=d.v===a?d.w:d.v,h=l.priority(f);if(h!==void 0){var g=i(d);g<h&&(s[f]=a,l.decrease(f,g))}}if(o.nodeCount()===0)return r;o.nodes().forEach(function(d){l.add(d,Number.POSITIVE_INFINITY),r.setNode(d)}),l.decrease(o.nodes()[0],0);for(var u=!1;l.size()>0;){if(a=l.removeMin(),Object.hasOwn(s,a))r.setEdge(a,s[a]);else{if(u)throw new Error("Input graph is not connected: "+o);u=!0}o.nodeEdges(a).forEach(c)}return r}return Hs}var js,Bc;function Nx(){return Bc||(Bc=1,js={components:yx(),dijkstra:dp(),dijkstraAll:_x(),findCycles:wx(),floydWarshall:bx(),isAcyclic:xx(),postorder:Ex(),preorder:Sx(),prim:Cx(),tarjan:fp(),topsort:hp()}),js}var zs,Hc;function Rt(){if(Hc)return zs;Hc=1;var e=mx();return zs={Graph:e.Graph,json:vx(),alg:Nx(),version:e.version},zs}var Ys,jc;function kx(){if(jc)return Ys;jc=1;class e{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,r=i._prev;if(r!==i)return t(r),r}enqueue(i){let r=this._sentinel;i._prev&&i._next&&t(i),i._next=r._next,r._next._prev=i,r._next=i,i._prev=r}toString(){let i=[],r=this._sentinel,s=r._prev;for(;s!==r;)i.push(JSON.stringify(s,n)),s=s._prev;return"["+i.join(", ")+"]"}}function t(o){o._prev._next=o._next,o._next._prev=o._prev,delete o._next,delete o._prev}function n(o,i){if(o!=="_next"&&o!=="_prev")return i}return Ys=e,Ys}var Gs,zc;function Tx(){if(zc)return Gs;zc=1;let e=Rt().Graph,t=kx();Gs=o;let n=()=>1;function o(c,u){if(c.nodeCount()<=1)return[];let d=s(c,u||n);return i(d.graph,d.buckets,d.zeroIdx).flatMap(h=>c.outEdges(h.v,h.w))}function i(c,u,d){let f=[],h=u[u.length-1],g=u[0],p;for(;c.nodeCount();){for(;p=g.dequeue();)r(c,u,d,p);for(;p=h.dequeue();)r(c,u,d,p);if(c.nodeCount()){for(let m=u.length-2;m>0;--m)if(p=u[m].dequeue(),p){f=f.concat(r(c,u,d,p,!0));break}}}return f}function r(c,u,d,f,h){let g=h?[]:void 0;return c.inEdges(f.v).forEach(p=>{let m=c.edge(p),w=c.node(p.v);h&&g.push({v:p.v,w:p.w}),w.out-=m,l(u,d,w)}),c.outEdges(f.v).forEach(p=>{let m=c.edge(p),w=p.w,_=c.node(w);_.in-=m,l(u,d,_)}),c.removeNode(f.v),g}function s(c,u){let d=new e,f=0,h=0;c.nodes().forEach(m=>{d.setNode(m,{v:m,in:0,out:0})}),c.edges().forEach(m=>{let w=d.edge(m.v,m.w)||0,_=u(m),x=w+_;d.setEdge(m.v,m.w,x),h=Math.max(h,d.node(m.v).out+=_),f=Math.max(f,d.node(m.w).in+=_)});let g=a(h+f+3).map(()=>new t),p=f+1;return d.nodes().forEach(m=>{l(g,p,d.node(m))}),{graph:d,buckets:g,zeroIdx:p}}function l(c,u,d){d.out?d.in?c[d.out-d.in+u].enqueue(d):c[c.length-1].enqueue(d):c[0].enqueue(d)}function a(c){const u=[];for(let d=0;d<c;d++)u.push(d);return u}return Gs}var Us,Yc;function Xe(){if(Yc)return Us;Yc=1;let e=Rt().Graph;Us={addBorderNode:u,addDummyNode:t,applyWithChunking:h,asNonCompoundGraph:o,buildLayerMatrix:l,intersectRect:s,mapValues:F,maxRank:g,normalizeRanks:a,notime:w,partition:p,pick:$,predecessorWeights:r,range:S,removeEmptyRanks:c,simplify:n,successorWeights:i,time:m,uniqueId:x,zipObject:W};function t(A,O,D,I){for(var E=I;A.hasNode(E);)E=x(I);return D.dummy=O,A.setNode(E,D),E}function n(A){let O=new e().setGraph(A.graph());return A.nodes().forEach(D=>O.setNode(D,A.node(D))),A.edges().forEach(D=>{let I=O.edge(D.v,D.w)||{weight:0,minlen:1},E=A.edge(D);O.setEdge(D.v,D.w,{weight:I.weight+E.weight,minlen:Math.max(I.minlen,E.minlen)})}),O}function o(A){let O=new e({multigraph:A.isMultigraph()}).setGraph(A.graph());return A.nodes().forEach(D=>{A.children(D).length||O.setNode(D,A.node(D))}),A.edges().forEach(D=>{O.setEdge(D,A.edge(D))}),O}function i(A){let O=A.nodes().map(D=>{let I={};return A.outEdges(D).forEach(E=>{I[E.w]=(I[E.w]||0)+A.edge(E).weight}),I});return W(A.nodes(),O)}function r(A){let O=A.nodes().map(D=>{let I={};return A.inEdges(D).forEach(E=>{I[E.v]=(I[E.v]||0)+A.edge(E).weight}),I});return W(A.nodes(),O)}function s(A,O){let D=A.x,I=A.y,E=O.x-D,K=O.y-I,T=A.width/2,q=A.height/2;if(!E&&!K)throw new Error("Not possible to find intersection inside of the rectangle");let P,Q;return Math.abs(K)*T>Math.abs(E)*q?(K<0&&(q=-q),P=q*E/K,Q=q):(E<0&&(T=-T),P=T,Q=T*K/E),{x:D+P,y:I+Q}}function l(A){let O=S(g(A)+1).map(()=>[]);return A.nodes().forEach(D=>{let I=A.node(D),E=I.rank;E!==void 0&&(O[E][I.order]=D)}),O}function a(A){let O=A.nodes().map(I=>{let E=A.node(I).rank;return E===void 0?Number.MAX_VALUE:E}),D=h(Math.min,O);A.nodes().forEach(I=>{let E=A.node(I);Object.hasOwn(E,"rank")&&(E.rank-=D)})}function c(A){let O=A.nodes().map(T=>A.node(T).rank),D=h(Math.min,O),I=[];A.nodes().forEach(T=>{let q=A.node(T).rank-D;I[q]||(I[q]=[]),I[q].push(T)});let E=0,K=A.graph().nodeRankFactor;Array.from(I).forEach((T,q)=>{T===void 0&&q%K!==0?--E:T!==void 0&&E&&T.forEach(P=>A.node(P).rank+=E)})}function u(A,O,D,I){let E={width:0,height:0};return arguments.length>=4&&(E.rank=D,E.order=I),t(A,"border",E,O)}function d(A,O=f){const D=[];for(let I=0;I<A.length;I+=O){const E=A.slice(I,I+O);D.push(E)}return D}const f=65535;function h(A,O){if(O.length>f){const D=d(O);return A.apply(null,D.map(I=>A.apply(null,I)))}else return A.apply(null,O)}function g(A){const D=A.nodes().map(I=>{let E=A.node(I).rank;return E===void 0?Number.MIN_VALUE:E});return h(Math.max,D)}function p(A,O){let D={lhs:[],rhs:[]};return A.forEach(I=>{O(I)?D.lhs.push(I):D.rhs.push(I)}),D}function m(A,O){let D=Date.now();try{return O()}finally{console.log(A+" time: "+(Date.now()-D)+"ms")}}function w(A,O){return O()}let _=0;function x(A){var O=++_;return A+(""+O)}function S(A,O,D=1){O==null&&(O=A,A=0);let I=K=>K<O;D<0&&(I=K=>O<K);const E=[];for(let K=A;I(K);K+=D)E.push(K);return E}function $(A,O){const D={};for(const I of O)A[I]!==void 0&&(D[I]=A[I]);return D}function F(A,O){let D=O;return typeof O=="string"&&(D=I=>I[O]),Object.entries(A).reduce((I,[E,K])=>(I[E]=D(K,E),I),{})}function W(A,O){return A.reduce((D,I,E)=>(D[I]=O[E],D),{})}return Us}var qs,Gc;function Ax(){if(Gc)return qs;Gc=1;let e=Tx(),t=Xe().uniqueId;qs={run:n,undo:i};function n(r){(r.graph().acyclicer==="greedy"?e(r,l(r)):o(r)).forEach(a=>{let c=r.edge(a);r.removeEdge(a),c.forwardName=a.name,c.reversed=!0,r.setEdge(a.w,a.v,c,t("rev"))});function l(a){return c=>a.edge(c).weight}}function o(r){let s=[],l={},a={};function c(u){Object.hasOwn(a,u)||(a[u]=!0,l[u]=!0,r.outEdges(u).forEach(d=>{Object.hasOwn(l,d.w)?s.push(d):c(d.w)}),delete l[u])}return r.nodes().forEach(c),s}function i(r){r.edges().forEach(s=>{let l=r.edge(s);if(l.reversed){r.removeEdge(s);let a=l.forwardName;delete l.reversed,delete l.forwardName,r.setEdge(s.w,s.v,l,a)}})}return qs}var Ws,Uc;function Ox(){if(Uc)return Ws;Uc=1;let e=Xe();Ws={run:t,undo:o};function t(i){i.graph().dummyChains=[],i.edges().forEach(r=>n(i,r))}function n(i,r){let s=r.v,l=i.node(s).rank,a=r.w,c=i.node(a).rank,u=r.name,d=i.edge(r),f=d.labelRank;if(c===l+1)return;i.removeEdge(r);let h,g,p;for(p=0,++l;l<c;++p,++l)d.points=[],g={width:0,height:0,edgeLabel:d,edgeObj:r,rank:l},h=e.addDummyNode(i,"edge",g,"_d"),l===f&&(g.width=d.width,g.height=d.height,g.dummy="edge-label",g.labelpos=d.labelpos),i.setEdge(s,h,{weight:d.weight},u),p===0&&i.graph().dummyChains.push(h),s=h;i.setEdge(s,a,{weight:d.weight},u)}function o(i){i.graph().dummyChains.forEach(r=>{let s=i.node(r),l=s.edgeLabel,a;for(i.setEdge(s.edgeObj,l);s.dummy;)a=i.successors(r)[0],i.removeNode(r),l.points.push({x:s.x,y:s.y}),s.dummy==="edge-label"&&(l.x=s.x,l.y=s.y,l.width=s.width,l.height=s.height),r=a,s=i.node(r)})}return Ws}var Ks,qc;function yr(){if(qc)return Ks;qc=1;const{applyWithChunking:e}=Xe();Ks={longestPath:t,slack:n};function t(o){var i={};function r(s){var l=o.node(s);if(Object.hasOwn(i,s))return l.rank;i[s]=!0;let a=o.outEdges(s).map(u=>u==null?Number.POSITIVE_INFINITY:r(u.w)-o.edge(u).minlen);var c=e(Math.min,a);return c===Number.POSITIVE_INFINITY&&(c=0),l.rank=c}o.sources().forEach(r)}function n(o,i){return o.node(i.w).rank-o.node(i.v).rank-o.edge(i).minlen}return Ks}var Xs,Wc;function gp(){if(Wc)return Xs;Wc=1;var e=Rt().Graph,t=yr().slack;Xs=n;function n(s){var l=new e({directed:!1}),a=s.nodes()[0],c=s.nodeCount();l.setNode(a,{});for(var u,d;o(l,s)<c;)u=i(l,s),d=l.hasNode(u.v)?t(s,u):-t(s,u),r(l,s,d);return l}function o(s,l){function a(c){l.nodeEdges(c).forEach(u=>{var d=u.v,f=c===d?u.w:d;!s.hasNode(f)&&!t(l,u)&&(s.setNode(f,{}),s.setEdge(c,f,{}),a(f))})}return s.nodes().forEach(a),s.nodeCount()}function i(s,l){return l.edges().reduce((c,u)=>{let d=Number.POSITIVE_INFINITY;return s.hasNode(u.v)!==s.hasNode(u.w)&&(d=t(l,u)),d<c[0]?[d,u]:c},[Number.POSITIVE_INFINITY,null])[1]}function r(s,l,a){s.nodes().forEach(c=>l.node(c).rank+=a)}return Xs}var Zs,Kc;function Ix(){if(Kc)return Zs;Kc=1;var e=gp(),t=yr().slack,n=yr().longestPath,o=Rt().alg.preorder,i=Rt().alg.postorder,r=Xe().simplify;Zs=s,s.initLowLimValues=u,s.initCutValues=l,s.calcCutValue=c,s.leaveEdge=f,s.enterEdge=h,s.exchangeEdges=g;function s(_){_=r(_),n(_);var x=e(_);u(x),l(x,_);for(var S,$;S=f(x);)$=h(x,_,S),g(x,_,S,$)}function l(_,x){var S=i(_,_.nodes());S=S.slice(0,S.length-1),S.forEach($=>a(_,x,$))}function a(_,x,S){var $=_.node(S),F=$.parent;_.edge(S,F).cutvalue=c(_,x,S)}function c(_,x,S){var $=_.node(S),F=$.parent,W=!0,A=x.edge(S,F),O=0;return A||(W=!1,A=x.edge(F,S)),O=A.weight,x.nodeEdges(S).forEach(D=>{var I=D.v===S,E=I?D.w:D.v;if(E!==F){var K=I===W,T=x.edge(D).weight;if(O+=K?T:-T,m(_,S,E)){var q=_.edge(S,E).cutvalue;O+=K?-q:q}}}),O}function u(_,x){arguments.length<2&&(x=_.nodes()[0]),d(_,{},1,x)}function d(_,x,S,$,F){var W=S,A=_.node($);return x[$]=!0,_.neighbors($).forEach(O=>{Object.hasOwn(x,O)||(S=d(_,x,S,O,$))}),A.low=W,A.lim=S++,F?A.parent=F:delete A.parent,S}function f(_){return _.edges().find(x=>_.edge(x).cutvalue<0)}function h(_,x,S){var $=S.v,F=S.w;x.hasEdge($,F)||($=S.w,F=S.v);var W=_.node($),A=_.node(F),O=W,D=!1;W.lim>A.lim&&(O=A,D=!0);var I=x.edges().filter(E=>D===w(_,_.node(E.v),O)&&D!==w(_,_.node(E.w),O));return I.reduce((E,K)=>t(x,K)<t(x,E)?K:E)}function g(_,x,S,$){var F=S.v,W=S.w;_.removeEdge(F,W),_.setEdge($.v,$.w,{}),u(_),l(_,x),p(_,x)}function p(_,x){var S=_.nodes().find(F=>!x.node(F).parent),$=o(_,S);$=$.slice(1),$.forEach(F=>{var W=_.node(F).parent,A=x.edge(F,W),O=!1;A||(A=x.edge(W,F),O=!0),x.node(F).rank=x.node(W).rank+(O?A.minlen:-A.minlen)})}function m(_,x,S){return _.hasEdge(x,S)}function w(_,x,S){return S.low<=x.lim&&x.lim<=S.lim}return Zs}var Qs,Xc;function Mx(){if(Xc)return Qs;Xc=1;var e=yr(),t=e.longestPath,n=gp(),o=Ix();Qs=i;function i(a){var c=a.graph().ranker;if(c instanceof Function)return c(a);switch(a.graph().ranker){case"network-simplex":l(a);break;case"tight-tree":s(a);break;case"longest-path":r(a);break;case"none":break;default:l(a)}}var r=t;function s(a){t(a),n(a)}function l(a){o(a)}return Qs}var Js,Zc;function Dx(){if(Zc)return Js;Zc=1,Js=e;function e(o){let i=n(o);o.graph().dummyChains.forEach(r=>{let s=o.node(r),l=s.edgeObj,a=t(o,i,l.v,l.w),c=a.path,u=a.lca,d=0,f=c[d],h=!0;for(;r!==l.w;){if(s=o.node(r),h){for(;(f=c[d])!==u&&o.node(f).maxRank<s.rank;)d++;f===u&&(h=!1)}if(!h){for(;d<c.length-1&&o.node(f=c[d+1]).minRank<=s.rank;)d++;f=c[d]}o.setParent(r,f),r=o.successors(r)[0]}})}function t(o,i,r,s){let l=[],a=[],c=Math.min(i[r].low,i[s].low),u=Math.max(i[r].lim,i[s].lim),d,f;d=r;do d=o.parent(d),l.push(d);while(d&&(i[d].low>c||u>i[d].lim));for(f=d,d=s;(d=o.parent(d))!==f;)a.push(d);return{path:l.concat(a.reverse()),lca:f}}function n(o){let i={},r=0;function s(l){let a=r;o.children(l).forEach(s),i[l]={low:a,lim:r++}}return o.children().forEach(s),i}return Js}var el,Qc;function $x(){if(Qc)return el;Qc=1;let e=Xe();el={run:t,cleanup:r};function t(s){let l=e.addDummyNode(s,"root",{},"_root"),a=o(s),c=Object.values(a),u=e.applyWithChunking(Math.max,c)-1,d=2*u+1;s.graph().nestingRoot=l,s.edges().forEach(h=>s.edge(h).minlen*=d);let f=i(s)+1;s.children().forEach(h=>n(s,l,d,f,u,a,h)),s.graph().nodeRankFactor=d}function n(s,l,a,c,u,d,f){let h=s.children(f);if(!h.length){f!==l&&s.setEdge(l,f,{weight:0,minlen:a});return}let g=e.addBorderNode(s,"_bt"),p=e.addBorderNode(s,"_bb"),m=s.node(f);s.setParent(g,f),m.borderTop=g,s.setParent(p,f),m.borderBottom=p,h.forEach(w=>{n(s,l,a,c,u,d,w);let _=s.node(w),x=_.borderTop?_.borderTop:w,S=_.borderBottom?_.borderBottom:w,$=_.borderTop?c:2*c,F=x!==S?1:u-d[f]+1;s.setEdge(g,x,{weight:$,minlen:F,nestingEdge:!0}),s.setEdge(S,p,{weight:$,minlen:F,nestingEdge:!0})}),s.parent(f)||s.setEdge(l,g,{weight:0,minlen:u+d[f]})}function o(s){var l={};function a(c,u){var d=s.children(c);d&&d.length&&d.forEach(f=>a(f,u+1)),l[c]=u}return s.children().forEach(c=>a(c,1)),l}function i(s){return s.edges().reduce((l,a)=>l+s.edge(a).weight,0)}function r(s){var l=s.graph();s.removeNode(l.nestingRoot),delete l.nestingRoot,s.edges().forEach(a=>{var c=s.edge(a);c.nestingEdge&&s.removeEdge(a)})}return el}var tl,Jc;function Px(){if(Jc)return tl;Jc=1;let e=Xe();tl=t;function t(o){function i(r){let s=o.children(r),l=o.node(r);if(s.length&&s.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let a=l.minRank,c=l.maxRank+1;a<c;++a)n(o,"borderLeft","_bl",r,l,a),n(o,"borderRight","_br",r,l,a)}}o.children().forEach(i)}function n(o,i,r,s,l,a){let c={width:0,height:0,rank:a,borderType:i},u=l[i][a-1],d=e.addDummyNode(o,"border",c,r);l[i][a]=d,o.setParent(d,s),u&&o.setEdge(u,d,{weight:1})}return tl}var nl,ed;function Lx(){if(ed)return nl;ed=1,nl={adjust:e,undo:t};function e(a){let c=a.graph().rankdir.toLowerCase();(c==="lr"||c==="rl")&&n(a)}function t(a){let c=a.graph().rankdir.toLowerCase();(c==="bt"||c==="rl")&&i(a),(c==="lr"||c==="rl")&&(s(a),n(a))}function n(a){a.nodes().forEach(c=>o(a.node(c))),a.edges().forEach(c=>o(a.edge(c)))}function o(a){let c=a.width;a.width=a.height,a.height=c}function i(a){a.nodes().forEach(c=>r(a.node(c))),a.edges().forEach(c=>{let u=a.edge(c);u.points.forEach(r),Object.hasOwn(u,"y")&&r(u)})}function r(a){a.y=-a.y}function s(a){a.nodes().forEach(c=>l(a.node(c))),a.edges().forEach(c=>{let u=a.edge(c);u.points.forEach(l),Object.hasOwn(u,"x")&&l(u)})}function l(a){let c=a.x;a.x=a.y,a.y=c}return nl}var ol,td;function Rx(){if(td)return ol;td=1;let e=Xe();ol=t;function t(n){let o={},i=n.nodes().filter(u=>!n.children(u).length),r=i.map(u=>n.node(u).rank),s=e.applyWithChunking(Math.max,r),l=e.range(s+1).map(()=>[]);function a(u){if(o[u])return;o[u]=!0;let d=n.node(u);l[d.rank].push(u),n.successors(u).forEach(a)}return i.sort((u,d)=>n.node(u).rank-n.node(d).rank).forEach(a),l}return ol}var il,nd;function Fx(){if(nd)return il;nd=1;let e=Xe().zipObject;il=t;function t(o,i){let r=0;for(let s=1;s<i.length;++s)r+=n(o,i[s-1],i[s]);return r}function n(o,i,r){let s=e(r,r.map((f,h)=>h)),l=i.flatMap(f=>o.outEdges(f).map(h=>({pos:s[h.w],weight:o.edge(h).weight})).sort((h,g)=>h.pos-g.pos)),a=1;for(;a<r.length;)a<<=1;let c=2*a-1;a-=1;let u=new Array(c).fill(0),d=0;return l.forEach(f=>{let h=f.pos+a;u[h]+=f.weight;let g=0;for(;h>0;)h%2&&(g+=u[h+1]),h=h-1>>1,u[h]+=f.weight;d+=f.weight*g}),d}return il}var rl,od;function Vx(){if(od)return rl;od=1,rl=e;function e(t,n=[]){return n.map(o=>{let i=t.inEdges(o);if(i.length){let r=i.reduce((s,l)=>{let a=t.edge(l),c=t.node(l.v);return{sum:s.sum+a.weight*c.order,weight:s.weight+a.weight}},{sum:0,weight:0});return{v:o,barycenter:r.sum/r.weight,weight:r.weight}}else return{v:o}})}return rl}var sl,id;function Bx(){if(id)return sl;id=1;let e=Xe();sl=t;function t(i,r){let s={};i.forEach((a,c)=>{let u=s[a.v]={indegree:0,in:[],out:[],vs:[a.v],i:c};a.barycenter!==void 0&&(u.barycenter=a.barycenter,u.weight=a.weight)}),r.edges().forEach(a=>{let c=s[a.v],u=s[a.w];c!==void 0&&u!==void 0&&(u.indegree++,c.out.push(s[a.w]))});let l=Object.values(s).filter(a=>!a.indegree);return n(l)}function n(i){let r=[];function s(a){return c=>{c.merged||(c.barycenter===void 0||a.barycenter===void 0||c.barycenter>=a.barycenter)&&o(a,c)}}function l(a){return c=>{c.in.push(a),--c.indegree===0&&i.push(c)}}for(;i.length;){let a=i.pop();r.push(a),a.in.reverse().forEach(s(a)),a.out.forEach(l(a))}return r.filter(a=>!a.merged).map(a=>e.pick(a,["vs","i","barycenter","weight"]))}function o(i,r){let s=0,l=0;i.weight&&(s+=i.barycenter*i.weight,l+=i.weight),r.weight&&(s+=r.barycenter*r.weight,l+=r.weight),i.vs=r.vs.concat(i.vs),i.barycenter=s/l,i.weight=l,i.i=Math.min(r.i,i.i),r.merged=!0}return sl}var ll,rd;function Hx(){if(rd)return ll;rd=1;let e=Xe();ll=t;function t(i,r){let s=e.partition(i,g=>Object.hasOwn(g,"barycenter")),l=s.lhs,a=s.rhs.sort((g,p)=>p.i-g.i),c=[],u=0,d=0,f=0;l.sort(o(!!r)),f=n(c,a,f),l.forEach(g=>{f+=g.vs.length,c.push(g.vs),u+=g.barycenter*g.weight,d+=g.weight,f=n(c,a,f)});let h={vs:c.flat(!0)};return d&&(h.barycenter=u/d,h.weight=d),h}function n(i,r,s){let l;for(;r.length&&(l=r[r.length-1]).i<=s;)r.pop(),i.push(l.vs),s++;return s}function o(i){return(r,s)=>r.barycenter<s.barycenter?-1:r.barycenter>s.barycenter?1:i?s.i-r.i:r.i-s.i}return ll}var al,sd;function jx(){if(sd)return al;sd=1;let e=Vx(),t=Bx(),n=Hx();al=o;function o(s,l,a,c){let u=s.children(l),d=s.node(l),f=d?d.borderLeft:void 0,h=d?d.borderRight:void 0,g={};f&&(u=u.filter(_=>_!==f&&_!==h));let p=e(s,u);p.forEach(_=>{if(s.children(_.v).length){let x=o(s,_.v,a,c);g[_.v]=x,Object.hasOwn(x,"barycenter")&&r(_,x)}});let m=t(p,a);i(m,g);let w=n(m,c);if(f&&(w.vs=[f,w.vs,h].flat(!0),s.predecessors(f).length)){let _=s.node(s.predecessors(f)[0]),x=s.node(s.predecessors(h)[0]);Object.hasOwn(w,"barycenter")||(w.barycenter=0,w.weight=0),w.barycenter=(w.barycenter*w.weight+_.order+x.order)/(w.weight+2),w.weight+=2}return w}function i(s,l){s.forEach(a=>{a.vs=a.vs.flatMap(c=>l[c]?l[c].vs:c)})}function r(s,l){s.barycenter!==void 0?(s.barycenter=(s.barycenter*s.weight+l.barycenter*l.weight)/(s.weight+l.weight),s.weight+=l.weight):(s.barycenter=l.barycenter,s.weight=l.weight)}return al}var ul,ld;function zx(){if(ld)return ul;ld=1;let e=Rt().Graph,t=Xe();ul=n;function n(i,r,s){let l=o(i),a=new e({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(c=>i.node(c));return i.nodes().forEach(c=>{let u=i.node(c),d=i.parent(c);(u.rank===r||u.minRank<=r&&r<=u.maxRank)&&(a.setNode(c),a.setParent(c,d||l),i[s](c).forEach(f=>{let h=f.v===c?f.w:f.v,g=a.edge(h,c),p=g!==void 0?g.weight:0;a.setEdge(h,c,{weight:i.edge(f).weight+p})}),Object.hasOwn(u,"minRank")&&a.setNode(c,{borderLeft:u.borderLeft[r],borderRight:u.borderRight[r]}))}),a}function o(i){for(var r;i.hasNode(r=t.uniqueId("_root")););return r}return ul}var cl,ad;function Yx(){if(ad)return cl;ad=1,cl=e;function e(t,n,o){let i={},r;o.forEach(s=>{let l=t.parent(s),a,c;for(;l;){if(a=t.parent(l),a?(c=i[a],i[a]=l):(c=r,r=l),c&&c!==l){n.setEdge(c,l);return}l=a}})}return cl}var dl,ud;function Gx(){if(ud)return dl;ud=1;let e=Rx(),t=Fx(),n=jx(),o=zx(),i=Yx(),r=Rt().Graph,s=Xe();dl=l;function l(d,f){if(f&&typeof f.customOrder=="function"){f.customOrder(d,l);return}let h=s.maxRank(d),g=a(d,s.range(1,h+1),"inEdges"),p=a(d,s.range(h-1,-1,-1),"outEdges"),m=e(d);if(u(d,m),f&&f.disableOptimalOrderHeuristic)return;let w=Number.POSITIVE_INFINITY,_;for(let x=0,S=0;S<4;++x,++S){c(x%2?g:p,x%4>=2),m=s.buildLayerMatrix(d);let $=t(d,m);$<w&&(S=0,_=Object.assign({},m),w=$)}u(d,_)}function a(d,f,h){return f.map(function(g){return o(d,g,h)})}function c(d,f){let h=new r;d.forEach(function(g){let p=g.graph().root,m=n(g,p,h,f);m.vs.forEach((w,_)=>g.node(w).order=_),i(g,h,m.vs)})}function u(d,f){Object.values(f).forEach(h=>h.forEach((g,p)=>d.node(g).order=p))}return dl}var fl,cd;function Ux(){if(cd)return fl;cd=1;let e=Rt().Graph,t=Xe();fl={positionX:h,findType1Conflicts:n,findType2Conflicts:o,addConflict:r,hasConflict:s,verticalAlignment:l,horizontalCompaction:a,alignCoordinates:d,findSmallestWidthAlignment:u,balance:f};function n(m,w){let _={};function x(S,$){let F=0,W=0,A=S.length,O=$[$.length-1];return $.forEach((D,I)=>{let E=i(m,D),K=E?m.node(E).order:A;(E||D===O)&&($.slice(W,I+1).forEach(T=>{m.predecessors(T).forEach(q=>{let P=m.node(q),Q=P.order;(Q<F||K<Q)&&!(P.dummy&&m.node(T).dummy)&&r(_,q,T)})}),W=I+1,F=K)}),$}return w.length&&w.reduce(x),_}function o(m,w){let _={};function x($,F,W,A,O){let D;t.range(F,W).forEach(I=>{D=$[I],m.node(D).dummy&&m.predecessors(D).forEach(E=>{let K=m.node(E);K.dummy&&(K.order<A||K.order>O)&&r(_,E,D)})})}function S($,F){let W=-1,A,O=0;return F.forEach((D,I)=>{if(m.node(D).dummy==="border"){let E=m.predecessors(D);E.length&&(A=m.node(E[0]).order,x(F,O,I,W,A),O=I,W=A)}x(F,O,F.length,A,$.length)}),F}return w.length&&w.reduce(S),_}function i(m,w){if(m.node(w).dummy)return m.predecessors(w).find(_=>m.node(_).dummy)}function r(m,w,_){if(w>_){let S=w;w=_,_=S}let x=m[w];x||(m[w]=x={}),x[_]=!0}function s(m,w,_){if(w>_){let x=w;w=_,_=x}return!!m[w]&&Object.hasOwn(m[w],_)}function l(m,w,_,x){let S={},$={},F={};return w.forEach(W=>{W.forEach((A,O)=>{S[A]=A,$[A]=A,F[A]=O})}),w.forEach(W=>{let A=-1;W.forEach(O=>{let D=x(O);if(D.length){D=D.sort((E,K)=>F[E]-F[K]);let I=(D.length-1)/2;for(let E=Math.floor(I),K=Math.ceil(I);E<=K;++E){let T=D[E];$[O]===O&&A<F[T]&&!s(_,O,T)&&($[T]=O,$[O]=S[O]=S[T],A=F[T])}}})}),{root:S,align:$}}function a(m,w,_,x,S){let $={},F=c(m,w,_,S),W=S?"borderLeft":"borderRight";function A(I,E){let K=F.nodes(),T=K.pop(),q={};for(;T;)q[T]?I(T):(q[T]=!0,K.push(T),K=K.concat(E(T))),T=K.pop()}function O(I){$[I]=F.inEdges(I).reduce((E,K)=>Math.max(E,$[K.v]+F.edge(K)),0)}function D(I){let E=F.outEdges(I).reduce((T,q)=>Math.min(T,$[q.w]-F.edge(q)),Number.POSITIVE_INFINITY),K=m.node(I);E!==Number.POSITIVE_INFINITY&&K.borderType!==W&&($[I]=Math.max($[I],E))}return A(O,F.predecessors.bind(F)),A(D,F.successors.bind(F)),Object.keys(x).forEach(I=>$[I]=$[_[I]]),$}function c(m,w,_,x){let S=new e,$=m.graph(),F=g($.nodesep,$.edgesep,x);return w.forEach(W=>{let A;W.forEach(O=>{let D=_[O];if(S.setNode(D),A){var I=_[A],E=S.edge(I,D);S.setEdge(I,D,Math.max(F(m,O,A),E||0))}A=O})}),S}function u(m,w){return Object.values(w).reduce((_,x)=>{let S=Number.NEGATIVE_INFINITY,$=Number.POSITIVE_INFINITY;Object.entries(x).forEach(([W,A])=>{let O=p(m,W)/2;S=Math.max(A+O,S),$=Math.min(A-O,$)});const F=S-$;return F<_[0]&&(_=[F,x]),_},[Number.POSITIVE_INFINITY,null])[1]}function d(m,w){let _=Object.values(w),x=t.applyWithChunking(Math.min,_),S=t.applyWithChunking(Math.max,_);["u","d"].forEach($=>{["l","r"].forEach(F=>{let W=$+F,A=m[W];if(A===w)return;let O=Object.values(A),D=x-t.applyWithChunking(Math.min,O);F!=="l"&&(D=S-t.applyWithChunking(Math.max,O)),D&&(m[W]=t.mapValues(A,I=>I+D))})})}function f(m,w){return t.mapValues(m.ul,(_,x)=>{if(w)return m[w.toLowerCase()][x];{let S=Object.values(m).map($=>$[x]).sort(($,F)=>$-F);return(S[1]+S[2])/2}})}function h(m){let w=t.buildLayerMatrix(m),_=Object.assign(n(m,w),o(m,w)),x={},S;["u","d"].forEach(F=>{S=F==="u"?w:Object.values(w).reverse(),["l","r"].forEach(W=>{W==="r"&&(S=S.map(I=>Object.values(I).reverse()));let A=(F==="u"?m.predecessors:m.successors).bind(m),O=l(m,S,_,A),D=a(m,S,O.root,O.align,W==="r");W==="r"&&(D=t.mapValues(D,I=>-I)),x[F+W]=D})});let $=u(m,x);return d(x,$),f(x,m.graph().align)}function g(m,w,_){return(x,S,$)=>{let F=x.node(S),W=x.node($),A=0,O;if(A+=F.width/2,Object.hasOwn(F,"labelpos"))switch(F.labelpos.toLowerCase()){case"l":O=-F.width/2;break;case"r":O=F.width/2;break}if(O&&(A+=_?O:-O),O=0,A+=(F.dummy?w:m)/2,A+=(W.dummy?w:m)/2,A+=W.width/2,Object.hasOwn(W,"labelpos"))switch(W.labelpos.toLowerCase()){case"l":O=W.width/2;break;case"r":O=-W.width/2;break}return O&&(A+=_?O:-O),O=0,A}}function p(m,w){return m.node(w).width}return fl}var hl,dd;function qx(){if(dd)return hl;dd=1;let e=Xe(),t=Ux().positionX;hl=n;function n(i){i=e.asNonCompoundGraph(i),o(i),Object.entries(t(i)).forEach(([r,s])=>i.node(r).x=s)}function o(i){let r=e.buildLayerMatrix(i),s=i.graph().ranksep,l=0;r.forEach(a=>{const c=a.reduce((u,d)=>{const f=i.node(d).height;return u>f?u:f},0);a.forEach(u=>i.node(u).y=l+c/2),l+=c+s})}return hl}var pl,fd;function Wx(){if(fd)return pl;fd=1;let e=Ax(),t=Ox(),n=Mx(),o=Xe().normalizeRanks,i=Dx(),r=Xe().removeEmptyRanks,s=$x(),l=Px(),a=Lx(),c=Gx(),u=qx(),d=Xe(),f=Rt().Graph;pl=h;function h(V,R){let Y=R&&R.debugTiming?d.time:d.notime;Y("layout",()=>{let X=Y("  buildLayoutGraph",()=>A(V));Y("  runLayout",()=>g(X,Y,R)),Y("  updateInputGraph",()=>p(V,X))})}function g(V,R,Y){R("    makeSpaceForEdgeLabels",()=>O(V)),R("    removeSelfEdges",()=>ee(V)),R("    acyclic",()=>e.run(V)),R("    nestingGraph.run",()=>s.run(V)),R("    rank",()=>n(d.asNonCompoundGraph(V))),R("    injectEdgeLabelProxies",()=>D(V)),R("    removeEmptyRanks",()=>r(V)),R("    nestingGraph.cleanup",()=>s.cleanup(V)),R("    normalizeRanks",()=>o(V)),R("    assignRankMinMax",()=>I(V)),R("    removeEdgeLabelProxies",()=>E(V)),R("    normalize.run",()=>t.run(V)),R("    parentDummyChains",()=>i(V)),R("    addBorderSegments",()=>l(V)),R("    order",()=>c(V,Y)),R("    insertSelfEdges",()=>re(V)),R("    adjustCoordinateSystem",()=>a.adjust(V)),R("    position",()=>u(V)),R("    positionSelfEdges",()=>se(V)),R("    removeBorderNodes",()=>Q(V)),R("    normalize.undo",()=>t.undo(V)),R("    fixupEdgeLabelCoords",()=>q(V)),R("    undoCoordinateSystem",()=>a.undo(V)),R("    translateGraph",()=>K(V)),R("    assignNodeIntersects",()=>T(V)),R("    reversePoints",()=>P(V)),R("    acyclic.undo",()=>e.undo(V))}function p(V,R){V.nodes().forEach(Y=>{let X=V.node(Y),le=R.node(Y);X&&(X.x=le.x,X.y=le.y,X.rank=le.rank,R.children(Y).length&&(X.width=le.width,X.height=le.height))}),V.edges().forEach(Y=>{let X=V.edge(Y),le=R.edge(Y);X.points=le.points,Object.hasOwn(le,"x")&&(X.x=le.x,X.y=le.y)}),V.graph().width=R.graph().width,V.graph().height=R.graph().height}let m=["nodesep","edgesep","ranksep","marginx","marginy"],w={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},_=["acyclicer","ranker","rankdir","align"],x=["width","height","rank"],S={width:0,height:0},$=["minlen","weight","width","height","labeloffset"],F={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},W=["labelpos"];function A(V){let R=new f({multigraph:!0,compound:!0}),Y=he(V.graph());return R.setGraph(Object.assign({},w,ue(Y,m),d.pick(Y,_))),V.nodes().forEach(X=>{let le=he(V.node(X));const ae=ue(le,x);Object.keys(S).forEach(ge=>{ae[ge]===void 0&&(ae[ge]=S[ge])}),R.setNode(X,ae),R.setParent(X,V.parent(X))}),V.edges().forEach(X=>{let le=he(V.edge(X));R.setEdge(X,Object.assign({},F,ue(le,$),d.pick(le,W)))}),R}function O(V){let R=V.graph();R.ranksep/=2,V.edges().forEach(Y=>{let X=V.edge(Y);X.minlen*=2,X.labelpos.toLowerCase()!=="c"&&(R.rankdir==="TB"||R.rankdir==="BT"?X.width+=X.labeloffset:X.height+=X.labeloffset)})}function D(V){V.edges().forEach(R=>{let Y=V.edge(R);if(Y.width&&Y.height){let X=V.node(R.v),ae={rank:(V.node(R.w).rank-X.rank)/2+X.rank,e:R};d.addDummyNode(V,"edge-proxy",ae,"_ep")}})}function I(V){let R=0;V.nodes().forEach(Y=>{let X=V.node(Y);X.borderTop&&(X.minRank=V.node(X.borderTop).rank,X.maxRank=V.node(X.borderBottom).rank,R=Math.max(R,X.maxRank))}),V.graph().maxRank=R}function E(V){V.nodes().forEach(R=>{let Y=V.node(R);Y.dummy==="edge-proxy"&&(V.edge(Y.e).labelRank=Y.rank,V.removeNode(R))})}function K(V){let R=Number.POSITIVE_INFINITY,Y=0,X=Number.POSITIVE_INFINITY,le=0,ae=V.graph(),ge=ae.marginx||0,xe=ae.marginy||0;function _e(C){let N=C.x,y=C.y,b=C.width,v=C.height;R=Math.min(R,N-b/2),Y=Math.max(Y,N+b/2),X=Math.min(X,y-v/2),le=Math.max(le,y+v/2)}V.nodes().forEach(C=>_e(V.node(C))),V.edges().forEach(C=>{let N=V.edge(C);Object.hasOwn(N,"x")&&_e(N)}),R-=ge,X-=xe,V.nodes().forEach(C=>{let N=V.node(C);N.x-=R,N.y-=X}),V.edges().forEach(C=>{let N=V.edge(C);N.points.forEach(y=>{y.x-=R,y.y-=X}),Object.hasOwn(N,"x")&&(N.x-=R),Object.hasOwn(N,"y")&&(N.y-=X)}),ae.width=Y-R+ge,ae.height=le-X+xe}function T(V){V.edges().forEach(R=>{let Y=V.edge(R),X=V.node(R.v),le=V.node(R.w),ae,ge;Y.points?(ae=Y.points[0],ge=Y.points[Y.points.length-1]):(Y.points=[],ae=le,ge=X),Y.points.unshift(d.intersectRect(X,ae)),Y.points.push(d.intersectRect(le,ge))})}function q(V){V.edges().forEach(R=>{let Y=V.edge(R);if(Object.hasOwn(Y,"x"))switch((Y.labelpos==="l"||Y.labelpos==="r")&&(Y.width-=Y.labeloffset),Y.labelpos){case"l":Y.x-=Y.width/2+Y.labeloffset;break;case"r":Y.x+=Y.width/2+Y.labeloffset;break}})}function P(V){V.edges().forEach(R=>{let Y=V.edge(R);Y.reversed&&Y.points.reverse()})}function Q(V){V.nodes().forEach(R=>{if(V.children(R).length){let Y=V.node(R),X=V.node(Y.borderTop),le=V.node(Y.borderBottom),ae=V.node(Y.borderLeft[Y.borderLeft.length-1]),ge=V.node(Y.borderRight[Y.borderRight.length-1]);Y.width=Math.abs(ge.x-ae.x),Y.height=Math.abs(le.y-X.y),Y.x=ae.x+Y.width/2,Y.y=X.y+Y.height/2}}),V.nodes().forEach(R=>{V.node(R).dummy==="border"&&V.removeNode(R)})}function ee(V){V.edges().forEach(R=>{if(R.v===R.w){var Y=V.node(R.v);Y.selfEdges||(Y.selfEdges=[]),Y.selfEdges.push({e:R,label:V.edge(R)}),V.removeEdge(R)}})}function re(V){var R=d.buildLayerMatrix(V);R.forEach(Y=>{var X=0;Y.forEach((le,ae)=>{var ge=V.node(le);ge.order=ae+X,(ge.selfEdges||[]).forEach(xe=>{d.addDummyNode(V,"selfedge",{width:xe.label.width,height:xe.label.height,rank:ge.rank,order:ae+ ++X,e:xe.e,label:xe.label},"_se")}),delete ge.selfEdges})})}function se(V){V.nodes().forEach(R=>{var Y=V.node(R);if(Y.dummy==="selfedge"){var X=V.node(Y.e.v),le=X.x+X.width/2,ae=X.y,ge=Y.x-le,xe=X.height/2;V.setEdge(Y.e,Y.label),V.removeNode(R),Y.label.points=[{x:le+2*ge/3,y:ae-xe},{x:le+5*ge/6,y:ae-xe},{x:le+ge,y:ae},{x:le+5*ge/6,y:ae+xe},{x:le+2*ge/3,y:ae+xe}],Y.label.x=Y.x,Y.label.y=Y.y}})}function ue(V,R){return d.mapValues(d.pick(V,R),Number)}function he(V){var R={};return V&&Object.entries(V).forEach(([Y,X])=>{typeof Y=="string"&&(Y=Y.toLowerCase()),R[Y]=X}),R}return pl}var gl,hd;function Kx(){if(hd)return gl;hd=1;let e=Xe(),t=Rt().Graph;gl={debugOrdering:n};function n(o){let i=e.buildLayerMatrix(o),r=new t({compound:!0,multigraph:!0}).setGraph({});return o.nodes().forEach(s=>{r.setNode(s,{label:s}),r.setParent(s,"layer"+o.node(s).rank)}),o.edges().forEach(s=>r.setEdge(s.v,s.w,{},s.name)),i.forEach((s,l)=>{let a="layer"+l;r.setNode(a,{rank:"same"}),s.reduce((c,u)=>(r.setEdge(c,u,{style:"invis"}),u))}),r}return gl}var ml,pd;function Xx(){return pd||(pd=1,ml="1.1.5"),ml}var vl,gd;function Zx(){return gd||(gd=1,vl={graphlib:Rt(),layout:Wx(),debug:Kx(),util:{time:Xe().time,notime:Xe().notime},version:Xx()}),vl}var Qx=Zx();const yl=px(Qx);function mp(){const e=be(new yl.graphlib.Graph),t=be("LR");function n(o,i,r){const s=new yl.graphlib.Graph;e.value=s,s.setDefaultEdgeLabel(()=>({}));const l=r==="LR";s.setGraph({rankdir:r}),t.value=r;const a=50;for(const c of o)s.setNode(c.id,{width:c.dimensions.width+a||150,height:c.dimensions.height+a||50});for(const c of i)s.setEdge(c.source,c.target);return yl.layout(s),o.map(c=>{const u=s.node(c.id);return{...c,targetPosition:l?fe.Left:fe.Top,sourcePosition:l?fe.Right:fe.Bottom,position:{x:u.x,y:u.y}}})}return{graph:e,layout:n,previousDirection:t}}const ie=bt({state:{id1:fn.flow},methods:{findNode:(e,t)=>ie.state[t].nodes.find(n=>n.id==e),addNode:(e,t)=>{const n={dialogueId:t,object:"node",type:"add",do:()=>{ie.state[t].nodes.push(e)},undo:()=>{ie.state[t].nodes=ie.state[t].nodes.filter(o=>o.id!=e.id),un.state.nodeCounter--}};j.commandQueue.push(n)},moveNodes:(e,t,n)=>{const o={dialogueId:n,object:"node",type:"move",do:()=>{t.forEach((i,r)=>{const s=ie.methods.findNode(i.id,n);try{s.position=i.position}catch{console.error("Failed to move node during redo")}})},undo:()=>{e.forEach((i,r)=>{const s=ie.methods.findNode(i.id,n);try{s.position=i.position}catch{console.error("Failed to move node during undo")}})}};j.commandQueue.push(o)},removeNode:(e,t)=>{const n=kt(ie.methods.findNode(e,t)),o={dialogueId:t,object:"node",type:"delete",do:()=>{ie.state[t].nodes=ie.state[t].nodes.filter(r=>r.id!=e)},undo:()=>{ie.state[t].nodes.push(n)}};j.commandQueue.push(o);const i=ie.state[t].edges.filter(r=>r.target==e||r.source==e);ie.methods.removeEdge(i,j.selectedDialogue)},rearrangeNodes:e=>{const t=ie.state[e].nodes.map(o=>o.position),n={dialogueId:e,type:"move",object:"node",do:()=>{const{layout:o}=mp();ie.state[e].nodes=o(ie.state[e].nodes,ie.state[e].edges,"LR")},undo:()=>{ie.state[e].nodes.forEach((o,i)=>{o.position=t[i]})}};j.commandQueue.push(n)},addEdge:(e,t)=>{Array.isArray(e)||(e=[e]);const n={dialogueId:t,type:"add",object:"edge",do:()=>{ie.state[t].edges.push(...e)},undo:()=>{ie.state[t].edges=ie.state[t].edges.filter(o=>!e.map(i=>i.id).includes(o.id))}};j.commandQueue.push(n)},removeEdge:(e,t)=>{Array.isArray(e)||(e=[e]);const n=kt(e),o={dialogueId:t,object:"edge",type:"delete",do:()=>{ie.state[t].edges=ie.state[t].edges.filter(i=>!e.map(r=>r.id).includes(i.id))},undo:()=>{ie.state[t].edges.push(...n)}};j.commandQueue.push(o)},updateEdge:(e,t,n)=>{const o=ie.state[n].edges.find(s=>s.id==e),i=kt(o),r={dialogueId:n,type:"update",object:"edge",do:()=>{Object.assign(o,t)},undo:()=>{Object.keys(o).forEach(s=>delete o[s]),Object.assign(o,i)}};j.commandQueue.push(r)},addOption:(e,t,n)=>{const o=ie.methods.findNode(e,n);o.data.outputs||(o.data.outputs=[]);let i;o.type==tt.DIALOGUE.type&&(i=U.methods.newTranslation());const r=o.data.outputs.findIndex(l=>l.id==t),s={dialogueId:n,type:"add",object:"output",do:()=>{const l={id:La(o),if:null};i&&(l.textString=i.key),o.data.outputs.splice(r+1,0,l)},undo:()=>{o.data.outputs.splice(r,1)}};j.commandQueue.push(s)},removeOption:(e,t,n)=>{const o=ie.methods.findNode(e,n),i=o.data.outputs.findIndex(a=>a.id==t),r=kt(o.data.outputs[i]),s={dialogueId:n,type:"delete",object:"output",do:()=>{o.data.outputs.splice(i,1)},undo:()=>{o.data.outputs.splice(i,0,r)}};j.commandQueue.push(s);const l=ie.state[n].edges.filter(a=>a.source==e&&a.sourceHandle==t);ie.methods.removeEdge(l,j.selectedDialogue)},moveOption:(e,t,n,o)=>{const i=ie.methods.findNode(e,o),r=i.data.outputs.findIndex(a=>a.id==t),s=r+n,l={dialogueId:o,type:"move",object:"output",do:()=>{if(n==-1&&r>0||n==1&&r<i.data.outputs.length-1){const[a]=i.data.outputs.splice(r,1);i.data.outputs.splice(s,0,a)}},undo:()=>{const[a]=i.data.outputs.splice(s,1);i.data.outputs.splice(r,0,a)}};j.commandQueue.push(l)}}});let Li;const Jx=()=>{Li||(Li=Object.keys(U.state.labels).length);let e="";do e=`string_${String(Li).padStart(4,"0")}`,Li++;while(Object.values(U.state.labels).includes(e));return e};function _l(e,t,n=void 0){if(!e||typeof e!="object"||!t||typeof t!="string")return n;try{return t.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".").reduce((o,i)=>{if(o==null)return n;if(Array.isArray(o)&&/^\d+$/.test(i)){const r=parseInt(i,10);return r>=0&&r<o.length?o[r]:n}return o[i]!==void 0?o[i]:n},e)}catch{return n}}function kt(e){return JSON.parse(JSON.stringify(Ae(e)))}function Ri(e,t,n){const o=Object.keys(e),i=o.indexOf(t);n===-1&&i>0?[o[i-1],o[i]]=[o[i],o[i-1]]:n===1&&i<o.length-1&&([o[i],o[i+1]]=[o[i+1],o[i]]);const r={};return o.forEach(s=>{r[s]=e[s]}),r}const U=bt({state:fn.translations,methods:{addLabel:e=>{let t;Object.values(U.state.labels).includes(e)?t=Object.keys(U.state.labels).filter(o=>U.state.labels[o]==e)[0]:t=Ql();const n={type:"add",object:"label",do:()=>{U.state.labels[t]=e},undo:()=>{delete U.state.labels[t]}};return j.commandQueue.push(n),t},removeLabel:e=>{const t=U.state.labels[e],n={type:"remove",object:"label",do:()=>{delete U.state.labels[e]},undo:()=>{U.state.labels[e]=t}};j.commandQueue.push(n)},moveLabel:(e,t)=>{const n={type:"move",object:"label",do:()=>{U.state.labels=Ri(U.state.labels,e,t)},undo:()=>{U.state.labels=Ri(U.state.labels,e,-t)}};j.commandQueue.push(n)},newTranslation:()=>{const e=Ql(),t=Jx(),n={type:"new",object:"string",do:()=>{const o={};U.state.languages.forEach(i=>{o[i]=""}),U.state.labels[e]=t,U.state.strings[e]=o},undo:()=>{delete U.state.labels[e],delete U.state.strings[e]}};return j.commandQueue.push(n),{key:e,label:t}},addTranslation:(e,t)=>{const n=U.methods.addLabel(e),o={type:"add",object:"string",do:()=>{t||(t={},U.state.languages.forEach(i=>{t[i]=""})),U.state.strings[n]=t},undo:()=>{delete U.state.strings[n]}};return j.commandQueue.push(o),{key:n,label:e}},removeTranslation:e=>{const t=U.state.strings[e],n={type:"delete",object:"string",do:()=>{delete U.state.strings[e]},undo:()=>{U.state.strings[e]=t}};j.commandQueue.push(n),U.methods.removeLabel(e)},moveTranslation:(e,t)=>{const n={type:"move",object:"string",do:()=>{U.state.translations=Ri(U.state.strings,e,t)},undo:()=>{U.state.translations=Ri(U.state.strings,e,-t)}};j.commandQueue.push(n),U.methods.moveLabel(e,t)},addLanguage:e=>{if(!e||U.state.languages.includes(e))return;const t={type:"add",object:"language",do:()=>{U.state.languages.push(e),Object.keys(U.state.strings).forEach(n=>{U.state.strings[n][e]||(U.state.strings[n][e]="")})},undo:()=>{U.state.languages=U.state.languages.filter(n=>n!=e),Object.keys(U.state.strings).forEach(n=>{delete U.state.strings[n][e]})}};j.commandQueue.push(t)},removeLanguage:e=>{if(!e||!U.state.languages.includes(e))return;const t=Object.values(U.state.strings).map(o=>o[e]),n={type:"delete",object:"language",do:()=>{U.state.languages=U.state.languages.filter(o=>o!=e),Object.keys(U.state.strings).forEach(o=>{delete U.state.strings[o][e]})},undo:()=>{U.state.languages.push(e),Object.keys(U.state.strings).forEach((o,i)=>{U.state.strings[o][e]||(U.state.strings[o][e]=t[i])})}};j.commandQueue.push(n)},renameLanguage:(e,t)=>{const n={type:"rename",object:"language",do:()=>{U.state.languages=U.state.languages.map(o=>(console.log(o==e),o==e?t:o)),Object.keys(U.state.strings).forEach(o=>{U.state.strings[o][t]=U.state.strings[o][e],delete U.state.strings[o][e]})},undo:()=>{U.state.languages=U.state.languages.map(o=>(console.log(o==t),o==t?e:o)),Object.keys(U.state.strings).forEach(o=>{U.state.strings[o][e]=U.state.strings[o][t],delete U.state.strings[o][t]})}};j.commandQueue.push(n)}}}),ht=bt({state:{leftPanelWidth:300,rightPanelWidth:300,theme:"dark"}}),He=bt({state:{past:[],future:[]},methods:{executeCommand:e=>{e.forEach(t=>{t.do()}),He.state.past.push(e),He.state.future=[]},undo:()=>{const e=He.state.past.pop();e&&(e.forEach(t=>{t.dialogueId&&(ie.state[t.dialogueId]?j.selectedDialogue=t.dialogueId:j.selectedDialogue=$e.state.dialogues[0]?.id),t.undo()}),He.state.future.push(e))},redo:()=>{const e=He.state.future.pop();e&&(e.forEach(t=>{t.dialogueId&&(ie.state[t.dialogueId]?j.selectedDialogue=t.dialogueId:j.selectedDialogue=$e.state.dialogues[0]?.id),t.do()}),He.state.past.push(e))},reset:()=>{He.state.past=[],He.state.future=[]}}}),$e=bt({state:fn.dialogues,methods:{newDialogue:()=>{const e={id:bc(),name:md()},t={counters:kt(un.state)},n={dialogueId:e.id,type:"new",object:"dialogue",do:()=>{$e.state.dialogues.push(e),ie.state[e.id]={nodes:[],edges:[],nodesOutputsCollapsed:[],nodesTextCollapsed:[],defaultViewport:{x:0,y:0,zoom:1}},ie.state[e.id].nodes.push(vp(tt.START.type,null,"Start"))},undo:()=>{$e.state.dialogues=$e.state.dialogues.filter(o=>o.id!=e.id),delete ie.state[e.id],Object.assign(un.state,t.counters)}};return j.commandQueue.push(n),e},removeDialogue:e=>{const t=kt($e.state.dialogues.find(i=>i.id==e)),n=kt(ie.state[e]),o={dialogueId:e,type:"delete",object:"dialogue",do:()=>{$e.state.dialogues=$e.state.dialogues.filter(i=>i.id!=e),delete ie.state[e]},undo:()=>{ie.state[e]=n,$e.state.dialogues.push(t)}};j.commandQueue.push(o)},importDialogue:e=>{const t={id:bc(),name:md()},n={labels:kt(U.state.labels),counters:kt(un.state)},o={dialogueId:t.id,type:"import",object:"dialogue",do:()=>{$e.state.dialogues.push(t);const{nodes:i,edges:r,nodesOutputsCollapsed:s,nodesTextCollapsed:l}=xC(e);ie.state[t.id]={nodes:i,edges:r,nodesOutputsCollapsed:s,nodesTextCollapsed:l,defaultViewport:fn.flow.defaultViewport};const{layout:a}=mp(),{fitView:c}=Jr.value;setTimeout(()=>{ie.state[j.selectedDialogue].nodes=a(ie.state[j.selectedDialogue].nodes,ie.state[j.selectedDialogue].edges,"LR"),setTimeout(()=>c(),1)},1)},undo:()=>{$e.state.dialogues=$e.state.dialogues.filter(i=>i.id!=t.id),delete ie.state[t.id],Object.keys(U.state.labels).forEach(i=>delete U.state.labels[i]),Object.assign(U.state.labels,n.labels),Object.assign(un.state,n.counters)}};return j.commandQueue.push(o),t}}}),un=bt({state:{nodeCounter:3,edgeCounter:2},methods:{nodeCounter:()=>un.state.nodeCounter++,edgeCounter:()=>un.state.nodeCounter++}}),Jr=be(null),j=bt({loaded:!1,projectHandle:null,activeTabLeft:"Dialogues",activeTabRight:"Nodes",selectedDialogue:"id1",selectedNode:null,showMenu:!1,menuPosition:null,endPosition:null,pendingConnection:null,commandQueue:[],toasts:[]}),eE=()=>{j.projectHandle=null,j.selectedDialogue="id1",$e.state=kt(fn.dialogues),ie.state={id1:kt(fn.flow)},U.state=kt(fn.translations),He.methods.reset()};let Fi;const md=()=>{Fi||(Fi=$e.state.dialogues.length);let e=0;const t=$e.state.dialogues.map(n=>n.name);do e="Dialogue "+Fi.toString(10),Fi++;while(t.includes(e));return e},tE=e=>{let t=1,n="";const o=ie.state[j.selectedDialogue].nodes.map(i=>i.data.label);do{const i=Object.keys(ie.state[j.selectedDialogue].nodes.filter(r=>r.type==e)).length;n=`${e} ${i+t}`,n=n[0].toUpperCase()+n.slice(1),t++}while(o.includes(n));return n};function vp(e,t,n=null){if(!Object.values(tt).map(s=>s.type).includes(e))throw new Error(`${e} is not a valid node type`);const i=n??tE(e);t||(t={x:100,y:100},ie.state[j.selectedDialogue].nodes.forEach(s=>{s.position.x==t.x&&s.position.y==t.y&&(t.x+=20,t.y+=20)}));let r={id:up(),type:e,position:{x:t.x,y:t.y},data:{label:i,outputs:[]}};if((e==tt.SCRIPT.type||e==tt.START.type)&&r.data.outputs.push({id:"out",order:0}),(e==tt.DIALOGUE.type||e==tt.BRANCH.type)&&(r.data.outputs.push({id:La(r),order:0}),e==tt.DIALOGUE.type)){const s=U.methods.newTranslation(),l=U.methods.newTranslation();r.data.textString=s.key,r.data.outputs[0].textString=l.key}return r}const Jl="0.1.1",yp="datflow";function _p(e=!1){const t={data:{dialogues:$e.state,flow:ie.state,translations:U.state},version:Jl};return e&&(t.data.options=ht.state),JSON.stringify(t)}function wp(e,t){if(e){const n=JSON.parse(e);n.version!==Jl&&console.warn(`Project created with version ${n.version}. It is different from app version ${Jl}.`);const{data:o}=n;ie.state=o.flow,U.state=o.translations,$e.state=o.dialogues,t&&o.options&&(ht.state=o.options),console.log("Loaded"),j.loaded=!0}else j.loaded=!0}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function bp(e){return typeof e>"u"||e===null}function nE(e){return typeof e=="object"&&e!==null}function oE(e){return Array.isArray(e)?e:bp(e)?[]:[e]}function iE(e,t){var n,o,i,r;if(t)for(r=Object.keys(t),n=0,o=r.length;n<o;n+=1)i=r[n],e[i]=t[i];return e}function rE(e,t){var n="",o;for(o=0;o<t;o+=1)n+=e;return n}function sE(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var lE=bp,aE=nE,uE=oE,cE=rE,dE=sE,fE=iE,Ze={isNothing:lE,isObject:aE,toArray:uE,repeat:cE,isNegativeZero:dE,extend:fE};function xp(e,t){var n="",o=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),o+" "+n):o}function ci(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=xp(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ci.prototype=Object.create(Error.prototype);ci.prototype.constructor=ci;ci.prototype.toString=function(t){return this.name+": "+xp(this,t)};var pt=ci;function wl(e,t,n,o,i){var r="",s="",l=Math.floor(i/2)-1;return o-t>l&&(r=" ... ",t=o-l+r.length),n-o>l&&(s=" ...",n=o+l-s.length),{str:r+e.slice(t,n).replace(/\t/g,"")+s,pos:o-t+r.length}}function bl(e,t){return Ze.repeat(" ",t-e.length)+e}function hE(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,o=[0],i=[],r,s=-1;r=n.exec(e.buffer);)i.push(r.index),o.push(r.index+r[0].length),e.position<=r.index&&s<0&&(s=o.length-2);s<0&&(s=o.length-1);var l="",a,c,u=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(s-a<0);a++)c=wl(e.buffer,o[s-a],i[s-a],e.position-(o[s]-o[s-a]),d),l=Ze.repeat(" ",t.indent)+bl((e.line-a+1).toString(),u)+" | "+c.str+`
`+l;for(c=wl(e.buffer,o[s],i[s],e.position,d),l+=Ze.repeat(" ",t.indent)+bl((e.line+1).toString(),u)+" | "+c.str+`
`,l+=Ze.repeat("-",t.indent+u+3+c.pos)+`^
`,a=1;a<=t.linesAfter&&!(s+a>=i.length);a++)c=wl(e.buffer,o[s+a],i[s+a],e.position-(o[s]-o[s+a]),d),l+=Ze.repeat(" ",t.indent)+bl((e.line+a+1).toString(),u)+" | "+c.str+`
`;return l.replace(/\n$/,"")}var pE=hE,gE=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],mE=["scalar","sequence","mapping"];function vE(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(o){t[String(o)]=n})}),t}function yE(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(gE.indexOf(n)===-1)throw new pt('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=vE(t.styleAliases||null),mE.indexOf(this.kind)===-1)throw new pt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var it=yE;function vd(e,t){var n=[];return e[t].forEach(function(o){var i=n.length;n.forEach(function(r,s){r.tag===o.tag&&r.kind===o.kind&&r.multi===o.multi&&(i=s)}),n[i]=o}),n}function _E(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function o(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(o);return e}function ea(e){return this.extend(e)}ea.prototype.extend=function(t){var n=[],o=[];if(t instanceof it)o.push(t);else if(Array.isArray(t))o=o.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(o=o.concat(t.explicit));else throw new pt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(r){if(!(r instanceof it))throw new pt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new pt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new pt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(r){if(!(r instanceof it))throw new pt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(ea.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(o),i.compiledImplicit=vd(i,"implicit"),i.compiledExplicit=vd(i,"explicit"),i.compiledTypeMap=_E(i.compiledImplicit,i.compiledExplicit),i};var Ep=ea,Sp=new it("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Cp=new it("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Np=new it("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),kp=new Ep({explicit:[Sp,Cp,Np]});function wE(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function bE(){return null}function xE(e){return e===null}var Tp=new it("tag:yaml.org,2002:null",{kind:"scalar",resolve:wE,construct:bE,predicate:xE,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function EE(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function SE(e){return e==="true"||e==="True"||e==="TRUE"}function CE(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ap=new it("tag:yaml.org,2002:bool",{kind:"scalar",resolve:EE,construct:SE,predicate:CE,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function NE(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function kE(e){return 48<=e&&e<=55}function TE(e){return 48<=e&&e<=57}function AE(e){if(e===null)return!1;var t=e.length,n=0,o=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;o=!0}return o&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!NE(e.charCodeAt(n)))return!1;o=!0}return o&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!kE(e.charCodeAt(n)))return!1;o=!0}return o&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!TE(e.charCodeAt(n)))return!1;o=!0}return!(!o||i==="_")}function OE(e){var t=e,n=1,o;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),o=t[0],(o==="-"||o==="+")&&(o==="-"&&(n=-1),t=t.slice(1),o=t[0]),t==="0")return 0;if(o==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function IE(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Ze.isNegativeZero(e)}var Op=new it("tag:yaml.org,2002:int",{kind:"scalar",resolve:AE,construct:OE,predicate:IE,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ME=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function DE(e){return!(e===null||!ME.test(e)||e[e.length-1]==="_")}function $E(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var PE=/^[-+]?[0-9]+e/;function LE(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ze.isNegativeZero(e))return"-0.0";return n=e.toString(10),PE.test(n)?n.replace("e",".e"):n}function RE(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Ze.isNegativeZero(e))}var Ip=new it("tag:yaml.org,2002:float",{kind:"scalar",resolve:DE,construct:$E,predicate:RE,represent:LE,defaultStyle:"lowercase"}),Mp=kp.extend({implicit:[Tp,Ap,Op,Ip]}),Dp=Mp,$p=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Pp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function FE(e){return e===null?!1:$p.exec(e)!==null||Pp.exec(e)!==null}function VE(e){var t,n,o,i,r,s,l,a=0,c=null,u,d,f;if(t=$p.exec(e),t===null&&(t=Pp.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],o=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,o,i));if(r=+t[4],s=+t[5],l=+t[6],t[7]){for(a=t[7].slice(0,3);a.length<3;)a+="0";a=+a}return t[9]&&(u=+t[10],d=+(t[11]||0),c=(u*60+d)*6e4,t[9]==="-"&&(c=-c)),f=new Date(Date.UTC(n,o,i,r,s,l,a)),c&&f.setTime(f.getTime()-c),f}function BE(e){return e.toISOString()}var Lp=new it("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:FE,construct:VE,instanceOf:Date,represent:BE});function HE(e){return e==="<<"||e===null}var Rp=new it("tag:yaml.org,2002:merge",{kind:"scalar",resolve:HE}),Fa=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function jE(e){if(e===null)return!1;var t,n,o=0,i=e.length,r=Fa;for(n=0;n<i;n++)if(t=r.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;o+=6}return o%8===0}function zE(e){var t,n,o=e.replace(/[\r\n=]/g,""),i=o.length,r=Fa,s=0,l=[];for(t=0;t<i;t++)t%4===0&&t&&(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)),s=s<<6|r.indexOf(o.charAt(t));return n=i%4*6,n===0?(l.push(s>>16&255),l.push(s>>8&255),l.push(s&255)):n===18?(l.push(s>>10&255),l.push(s>>2&255)):n===12&&l.push(s>>4&255),new Uint8Array(l)}function YE(e){var t="",n=0,o,i,r=e.length,s=Fa;for(o=0;o<r;o++)o%3===0&&o&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[o];return i=r%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function GE(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Fp=new it("tag:yaml.org,2002:binary",{kind:"scalar",resolve:jE,construct:zE,predicate:GE,represent:YE}),UE=Object.prototype.hasOwnProperty,qE=Object.prototype.toString;function WE(e){if(e===null)return!0;var t=[],n,o,i,r,s,l=e;for(n=0,o=l.length;n<o;n+=1){if(i=l[n],s=!1,qE.call(i)!=="[object Object]")return!1;for(r in i)if(UE.call(i,r))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(r)===-1)t.push(r);else return!1}return!0}function KE(e){return e!==null?e:[]}var Vp=new it("tag:yaml.org,2002:omap",{kind:"sequence",resolve:WE,construct:KE}),XE=Object.prototype.toString;function ZE(e){if(e===null)return!0;var t,n,o,i,r,s=e;for(r=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(o=s[t],XE.call(o)!=="[object Object]"||(i=Object.keys(o),i.length!==1))return!1;r[t]=[i[0],o[i[0]]]}return!0}function QE(e){if(e===null)return[];var t,n,o,i,r,s=e;for(r=new Array(s.length),t=0,n=s.length;t<n;t+=1)o=s[t],i=Object.keys(o),r[t]=[i[0],o[i[0]]];return r}var Bp=new it("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ZE,construct:QE}),JE=Object.prototype.hasOwnProperty;function eS(e){if(e===null)return!0;var t,n=e;for(t in n)if(JE.call(n,t)&&n[t]!==null)return!1;return!0}function tS(e){return e!==null?e:{}}var Hp=new it("tag:yaml.org,2002:set",{kind:"mapping",resolve:eS,construct:tS}),Va=Dp.extend({implicit:[Lp,Rp],explicit:[Fp,Vp,Bp,Hp]}),$n=Object.prototype.hasOwnProperty,_r=1,jp=2,zp=3,wr=4,xl=1,nS=2,yd=3,oS=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,iS=/[\x85\u2028\u2029]/,rS=/[,\[\]\{\}]/,Yp=/^(?:!|!!|![a-z\-]+!)$/i,Gp=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _d(e){return Object.prototype.toString.call(e)}function Zt(e){return e===10||e===13}function Wn(e){return e===9||e===32}function wt(e){return e===9||e===32||e===10||e===13}function lo(e){return e===44||e===91||e===93||e===123||e===125}function sS(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function lS(e){return e===120?2:e===117?4:e===85?8:0}function aS(e){return 48<=e&&e<=57?e-48:-1}function wd(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function uS(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Up=new Array(256),qp=new Array(256);for(var no=0;no<256;no++)Up[no]=wd(no)?1:0,qp[no]=wd(no);function cS(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||Va,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Wp(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=pE(n),new pt(t,n)}function ye(e,t){throw Wp(e,t)}function br(e,t){e.onWarning&&e.onWarning.call(null,Wp(e,t))}var bd={YAML:function(t,n,o){var i,r,s;t.version!==null&&ye(t,"duplication of %YAML directive"),o.length!==1&&ye(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(o[0]),i===null&&ye(t,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),s=parseInt(i[2],10),r!==1&&ye(t,"unacceptable YAML version of the document"),t.version=o[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&br(t,"unsupported YAML version of the document")},TAG:function(t,n,o){var i,r;o.length!==2&&ye(t,"TAG directive accepts exactly two arguments"),i=o[0],r=o[1],Yp.test(i)||ye(t,"ill-formed tag handle (first argument) of the TAG directive"),$n.call(t.tagMap,i)&&ye(t,'there is a previously declared suffix for "'+i+'" tag handle'),Gp.test(r)||ye(t,"ill-formed tag prefix (second argument) of the TAG directive");try{r=decodeURIComponent(r)}catch{ye(t,"tag prefix is malformed: "+r)}t.tagMap[i]=r}};function On(e,t,n,o){var i,r,s,l;if(t<n){if(l=e.input.slice(t,n),o)for(i=0,r=l.length;i<r;i+=1)s=l.charCodeAt(i),s===9||32<=s&&s<=1114111||ye(e,"expected valid JSON character");else oS.test(l)&&ye(e,"the stream contains non-printable characters");e.result+=l}}function xd(e,t,n,o){var i,r,s,l;for(Ze.isObject(n)||ye(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,l=i.length;s<l;s+=1)r=i[s],$n.call(t,r)||(t[r]=n[r],o[r]=!0)}function ao(e,t,n,o,i,r,s,l,a){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&ye(e,"nested arrays are not supported inside keys"),typeof i=="object"&&_d(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&_d(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),o==="tag:yaml.org,2002:merge")if(Array.isArray(r))for(c=0,u=r.length;c<u;c+=1)xd(e,t,r[c],n);else xd(e,t,r,n);else!e.json&&!$n.call(n,i)&&$n.call(t,i)&&(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=a||e.position,ye(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:r}):t[i]=r,delete n[i];return t}function Ba(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ye(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function qe(e,t,n){for(var o=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Wn(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Zt(i))for(Ba(e),i=e.input.charCodeAt(e.position),o++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&o!==0&&e.lineIndent<n&&br(e,"deficient indentation"),o}function es(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||wt(n)))}function Ha(e,t){t===1?e.result+=" ":t>1&&(e.result+=Ze.repeat(`
`,t-1))}function dS(e,t,n){var o,i,r,s,l,a,c,u,d=e.kind,f=e.result,h;if(h=e.input.charCodeAt(e.position),wt(h)||lo(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(i=e.input.charCodeAt(e.position+1),wt(i)||n&&lo(i)))return!1;for(e.kind="scalar",e.result="",r=s=e.position,l=!1;h!==0;){if(h===58){if(i=e.input.charCodeAt(e.position+1),wt(i)||n&&lo(i))break}else if(h===35){if(o=e.input.charCodeAt(e.position-1),wt(o))break}else{if(e.position===e.lineStart&&es(e)||n&&lo(h))break;if(Zt(h))if(a=e.line,c=e.lineStart,u=e.lineIndent,qe(e,!1,-1),e.lineIndent>=t){l=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=a,e.lineStart=c,e.lineIndent=u;break}}l&&(On(e,r,s,!1),Ha(e,e.line-a),r=s=e.position,l=!1),Wn(h)||(s=e.position+1),h=e.input.charCodeAt(++e.position)}return On(e,r,s,!1),e.result?!0:(e.kind=d,e.result=f,!1)}function fS(e,t){var n,o,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,o=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(On(e,o,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)o=e.position,e.position++,i=e.position;else return!0;else Zt(n)?(On(e,o,i,!0),Ha(e,qe(e,!1,t)),o=i=e.position):e.position===e.lineStart&&es(e)?ye(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ye(e,"unexpected end of the stream within a single quoted scalar")}function hS(e,t){var n,o,i,r,s,l;if(l=e.input.charCodeAt(e.position),l!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=o=e.position;(l=e.input.charCodeAt(e.position))!==0;){if(l===34)return On(e,n,e.position,!0),e.position++,!0;if(l===92){if(On(e,n,e.position,!0),l=e.input.charCodeAt(++e.position),Zt(l))qe(e,!1,t);else if(l<256&&Up[l])e.result+=qp[l],e.position++;else if((s=lS(l))>0){for(i=s,r=0;i>0;i--)l=e.input.charCodeAt(++e.position),(s=sS(l))>=0?r=(r<<4)+s:ye(e,"expected hexadecimal character");e.result+=uS(r),e.position++}else ye(e,"unknown escape sequence");n=o=e.position}else Zt(l)?(On(e,n,o,!0),Ha(e,qe(e,!1,t)),n=o=e.position):e.position===e.lineStart&&es(e)?ye(e,"unexpected end of the document within a double quoted scalar"):(e.position++,o=e.position)}ye(e,"unexpected end of the stream within a double quoted scalar")}function pS(e,t){var n=!0,o,i,r,s=e.tag,l,a=e.anchor,c,u,d,f,h,g=Object.create(null),p,m,w,_;if(_=e.input.charCodeAt(e.position),_===91)u=93,h=!1,l=[];else if(_===123)u=125,h=!0,l={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),_=e.input.charCodeAt(++e.position);_!==0;){if(qe(e,!0,t),_=e.input.charCodeAt(e.position),_===u)return e.position++,e.tag=s,e.anchor=a,e.kind=h?"mapping":"sequence",e.result=l,!0;n?_===44&&ye(e,"expected the node content, but found ','"):ye(e,"missed comma between flow collection entries"),m=p=w=null,d=f=!1,_===63&&(c=e.input.charCodeAt(e.position+1),wt(c)&&(d=f=!0,e.position++,qe(e,!0,t))),o=e.line,i=e.lineStart,r=e.position,ko(e,t,_r,!1,!0),m=e.tag,p=e.result,qe(e,!0,t),_=e.input.charCodeAt(e.position),(f||e.line===o)&&_===58&&(d=!0,_=e.input.charCodeAt(++e.position),qe(e,!0,t),ko(e,t,_r,!1,!0),w=e.result),h?ao(e,l,g,m,p,w,o,i,r):d?l.push(ao(e,null,g,m,p,w,o,i,r)):l.push(p),qe(e,!0,t),_=e.input.charCodeAt(e.position),_===44?(n=!0,_=e.input.charCodeAt(++e.position)):n=!1}ye(e,"unexpected end of the stream within a flow collection")}function gS(e,t){var n,o,i=xl,r=!1,s=!1,l=t,a=0,c=!1,u,d;if(d=e.input.charCodeAt(e.position),d===124)o=!1;else if(d===62)o=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)xl===i?i=d===43?yd:nS:ye(e,"repeat of a chomping mode identifier");else if((u=aS(d))>=0)u===0?ye(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?ye(e,"repeat of an indentation width identifier"):(l=t+u-1,s=!0);else break;if(Wn(d)){do d=e.input.charCodeAt(++e.position);while(Wn(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!Zt(d)&&d!==0)}for(;d!==0;){for(Ba(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<l)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>l&&(l=e.lineIndent),Zt(d)){a++;continue}if(e.lineIndent<l){i===yd?e.result+=Ze.repeat(`
`,r?1+a:a):i===xl&&r&&(e.result+=`
`);break}for(o?Wn(d)?(c=!0,e.result+=Ze.repeat(`
`,r?1+a:a)):c?(c=!1,e.result+=Ze.repeat(`
`,a+1)):a===0?r&&(e.result+=" "):e.result+=Ze.repeat(`
`,a):e.result+=Ze.repeat(`
`,r?1+a:a),r=!0,s=!0,a=0,n=e.position;!Zt(d)&&d!==0;)d=e.input.charCodeAt(++e.position);On(e,n,e.position,!1)}return!0}function Ed(e,t){var n,o=e.tag,i=e.anchor,r=[],s,l=!1,a;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=r),a=e.input.charCodeAt(e.position);a!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ye(e,"tab characters must not be used in indentation")),!(a!==45||(s=e.input.charCodeAt(e.position+1),!wt(s))));){if(l=!0,e.position++,qe(e,!0,-1)&&e.lineIndent<=t){r.push(null),a=e.input.charCodeAt(e.position);continue}if(n=e.line,ko(e,t,zp,!1,!0),r.push(e.result),qe(e,!0,-1),a=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&a!==0)ye(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return l?(e.tag=o,e.anchor=i,e.kind="sequence",e.result=r,!0):!1}function mS(e,t,n){var o,i,r,s,l,a,c=e.tag,u=e.anchor,d={},f=Object.create(null),h=null,g=null,p=null,m=!1,w=!1,_;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),_=e.input.charCodeAt(e.position);_!==0;){if(!m&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ye(e,"tab characters must not be used in indentation")),o=e.input.charCodeAt(e.position+1),r=e.line,(_===63||_===58)&&wt(o))_===63?(m&&(ao(e,d,f,h,g,null,s,l,a),h=g=p=null),w=!0,m=!0,i=!0):m?(m=!1,i=!0):ye(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,_=o;else{if(s=e.line,l=e.lineStart,a=e.position,!ko(e,n,jp,!1,!0))break;if(e.line===r){for(_=e.input.charCodeAt(e.position);Wn(_);)_=e.input.charCodeAt(++e.position);if(_===58)_=e.input.charCodeAt(++e.position),wt(_)||ye(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(ao(e,d,f,h,g,null,s,l,a),h=g=p=null),w=!0,m=!1,i=!1,h=e.tag,g=e.result;else if(w)ye(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=u,!0}else if(w)ye(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=u,!0}if((e.line===r||e.lineIndent>t)&&(m&&(s=e.line,l=e.lineStart,a=e.position),ko(e,t,wr,!0,i)&&(m?g=e.result:p=e.result),m||(ao(e,d,f,h,g,p,s,l,a),h=g=p=null),qe(e,!0,-1),_=e.input.charCodeAt(e.position)),(e.line===r||e.lineIndent>t)&&_!==0)ye(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&ao(e,d,f,h,g,null,s,l,a),w&&(e.tag=c,e.anchor=u,e.kind="mapping",e.result=d),w}function vS(e){var t,n=!1,o=!1,i,r,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&ye(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(o=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(r=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):ye(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!wt(s);)s===33&&(o?ye(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Yp.test(i)||ye(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),rS.test(r)&&ye(e,"tag suffix cannot contain flow indicator characters")}r&&!Gp.test(r)&&ye(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch{ye(e,"tag name is malformed: "+r)}return n?e.tag=r:$n.call(e.tagMap,i)?e.tag=e.tagMap[i]+r:i==="!"?e.tag="!"+r:i==="!!"?e.tag="tag:yaml.org,2002:"+r:ye(e,'undeclared tag handle "'+i+'"'),!0}function yS(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&ye(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!wt(n)&&!lo(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ye(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function _S(e){var t,n,o;if(o=e.input.charCodeAt(e.position),o!==42)return!1;for(o=e.input.charCodeAt(++e.position),t=e.position;o!==0&&!wt(o)&&!lo(o);)o=e.input.charCodeAt(++e.position);return e.position===t&&ye(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),$n.call(e.anchorMap,n)||ye(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],qe(e,!0,-1),!0}function ko(e,t,n,o,i){var r,s,l,a=1,c=!1,u=!1,d,f,h,g,p,m;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,r=s=l=wr===n||zp===n,o&&qe(e,!0,-1)&&(c=!0,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)),a===1)for(;vS(e)||yS(e);)qe(e,!0,-1)?(c=!0,l=r,e.lineIndent>t?a=1:e.lineIndent===t?a=0:e.lineIndent<t&&(a=-1)):l=!1;if(l&&(l=c||i),(a===1||wr===n)&&(_r===n||jp===n?p=t:p=t+1,m=e.position-e.lineStart,a===1?l&&(Ed(e,m)||mS(e,m,p))||pS(e,p)?u=!0:(s&&gS(e,p)||fS(e,p)||hS(e,p)?u=!0:_S(e)?(u=!0,(e.tag!==null||e.anchor!==null)&&ye(e,"alias node should not have any properties")):dS(e,p,_r===n)&&(u=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):a===0&&(u=l&&Ed(e,m))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ye(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,f=e.implicitTypes.length;d<f;d+=1)if(g=e.implicitTypes[d],g.resolve(e.result)){e.result=g.construct(e.result),e.tag=g.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($n.call(e.typeMap[e.kind||"fallback"],e.tag))g=e.typeMap[e.kind||"fallback"][e.tag];else for(g=null,h=e.typeMap.multi[e.kind||"fallback"],d=0,f=h.length;d<f;d+=1)if(e.tag.slice(0,h[d].tag.length)===h[d].tag){g=h[d];break}g||ye(e,"unknown tag !<"+e.tag+">"),e.result!==null&&g.kind!==e.kind&&ye(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+g.kind+'", not "'+e.kind+'"'),g.resolve(e.result,e.tag)?(e.result=g.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ye(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||u}function wS(e){var t=e.position,n,o,i,r=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(qe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(r=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!wt(s);)s=e.input.charCodeAt(++e.position);for(o=e.input.slice(n,e.position),i=[],o.length<1&&ye(e,"directive name must not be less than one character in length");s!==0;){for(;Wn(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Zt(s));break}if(Zt(s))break;for(n=e.position;s!==0&&!wt(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&Ba(e),$n.call(bd,o)?bd[o](e,o,i):br(e,'unknown document directive "'+o+'"')}if(qe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,qe(e,!0,-1)):r&&ye(e,"directives end mark is expected"),ko(e,e.lineIndent-1,wr,!1,!0),qe(e,!0,-1),e.checkLineBreaks&&iS.test(e.input.slice(t,e.position))&&br(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&es(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,qe(e,!0,-1));return}if(e.position<e.length-1)ye(e,"end of the stream or a document separator is expected");else return}function Kp(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new cS(e,t),o=e.indexOf("\0");for(o!==-1&&(n.position=o,ye(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)wS(n);return n.documents}function bS(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var o=Kp(e,n);if(typeof t!="function")return o;for(var i=0,r=o.length;i<r;i+=1)t(o[i])}function xS(e,t){var n=Kp(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new pt("expected a single document in the stream, but found more")}}var ES=bS,SS=xS,Xp={loadAll:ES,load:SS},Zp=Object.prototype.toString,Qp=Object.prototype.hasOwnProperty,ja=65279,CS=9,di=10,NS=13,kS=32,TS=33,AS=34,ta=35,OS=37,IS=38,MS=39,DS=42,Jp=44,$S=45,xr=58,PS=61,LS=62,RS=63,FS=64,eg=91,tg=93,VS=96,ng=123,BS=124,og=125,ct={};ct[0]="\\0";ct[7]="\\a";ct[8]="\\b";ct[9]="\\t";ct[10]="\\n";ct[11]="\\v";ct[12]="\\f";ct[13]="\\r";ct[27]="\\e";ct[34]='\\"';ct[92]="\\\\";ct[133]="\\N";ct[160]="\\_";ct[8232]="\\L";ct[8233]="\\P";var HS=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],jS=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function zS(e,t){var n,o,i,r,s,l,a;if(t===null)return{};for(n={},o=Object.keys(t),i=0,r=o.length;i<r;i+=1)s=o[i],l=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),a=e.compiledTypeMap.fallback[s],a&&Qp.call(a.styleAliases,l)&&(l=a.styleAliases[l]),n[s]=l;return n}function YS(e){var t,n,o;if(t=e.toString(16).toUpperCase(),e<=255)n="x",o=2;else if(e<=65535)n="u",o=4;else if(e<=4294967295)n="U",o=8;else throw new pt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Ze.repeat("0",o-t.length)+t}var GS=1,fi=2;function US(e){this.schema=e.schema||Va,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ze.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=zS(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?fi:GS,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Sd(e,t){for(var n=Ze.repeat(" ",t),o=0,i=-1,r="",s,l=e.length;o<l;)i=e.indexOf(`
`,o),i===-1?(s=e.slice(o),o=l):(s=e.slice(o,i+1),o=i+1),s.length&&s!==`
`&&(r+=n),r+=s;return r}function na(e,t){return`
`+Ze.repeat(" ",e.indent*t)}function qS(e,t){var n,o,i;for(n=0,o=e.implicitTypes.length;n<o;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function Er(e){return e===kS||e===CS}function hi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==ja||65536<=e&&e<=1114111}function Cd(e){return hi(e)&&e!==ja&&e!==NS&&e!==di}function Nd(e,t,n){var o=Cd(e),i=o&&!Er(e);return(n?o:o&&e!==Jp&&e!==eg&&e!==tg&&e!==ng&&e!==og)&&e!==ta&&!(t===xr&&!i)||Cd(t)&&!Er(t)&&e===ta||t===xr&&i}function WS(e){return hi(e)&&e!==ja&&!Er(e)&&e!==$S&&e!==RS&&e!==xr&&e!==Jp&&e!==eg&&e!==tg&&e!==ng&&e!==og&&e!==ta&&e!==IS&&e!==DS&&e!==TS&&e!==BS&&e!==PS&&e!==LS&&e!==MS&&e!==AS&&e!==OS&&e!==FS&&e!==VS}function KS(e){return!Er(e)&&e!==xr}function Fo(e,t){var n=e.charCodeAt(t),o;return n>=55296&&n<=56319&&t+1<e.length&&(o=e.charCodeAt(t+1),o>=56320&&o<=57343)?(n-55296)*1024+o-56320+65536:n}function ig(e){var t=/^\n* /;return t.test(e)}var rg=1,oa=2,sg=3,lg=4,ro=5;function XS(e,t,n,o,i,r,s,l){var a,c=0,u=null,d=!1,f=!1,h=o!==-1,g=-1,p=WS(Fo(e,0))&&KS(Fo(e,e.length-1));if(t||s)for(a=0;a<e.length;c>=65536?a+=2:a++){if(c=Fo(e,a),!hi(c))return ro;p=p&&Nd(c,u,l),u=c}else{for(a=0;a<e.length;c>=65536?a+=2:a++){if(c=Fo(e,a),c===di)d=!0,h&&(f=f||a-g-1>o&&e[g+1]!==" ",g=a);else if(!hi(c))return ro;p=p&&Nd(c,u,l),u=c}f=f||h&&a-g-1>o&&e[g+1]!==" "}return!d&&!f?p&&!s&&!i(e)?rg:r===fi?ro:oa:n>9&&ig(e)?ro:s?r===fi?ro:oa:f?lg:sg}function ZS(e,t,n,o,i){e.dump=(function(){if(t.length===0)return e.quotingType===fi?'""':"''";if(!e.noCompatMode&&(HS.indexOf(t)!==-1||jS.test(t)))return e.quotingType===fi?'"'+t+'"':"'"+t+"'";var r=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-r),l=o||e.flowLevel>-1&&n>=e.flowLevel;function a(c){return qS(e,c)}switch(XS(t,l,e.indent,s,a,e.quotingType,e.forceQuotes&&!o,i)){case rg:return t;case oa:return"'"+t.replace(/'/g,"''")+"'";case sg:return"|"+kd(t,e.indent)+Td(Sd(t,r));case lg:return">"+kd(t,e.indent)+Td(Sd(QS(t,s),r));case ro:return'"'+JS(t)+'"';default:throw new pt("impossible error: invalid scalar style")}})()}function kd(e,t){var n=ig(e)?String(t):"",o=e[e.length-1]===`
`,i=o&&(e[e.length-2]===`
`||e===`
`),r=i?"+":o?"":"-";return n+r+`
`}function Td(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function QS(e,t){for(var n=/(\n+)([^\n]*)/g,o=(function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,Ad(e.slice(0,c),t)})(),i=e[0]===`
`||e[0]===" ",r,s;s=n.exec(e);){var l=s[1],a=s[2];r=a[0]===" ",o+=l+(!i&&!r&&a!==""?`
`:"")+Ad(a,t),i=r}return o}function Ad(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,o,i=0,r,s=0,l=0,a="";o=n.exec(e);)l=o.index,l-i>t&&(r=s>i?s:l,a+=`
`+e.slice(i,r),i=r+1),s=l;return a+=`
`,e.length-i>t&&s>i?a+=e.slice(i,s)+`
`+e.slice(s+1):a+=e.slice(i),a.slice(1)}function JS(e){for(var t="",n=0,o,i=0;i<e.length;n>=65536?i+=2:i++)n=Fo(e,i),o=ct[n],!o&&hi(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=o||YS(n);return t}function eC(e,t,n){var o="",i=e.tag,r,s,l;for(r=0,s=n.length;r<s;r+=1)l=n[r],e.replacer&&(l=e.replacer.call(n,String(r),l)),(_n(e,t,l,!1,!1)||typeof l>"u"&&_n(e,t,null,!1,!1))&&(o!==""&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=i,e.dump="["+o+"]"}function Od(e,t,n,o){var i="",r=e.tag,s,l,a;for(s=0,l=n.length;s<l;s+=1)a=n[s],e.replacer&&(a=e.replacer.call(n,String(s),a)),(_n(e,t+1,a,!0,!0,!1,!0)||typeof a>"u"&&_n(e,t+1,null,!0,!0,!1,!0))&&((!o||i!=="")&&(i+=na(e,t)),e.dump&&di===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=r,e.dump=i||"[]"}function tC(e,t,n){var o="",i=e.tag,r=Object.keys(n),s,l,a,c,u;for(s=0,l=r.length;s<l;s+=1)u="",o!==""&&(u+=", "),e.condenseFlow&&(u+='"'),a=r[s],c=n[a],e.replacer&&(c=e.replacer.call(n,a,c)),_n(e,t,a,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),_n(e,t,c,!1,!1)&&(u+=e.dump,o+=u));e.tag=i,e.dump="{"+o+"}"}function nC(e,t,n,o){var i="",r=e.tag,s=Object.keys(n),l,a,c,u,d,f;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new pt("sortKeys must be a boolean or a function");for(l=0,a=s.length;l<a;l+=1)f="",(!o||i!=="")&&(f+=na(e,t)),c=s[l],u=n[c],e.replacer&&(u=e.replacer.call(n,c,u)),_n(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&di===e.dump.charCodeAt(0)?f+="?":f+="? "),f+=e.dump,d&&(f+=na(e,t)),_n(e,t+1,u,!0,d)&&(e.dump&&di===e.dump.charCodeAt(0)?f+=":":f+=": ",f+=e.dump,i+=f));e.tag=r,e.dump=i||"{}"}function Id(e,t,n){var o,i,r,s,l,a;for(i=n?e.explicitTypes:e.implicitTypes,r=0,s=i.length;r<s;r+=1)if(l=i[r],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof t=="object"&&t instanceof l.instanceOf)&&(!l.predicate||l.predicate(t))){if(n?l.multi&&l.representName?e.tag=l.representName(t):e.tag=l.tag:e.tag="?",l.represent){if(a=e.styleMap[l.tag]||l.defaultStyle,Zp.call(l.represent)==="[object Function]")o=l.represent(t,a);else if(Qp.call(l.represent,a))o=l.represent[a](t,a);else throw new pt("!<"+l.tag+'> tag resolver accepts not "'+a+'" style');e.dump=o}return!0}return!1}function _n(e,t,n,o,i,r,s){e.tag=null,e.dump=n,Id(e,n,!1)||Id(e,n,!0);var l=Zp.call(e.dump),a=o,c;o&&(o=e.flowLevel<0||e.flowLevel>t);var u=l==="[object Object]"||l==="[object Array]",d,f;if(u&&(d=e.duplicates.indexOf(n),f=d!==-1),(e.tag!==null&&e.tag!=="?"||f||e.indent!==2&&t>0)&&(i=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(u&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),l==="[object Object]")o&&Object.keys(e.dump).length!==0?(nC(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(tC(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(l==="[object Array]")o&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?Od(e,t-1,e.dump,i):Od(e,t,e.dump,i),f&&(e.dump="&ref_"+d+e.dump)):(eC(e,t,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if(l==="[object String]")e.tag!=="?"&&ZS(e,e.dump,t,r,a);else{if(l==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new pt("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function oC(e,t){var n=[],o=[],i,r;for(ia(e,n,o),i=0,r=o.length;i<r;i+=1)t.duplicates.push(n[o[i]]);t.usedDuplicates=new Array(r)}function ia(e,t,n){var o,i,r;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,r=e.length;i<r;i+=1)ia(e[i],t,n);else for(o=Object.keys(e),i=0,r=o.length;i<r;i+=1)ia(e[o[i]],t,n)}function iC(e,t){t=t||{};var n=new US(t);n.noRefs||oC(e,n);var o=e;return n.replacer&&(o=n.replacer.call({"":o},"",o)),_n(n,0,o,!0,!0)?n.dump+`
`:""}var rC=iC,sC={dump:rC};function za(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var lC=it,aC=Ep,uC=kp,cC=Mp,dC=Dp,fC=Va,hC=Xp.load,pC=Xp.loadAll,gC=sC.dump,mC=pt,vC={binary:Fp,float:Ip,map:Np,null:Tp,pairs:Bp,set:Hp,timestamp:Lp,bool:Ap,int:Op,merge:Rp,omap:Vp,seq:Cp,str:Sp},yC=za("safeLoad","load"),_C=za("safeLoadAll","loadAll"),wC=za("safeDump","dump"),ag={Type:lC,Schema:aC,FAILSAFE_SCHEMA:uC,JSON_SCHEMA:cC,CORE_SCHEMA:dC,DEFAULT_SCHEMA:fC,load:hC,loadAll:pC,dump:gC,YAMLException:mC,types:vC,safeLoad:yC,safeLoadAll:_C,safeDump:wC};function bC(){let e={};const{nodes:t,edges:n}=ie.state[j.selectedDialogue];return t.forEach(o=>{let i={type:o.type};o.type==tt.DIALOGUE.type&&(i.text=U.state.labels[o.data.textString]),o.type==tt.SCRIPT.type&&(i.text=o.data.text),o.data.outputs&&(i.options=[],o.data.outputs.toSorted((r,s)=>r.order-s.order).forEach(r=>{let s={};n.forEach(l=>{l.source==o.id&&l.sourceHandle==r.id&&(s.next=l.targetNode.data.label)}),r.textString&&(s.text=U.state.labels[r.textString]),r.if&&(s.if=r.if),i.options.push(s)})),e[o.data.label]=i}),ag.dump(e)}function xC(e){const t=ag.load(e);let n=[];const o=[],i=[];return Object.keys(t).forEach(r=>{const s=t[r],l=up(s.type);let a={id:l,type:s.type,position:{x:0,y:0},data:{label:r,outputs:[]}};if(s.options.forEach((c,u)=>{const d={order:u};if(s.type==tt.DIALOGUE.type||s.type==tt.BRANCH.type?d.id=La(a):d.id="out",c.next&&n.push({fromNode:l,fromHandle:d.id,toLabel:c.next}),c.if&&(d.if=c.if),c.text){const f=xc(c.text);if(d.textString=f,!U.state.labels[f]){U.state.labels[f]=c.text;const h={};U.state.languages.forEach(g=>{h[g]=""}),U.state.strings[f]=h}}a.data.outputs.push(d)}),s.text){const c=xc(s.text);if(a.data.textString=c,!U.state.labels[c]){U.state.labels[c]=s.text;const u={};U.state.languages.forEach(d=>{u[d]=""}),U.state.strings[c]=u}}s.text&&(a.data.text=s.text),o.push(a)}),n.forEach(({fromNode:r,fromHandle:s,toLabel:l})=>{const a=r,c=o.find(h=>h.data.label==l)?.id,u=s,f={id:Qr(),source:a,target:c,sourceHandle:u,targetHandle:"in"};i.push(f)}),{nodes:o,edges:i,nodesOutputsCollapsed:[],nodesTextCollapsed:[]}}const Xi=bt({title:"",message:"",isVisible:!1});let ra;function EC(){return{state:Xi,resolve:e=>{ra&&ra(e)}}}function ug(){return{confirm({title:e,message:t}){return Xi.isVisible=!0,Xi.title=e,Xi.message=t,new Promise(n=>{ra=n})}}}function cg(){const e=_p(!0);localStorage.setItem(yp,e)}function SC(){const e=localStorage.getItem(yp);wp(e,!0)}async function CC(){await ug().confirm({title:"Start new project",message:"All unexported data will be lost"})&&(eE(),Jr.value.setViewport(fn.flow.defaultViewport))}async function Ya(){const e=_p();j.projectHandle||(j.projectHandle=await window.showSaveFilePicker({types:[{description:"JSON Files",accept:{"application/json":[".json"]}}]}));const t=await j.projectHandle.createWritable();await t.write(e),await t.close(),j.toasts.push({text:"Project saved"})}async function NC(){const e=j.projectHandle;j.projectHandle=null;try{await Ya()}catch{j.projectHandle=e}}async function kC(){const[e]=await window.showOpenFilePicker({types:[{description:"JSON Files",accept:{"application/json":[".json"]}}]}),t=await e.getFile();if(!t)return;j.projectHandle=e;const n=new FileReader;n.onload=function(o){const i=o.target.result;wp(i),Jr.value.setViewport(fn.flow.defaultViewport),He.methods.reset()},n.readAsText(t),j.toasts.push({text:"Project loaded"})}async function Md(){const e=bC(),t=$e.state.dialogues.find(i=>i.id==j.selectedDialogue)?.name,o=await(await window.showSaveFilePicker({suggestedName:t+".yaml",types:[{description:"YAML Files",accept:{"text/yaml":[".yaml"]}}]})).createWritable();await o.write(e),await o.close(),j.toasts.push({text:"Exported YAML"})}async function TC(){const[e]=await window.showOpenFilePicker({types:[{description:"YAML Files",accept:{"application/yaml":[".yaml"]}}]}),t=await e.getFile();if(!t)return;const o=await new Promise((i,r)=>{const s=new FileReader;s.onload=async function(l){const a=l.target.result,c=$e.methods.importDialogue(a);i(c)},s.readAsText(t)});return j.toasts.push({text:"Imported YAML"}),o}function AC(e){const t=e.split(`
`),o=t[0].split(",").map(r=>r.trim()).slice(1);let i=[];for(let r=1;r<t.length;r++){const s=t[r];if(!s)continue;let l=[],a="",c=!1;for(let u=0;u<s.length;u++){const d=s[u];d==='"'?c=!c:d===","&&!c?(l.push(a.trim().replace(/^"(.*)"$/,"$1")),a=""):a+=d}l.push(a.trim().replace(/^"(.*)"$/,"$1")),i.push(l)}return{languages:o,values:i}}function OC(e){const{languages:t,values:n}=AC(e);t.forEach(o=>U.methods.addLanguage(o)),n.forEach(o=>{const i=o[0];if(i){const r=o.slice(1),s={};t.forEach((l,a)=>{s[l]=r[a]}),U.methods.addTranslation(i,s)}})}function IC(e,t){const n=new Set;Object.values(t).forEach(r=>{Object.keys(r).forEach(s=>n.add(s))});const o=Array.from(n).sort();let i="";return i+="Key,",i+=o.join(",")+`
`,Object.entries(e).forEach(([r,s])=>{const l=s.includes(",")?`"${s}"`:s;i+=l+",";const a=t[r]||{},c=o.map(u=>{const d=a[u]||"";return d.includes(",")?`"${d}"`:d});i+=c.join(",")+`
`}),console.log(i),i}function Dd(){ht.state.theme=="light"?ht.state.theme="dark":ht.state.theme="light"}function $d(){ht.state.theme=="light"?document.documentElement.classList.add("light"):document.documentElement.classList.remove("light")}const ts={test:e=>!!e,errorText:"Required"},MC={required:ts,unique:{test:(e,t)=>!ie.state[runtimeState.selectedDialogue].nodes.some(n=>n.id!==t.target.id&&n.data.label.toLowerCase()===e.toLowerCase()),errorText:"Must be unique"}},DC={required:ts,unique:{test:(e,t)=>!Object.keys(U.state.labels).some(n=>n!==t.target.id&&U.state.labels[n].toLowerCase()==e.toLowerCase()),errorText:"Must be unique"}},Pd={required:ts,unique:{test:e=>!U.state.languages.some(t=>t.toLowerCase()==e.toLowerCase()),errorText:"Must be unique"}},$C={required:ts,unique:{test:e=>!$e.state.dialogues.some(t=>t.name.toLowerCase()==e.toLowerCase()),errorText:"Must be unique"}},PC={class:"topbar"},LC={style:{display:"flex",flex:"1","justify-content":"start",gap:"6px"}},RC=["innerHTML"],FC=["innerHTML"],VC={style:{display:"flex",flex:"1","justify-content":"center",gap:"6px"}},BC={class:"ghost"},HC={style:{display:"flex",flex:"1","justify-content":"end",gap:"6px"}},jC=["innerHTML"],zC={__name:"Topbar",setup(e){const t=[{el:be(null),show:be(!1)},{el:be(null),show:be(!1)},{el:be(null),show:be(!1)}],{fitView:n}=Re();ut(()=>{document.addEventListener("click",l)});const o=me(()=>{let d="Undo";const f=He.state.past[He.state.past.length-1];f&&(d+=` ${f.at(-1).type} ${f.at(-1).object}`);let h="Redo";const g=He.state.future[0];return g&&(h+=` ${g.at(-1).type} ${g.at(-1).object}`),[{label:d,onClick:a},{label:h,onClick:c}]}),i=[{label:"New",onClick:CC},{label:"Save",onClick:Ya},{label:"Save as",onClick:NC},{label:"Load",onClick:kC}],r=me(()=>[{label:"Language"},...U.state.languages.map(d=>({label:d,onClick:()=>U.state.selectedLanguage=d}))]);function s(d){t.forEach(f=>f.show.value=!1),t[d].show.value=!t[d].show.value}function l(d){t.forEach(f=>{f.el.value&&!f.el.value.contains(d.target)&&(f.show.value=!1)})}function a(){He.methods.undo()}function c(){He.methods.redo()}function u(){ie.methods.rearrangeNodes(j.selectedDialogue)}return(d,f)=>(z(),J("div",PC,[B("div",LC,[B("div",{class:"dropdown",onClick:f[2]||(f[2]=ji(()=>{},["stop"]))},[B("button",{class:Je([{selected:t[0].show.value},"fit transparent"]),ref:t[0].el,onClick:f[0]||(f[0]=h=>s(0))},"File",2),t[0].show.value?(z(),Ve(Ki,{key:0,"menu-items":i,show:t[0].show.value,"onUpdate:show":f[1]||(f[1]=h=>t[0].show.value=h)},null,8,["show"])):Ee("",!0)]),B("div",{class:"dropdown",onClick:f[5]||(f[5]=ji(()=>{},["stop"]))},[B("button",{class:Je([{selected:t[1].show.value},"fit transparent"]),ref:t[1].el,onClick:f[3]||(f[3]=h=>s(1))},"Edit",2),t[1].show.value?(z(),Ve(Ki,{key:0,"menu-items":o.value,show:t[1].show.value,"onUpdate:show":f[4]||(f[4]=h=>t[1].show.value=h)},null,8,["menu-items","show"])):Ee("",!0)]),B("div",{class:"dropdown",onClick:f[8]||(f[8]=ji(()=>{},["stop"]))},[B("button",{class:Je([{selected:t[2].show.value},"fit transparent"]),ref:t[2].el,onClick:f[6]||(f[6]=h=>s(2))},Te(M(U).state.selectedLanguage),3),t[2].show.value?(z(),Ve(Ki,{key:0,"menu-items":r.value,show:t[2].show.value,"onUpdate:show":f[7]||(f[7]=h=>t[2].show.value=h)},null,8,["menu-items","show"])):Ee("",!0)]),B("button",{class:"square",onClick:f[9]||(f[9]=(...h)=>M(n)&&M(n)(...h)),innerHTML:M(St).Fit,title:"Fit to view"},null,8,RC),B("button",{class:"square",onClick:u,innerHTML:M(St).Rearrange,title:"Rearrange icons"},null,8,FC)]),B("div",VC,[B("span",BC,Te(M(j).projectHandle?.name||"Untitled (Not saved)"),1)]),B("div",HC,[B("button",{class:"square",onClick:f[10]||(f[10]=(...h)=>M(Dd)&&M(Dd)(...h)),innerHTML:M(St).Light},null,8,jC)])]))}},YC={class:"tab-panel"},GC={class:"tab-buttons"},UC=["onClick"],qC=["innerHTML"],WC={class:"tab-content"},dg={__name:"TabPanel",props:{modelValue:{type:String,required:!0},icons:Object},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,i=kf();Mn("activeTab",me(()=>n.modelValue));const r=me(()=>i.default?i.default().map(l=>l.props?.name).filter(l=>l!==void 0):[]),s=l=>{o("update:modelValue",l)};return(l,a)=>(z(),J("div",YC,[B("div",GC,[(z(!0),J(ve,null,We(r.value,c=>(z(),J("button",{key:c,class:Je(["tab-button",{active:e.modelValue===c}]),onClick:u=>s(c)},[n.icons?.[c]?(z(),J("div",{key:0,innerHTML:n.icons[c]},null,8,qC)):Ee("",!0),B("div",null,Te(c),1)],10,UC))),128))]),B("div",WC,[Lt(l.$slots,"default")])]))}},KC={key:0,class:"tab-content-item"},XC={__name:"Tab",props:{name:{type:String,required:!0}},setup(e){const t=e,n=Dt("activeTab",""),o=me(()=>n.value===t.name);return(i,r)=>o.value?(z(),J("div",KC,[Lt(i.$slots,"default",{},void 0,!0)])):Ee("",!0)}},Ko=en(XC,[["__scopeId","data-v-aca39339"]]),ZC={class:"validated-field"},QC={key:0,class:"error-text"},JC={__name:"ValidatedField",props:{modelValue:[String,Number],validators:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,i=be(n.modelValue??""),r=be("");Se(()=>n.modelValue,c=>{c!==i.value&&(i.value=c??"")});function s(c){for(const u in n.validators){const{test:d,errorText:f}=n.validators[u];if(!d(c.target.value,c))return r.value=f,!1}return r.value="",!0}function l(c){i.value=c.target.value,s(c)&&o("update:modelValue",c.target.value)}function a(){i.value=n.modelValue??"",r.value=""}return(c,u)=>(z(),J("div",ZC,[(z(!0),J(ve,null,We(c.$slots.default?.()||[],d=>(z(),Ve(Sf(d.type),gn({ref_for:!0},d.props,{value:i.value,onInput:u[0]||(u[0]=f=>l(f)),onChange:u[1]||(u[1]=f=>l(f)),onBlur:a,class:[d.props?.class,r.value?"error":""],"v-on":d.props?.on,ref_for:!0,ref:d.props.ref}),null,16,["value","class","v-on"]))),256)),r.value?(z(),J("div",QC,Te(r.value),1)):Ee("",!0)]))}},pi=en(JC,[["__scopeId","data-v-97942088"]]),eN={class:"section"},tN={key:0,style:{"font-size":"1rem",flex:"1"}},nN=["value"],oN={class:"bright"},iN=["onKeyup"],rN=["onClick"],sN=["onClick"],lN=["onClick"],aN={class:"section"},uN={class:"button-group",style:{"max-width":"400px"}},cN={__name:"LanguagePanel",setup(e){const{addLanguage:t,removeLanguage:n,renameLanguage:o}=U.methods,i=be(""),r=be(null),s=be(""),l=be(null);function a(h){r.value=h,s.value=h,mt(()=>{l.value&&(l.value.focus(),l.value.select())})}function c(h){o(h,s.value),r.value=null,U.state.selectedLanguage=s.value,s.value=""}function u(){r.value=null,s.value=""}const d=()=>{const h=i.value.trim();h&&(t(h),U.state.selectedLanguage=h,i.value="",U.state.selectedLanguage=h)},f=h=>{n(h),U.state.selectedLanguage=U.state.languages.length?U.state.languages[0]:null};return(h,g)=>(z(),J(ve,null,[g[3]||(g[3]=B("div",{class:"title title-1"},"Languages in project",-1)),B("div",eN,[(z(!0),J(ve,null,We(M(U).state.languages,p=>(z(),J("div",{key:p,class:"button-group",style:{"max-width":"400px"}},[r.value!==p?(z(),J("label",tN,[Gn(B("input",{type:"radio",value:p,"onUpdate:modelValue":g[0]||(g[0]=m=>M(U).state.selectedLanguage=m)},null,8,nN),[[Fv,M(U).state.selectedLanguage]]),B("div",oN,Te(p),1)])):(z(),Ve(pi,{key:1,modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=m=>s.value=m),validators:M(Pd)},{default:De(()=>[B("input",{style:{flex:"1"},type:"text",onKeyup:zi(m=>c(p),["enter"]),onBlur:u,onKeydown:zi(u,["escape"]),ref_for:!0,ref:m=>l.value=m},null,40,iN)]),_:2},1032,["modelValue","validators"])),r.value!==p?(z(),J(ve,{key:2},[B("button",{onClick:m=>a(p)},"Rename",8,rN),B("button",{onClick:m=>f(p)},"Delete",8,sN)],64)):(z(),J(ve,{key:3},[B("button",{onClick:m=>c(p)},"Save",8,lN),B("button",{onClick:u},"Cancel")],64))]))),128))]),g[4]||(g[4]=B("div",{class:"title title-2"},"Add language",-1)),B("div",aN,[B("div",uN,[pe(pi,{modelValue:i.value,"onUpdate:modelValue":g[2]||(g[2]=p=>i.value=p),validators:M(Pd)},{default:De(()=>[B("input",{placeholder:"Language code",onKeyup:zi(d,["enter"])},null,32)]),_:1},8,["modelValue","validators"]),B("button",{style:{margin:"-1px",height:"29px"},onClick:d},"Add")])])],64))}},Sr={__name:"CustomTextarea",props:{modelValue:{type:String,default:""}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const o=e,i=n,r=be(o.modelValue),s=be(null);function l(){const c=s.value;c&&(c.style.height="auto",c.style.height=c.scrollHeight-8+"px")}Se(()=>o.modelValue,async c=>{r.value=c,await mt(),l()}),Se(r,c=>{i("update:modelValue",c)});function a(){s.value?.focus()}return t({focus:a}),ut(()=>{l()}),(c,u)=>Gn((z(),J("textarea",{ref_key:"textarea",ref:s,"onUpdate:modelValue":u[0]||(u[0]=d=>r.value=d),onInput:l,rows:"1"},null,544)),[[Sa,r.value]])}},dN={class:"col select-list-wrapper",style:{gap:"16px"}},fN={class:"row"},hN={class:"select-list"},pN={class:"content"},gN=["value","onClick"],mN={class:"column"},vN={key:0,class:"ghost italic"},yN={__name:"SelectList",props:["rows","columns","selected","onSelect"],emits:["update:selected"],setup(e,{emit:t}){const n=e,o=t,i=be(null),r=me(()=>{if(!i.value)return n.rows;const l=i.value.toLowerCase();return n.rows.filter(a=>n.columns.map(u=>_l(a,u)).some(u=>u.toLowerCase().startsWith(l)))});function s(l){o("update:selected",l),typeof n.onSelect=="function"&&n.onSelect(l)}return(l,a)=>(z(),J("div",dN,[B("div",fN,[Gn(B("input",{placeholder:"Search...",style:{width:"100%"},"onUpdate:modelValue":a[0]||(a[0]=c=>i.value=c),onKeydown:a[1]||(a[1]=zi(()=>i.value="",["escape"]))},null,544),[[Sa,i.value]]),B("button",{onClick:a[2]||(a[2]=()=>i.value="")},"")]),B("div",hN,[B("div",pN,[(z(!0),J(ve,null,We(r.value,(c,u)=>(z(),J("div",{class:Je(["option",{selected:n.selected==c.id}]),key:c.id,value:c.id,onClick:d=>s(c.id)},[(z(!0),J(ve,null,We(n.columns,(d,f)=>(z(),J("div",mN,[B("span",null,Te(M(_l)(c,d)),1),M(_l)(c,d)?Ee("",!0):(z(),J("span",vN,"( no text )"))]))),256))],10,gN))),128))])])]))}},Ga=en(yN,[["__scopeId","data-v-a2b9c94e"]]),_N={class:"section"},wN={class:"col"},bN={class:"button-group",style:{"max-width":"367px"}},xN={class:"col"},EN={class:"col"},SN={class:"button-group",style:{"max-width":"367px"}},CN=["disabled"],NN=["disabled"],kN=["disabled"],TN={key:0,class:"section"},AN={class:"col"},ON=["id"],IN={class:"col"},MN={__name:"TranslationPanel",setup(e){const{newTranslation:t,removeTranslation:n,moveTranslation:o}=U.methods,i=be(""),r=be(),s=me(()=>["key",...U.state.languages]),l=me({get:()=>Object.keys(U.state.labels).map(h=>{const g={id:h,key:U.state.labels[h]};return U.state.languages.forEach(p=>{g[p]=U.state.strings[h]?.[p]||""}),g})}),a=()=>{i.value&&(n(i.value),i.value="")};function c(f){if(!f)return;const h=new FileReader;h.onload=g=>OC(g.target.result),h.readAsText(f)}async function u(){const f=IC(U.state.labels,U.state.strings),g=await(await window.showSaveFilePicker({types:[{description:"CSV Files",accept:{"text/csv":[".csv"]}}]})).createWritable();await g.write(f),await g.close()}function d(f){}return(f,h)=>(z(),J(ve,null,[h[8]||(h[8]=B("div",{class:"title title-1"},"Strings",-1)),B("div",_N,[B("div",wN,[B("div",bN,[B("button",{class:"btn",onClick:h[0]||(h[0]=()=>{r.value.value="",r.value.click()})},"Import CSV"),B("button",{class:"btn",onClick:u},"Export CSV"),B("input",{ref_key:"csvFile",ref:r,type:"file",accept:".csv",style:{display:"none"},onChange:h[1]||(h[1]=g=>c(g.target.files[0]))},null,544)])]),B("div",xN,[pe(Ga,{style:{"max-height":"300px"},rows:l.value,columns:s.value,"on-select":d,selected:i.value,"onUpdate:selected":h[2]||(h[2]=g=>i.value=g)},null,8,["rows","columns","selected"])]),B("div",EN,[B("div",SN,[B("button",{class:"btn",onClick:h[3]||(h[3]=()=>M(o)(i.value,-1)),disabled:!i.value},"",8,CN),B("button",{class:"btn",onClick:h[4]||(h[4]=()=>M(o)(i.value,1)),disabled:!i.value},"",8,NN),B("button",{class:"btn",onClick:h[5]||(h[5]=(...g)=>M(t)&&M(t)(...g))},"Add"),B("button",{class:"btn",onClick:a,disabled:!i.value},"Delete",8,kN)])]),i.value?(z(),J("div",TN,[B("div",AN,[h[7]||(h[7]=B("label",null,"Label:",-1)),pe(pi,{modelValue:M(U).state.labels[i.value],"onUpdate:modelValue":h[6]||(h[6]=g=>M(U).state.labels[i.value]=g),validators:M(DC)},{default:De(()=>[B("input",{id:i.value},null,8,ON)]),_:1},8,["modelValue","validators"])]),(z(!0),J(ve,null,We(M(U).state.languages,g=>(z(),J("div",IN,[B("label",null,"Text for "+Te(g)+":",1),M(U).state.strings[i.value]?(z(),Ve(Sr,{key:0,style:{resize:"vertical"},modelValue:M(U).state.strings[i.value][g],"onUpdate:modelValue":p=>M(U).state.strings[i.value][g]=p},null,8,["modelValue","onUpdate:modelValue"])):Ee("",!0)]))),256))])):Ee("",!0)])],64))}},DN={class:"section"},$N={class:"col"},PN={class:"section"},LN={class:"col"},RN=["id"],FN={class:"section"},VN={__name:"DialoguePanel",setup(e){const{newDialogue:t,removeDialogue:n}=$e.methods,o=me(()=>$e.state.dialogues.find(l=>l.id==j.selectedDialogue));function i(){const l=t();j.selectedDialogue=l.id}function r(){j.selectedDialogue&&n(j.selectedDialogue)}function s(){TC().then(l=>{j.selectedDialogue=l.id})}return(l,a)=>(z(),J(ve,null,[a[6]||(a[6]=B("div",{class:"title title-1"},"Dialogues in project",-1)),B("div",DN,[B("div",$N,[pe(Ga,{style:{"max-height":"300px"},rows:M($e).state.dialogues,columns:["name"],selected:M(j).selectedDialogue,"onUpdate:selected":a[0]||(a[0]=c=>M(j).selectedDialogue=c)},null,8,["rows","selected"])]),B("div",{class:"col"},[B("div",{class:"button-group",style:{"max-width":"367px"}},[B("button",{onClick:i},"New"),B("button",{onClick:s},"Import"),B("button",{onClick:r},"Delete")])])]),o.value?(z(),J(ve,{key:0},[B("div",PN,[B("div",LN,[a[3]||(a[3]=B("label",null,"Dialogue name:",-1)),pe(pi,{modelValue:o.value.name,"onUpdate:modelValue":a[1]||(a[1]=c=>o.value.name=c),validators:M($C)},{default:De(()=>[B("input",{id:M(j).selectedDialogue},null,8,RN)]),_:1},8,["modelValue","validators"])])]),a[4]||(a[4]=B("div",{class:"title title-2"},"Export",-1)),a[5]||(a[5]=B("div",{class:"section"},[B("div",{class:"text muted"},"Exports selected dialogue graph to YAML."),B("div",{class:"text ghost"},"No options currently available")],-1)),B("div",FN,[B("button",{style:{"max-width":"138px"},onClick:a[2]||(a[2]=(...c)=>M(Md)&&M(Md)(...c))},"Export")])],64)):Ee("",!0)],64))}},BN={__name:"LeftPanel",setup(e){const t={Dialogues:St.Graph,Nodes:St.Node,Translations:St.Translation,Languages:St.Languages};return(n,o)=>(z(),Ve(dg,{modelValue:M(j).activeTabLeft,"onUpdate:modelValue":o[0]||(o[0]=i=>M(j).activeTabLeft=i),style:at({width:M(ht).state.leftPanelWidth+"px"}),icons:t},{default:De(()=>[pe(Ko,{name:"Dialogues"},{default:De(()=>[pe(VN)]),_:1}),pe(Ko,{name:"Translations"},{default:De(()=>[pe(MN)]),_:1}),pe(Ko,{name:"Languages"},{default:De(()=>[pe(cN)]),_:1})]),_:1},8,["modelValue","style"]))}},HN={class:"title title-1 drag-handle"},jN=["innerHTML"],zN={class:"text"},YN=["innerHTML"],Ua={__name:"BaseNode",props:["id","type","data"],setup(e){return(t,n)=>(z(),J(ve,null,[B("div",HN,[B("div",{class:"icon",innerHTML:M(Ro)[e.type]},null,8,jN),B("div",zN,Te(e.data.label),1),e.type!=M(tt).START.type?(z(),J("button",{key:0,class:"btn square small",onClick:n[0]||(n[0]=o=>M(ie).methods.removeNode(e.id,M(j).selectedDialogue))},[B("div",{innerHTML:M(St).Trash},null,8,YN)])):Ee("",!0)]),Lt(t.$slots,"default")],64))}},GN={class:"row"},UN={class:"handle-wrapper"},qN={__name:"StartNode",props:["id","type","data"],setup(e){const t=e;return(n,o)=>(z(),Ve(Ua,gn(n.$props,{type:"start"}),{default:De(()=>[B("div",GN,[o[0]||(o[0]=B("div",{class:"section"},[B("div",{class:"ghost italic"}," Marks dialogue entry point. ")],-1)),B("div",UN,[pe(M(yn),{id:t.data.outputs[0].id,class:"node-output-handle",type:"source",position:M(fe).Right,connectable:"single"},null,8,["id","position"])])])]),_:1},16))}},WN={key:0},KN={key:1},XN={class:"row"},ZN={key:0,class:"section"},QN={__name:"TextNode",props:["id","type","data"],setup(e){const t=e,n=be(ie.state[j.selectedDialogue].nodesTextCollapsed.includes(t.id));function o(){n.value=!n.value,n.value?ie.state[j.selectedDialogue].nodesTextCollapsed.push(t.id):ie.state[j.selectedDialogue].nodesTextCollapsed=ie.state[j.selectedDialogue].nodesTextCollapsed.filter(i=>i!=t.id)}return(i,r)=>(z(),Ve(Ua,Sl(qf(i.$props)),{default:De(()=>[B("div",{class:Je(["title title-2",{collapsed:n.value}]),onClick:o},[r[0]||(r[0]=yi("Text",-1)),n.value?(z(),J("span",WN,"")):(z(),J("span",KN,""))],2),B("div",XN,[B("div",{class:Je(["handle-wrapper",{collapsed:n.value}])},[pe(M(yn),{class:"node-input-handle",id:"in",type:"target",position:M(fe).Left},null,8,["position"])],2),n.value?Ee("",!0):(z(),J("div",ZN,[Lt(i.$slots,"default",{},void 0,!0)])),e.data.outputs.length&&e.type!="dialogue"&&e.type!="branch"?(z(),J("div",{key:1,class:Je(["handle-wrapper",{collapsed:n.value}])},[pe(M(yn),{id:e.data.outputs[0].id,class:"node-output-handle",type:"source",position:M(fe).Right,connectable:"single"},null,8,["id","position"])],2)):Ee("",!0)])]),_:3},16))}},fg=en(QN,[["__scopeId","data-v-e8eb9cfe"]]),JN={key:0,class:"muted italic pre"},ek={key:1,class:"ghost italic"},tk={__name:"ScriptNode",props:["id","data"],setup(e){return(t,n)=>(z(),Ve(fg,gn(t.$props,{type:"script"}),{default:De(()=>[e.data.text?(z(),J("div",JN,Te(e.data.text),1)):(z(),J("div",ek," (no script) "))]),_:1},16))}},nk={key:0,class:"pre"},ok={key:1,class:"ghost italic"},ik={class:"handle-wrapper collapsed"},rk={key:0},sk={key:1},lk={key:"wrapper",class:"boundary-wrapper"},ak=["id"],uk=["id"],ck=["onClick"],dk=["innerHTML"],fk={class:"text"},hk=["onClick"],pk=["onClick"],gk={class:"row"},mk={class:"section subsection dense"},vk={key:0,class:"muted italic"},yk={key:1,class:"pre"},_k={key:2,class:"ghost italic"},wk={key:0,class:"muted italic"},bk={key:1,class:"ghost italic"},xk={key:2,class:"muted italic"},Ek={class:"handle-wrapper"},Sk={class:"boundary-wrapper"},Ck=["onClick"],Nk={key:0,class:"section ghost"},Ld={__name:"OptionsNode",props:["id","type","data"],setup(e){const t=e,{updateNodeInternals:n}=Re(),{addOption:o,removeOption:i,moveOption:r}=ie.methods,s=be(null),l=me(()=>ie.state[j.selectedDialogue].nodesOutputsCollapsed.includes(t.id));function a(h){const g=h.target.parentElement;h.dataTransfer.setDragImage(g,g.offsetWidth/2,g.offsetHeight/2),s.value=h.target}function c(h){if(!s.value)return;const g=t.data.outputs.find(w=>w.id==s.value.id);if(!g)return;const p=t.data.outputs.findIndex(w=>w.id==s.value.id),m=t.data.outputs.findIndex(w=>w.id==h.currentTarget.id);t.data.outputs.splice(p,1),t.data.outputs.splice(m,0,g),s.value=null}function u(){l.value?ie.state[j.selectedDialogue].nodesOutputsCollapsed=ie.state[j.selectedDialogue].nodesOutputsCollapsed.filter(h=>h!=t.id):ie.state[j.selectedDialogue].nodesOutputsCollapsed.push(t.id)}function d(h,g){const p=ie.state[j.selectedDialogue].edges.filter(m=>m.sourceHandle==g&&m.source==h).map(m=>m.targetNode.data.label);if(p.length)return p[0]}Se(()=>[...t.data.outputs],(h,g)=>{h&&h.forEach((p,m)=>{p.order=m})},{deep:!0});function f(h){n(h)}return(h,g)=>(z(),J(ve,null,[e.type=="dialogue"?(z(),Ve(fg,Sl(gn({key:0},h.$props)),{default:De(()=>[M(U).state.strings[e.data.textString]?.[M(U).state.selectedLanguage]?(z(),J("div",nk,Te(M(U).state.strings[e.data.textString][M(U).state.selectedLanguage]),1)):(z(),J("div",ok," (no text) "))]),_:1},16)):(z(),Ve(Ua,Sl(gn({key:1},h.$props)),{default:De(()=>[B("div",ik,[pe(M(yn),{class:"node-input-handle",id:"in",type:"target",position:M(fe).Left},null,8,["position"])])]),_:1},16)),B("div",{class:"title title-2",onClick:u},[g[3]||(g[3]=yi(" Options",-1)),l.value?(z(),J("span",rk,"")):(z(),J("span",sk,""))]),l.value?Ee("",!0):(z(),Ve(Ea,{key:2,name:"list",tag:"div",onTransitionend:g[2]||(g[2]=p=>f(e.id))},{default:De(()=>[B("div",lk,[B("button",{class:"btn square small boundary",onClick:g[0]||(g[0]=p=>M(o)(e.id,null,M(j).selectedDialogue))},"+")]),(z(!0),J(ve,null,We(e.data.outputs,p=>(z(),J("div",{class:"node-option",id:p.id,key:p.id,onDrop:c,onDragover:g[1]||(g[1]=ji(()=>{},["prevent"]))},[B("div",{class:"title title-3",id:p.id,draggable:"true",onDragstart:a},[B("button",{class:"btn square small",onClick:m=>M(i)(e.id,p.id,M(j).selectedDialogue)},[B("div",{innerHTML:M(St).Trash},null,8,dk)],8,ck),B("div",fk,"Option "+Te(p.order+1),1),B("div",null,[B("button",{class:"btn square small",onClick:m=>M(r)(e.id,p.id,-1,M(j).selectedDialogue)},"",8,hk),B("button",{class:"btn square small",onClick:m=>M(r)(e.id,p.id,1,M(j).selectedDialogue)},"",8,pk)])],40,uk),B("div",gk,[B("div",mk,[e.type==="dialogue"?(z(),J(ve,{key:0},[p.if?(z(),J("div",vk," if "+Te(p.if)+": ",1)):Ee("",!0),M(U).state.strings[p.textString]?.[M(U).state.selectedLanguage]?(z(),J("div",yk,Te(M(U).state.strings[p.textString][M(U).state.selectedLanguage]),1)):(z(),J("div",_k," (no text) "))],64)):Ee("",!0),e.type==="branch"?(z(),J(ve,{key:1},[p.if?(z(),J("div",wk," if "+Te(p.if)+": ",1)):(z(),J("div",bk," (no condition) "))],64)):Ee("",!0),d(t.id,p.id)?(z(),J("div",xk," -> "+Te(d(t.id,p.id)),1)):Ee("",!0)]),B("div",Ek,[(z(),Ve(M(yn),{class:"node-option-output-handle",key:p.id,id:p.id,type:"source",position:M(fe).Right,connectable:"single"},null,8,["id","position"]))])]),B("div",Sk,[B("button",{class:"btn square small boundary",onClick:m=>M(o)(e.id,p.id,M(j).selectedDialogue)},"+",8,Ck)])],40,ak))),128)),!e.data.outputs?.length&&!l.value?(z(),J("div",Nk," (no options) ")):Ee("",!0)]),_:1}))],64))}},kk=["d"],Tk={inheritAttrs:!1},Ak=Object.assign(Tk,{__name:"CustomEdge",props:{source:String,target:String,id:String,sourceX:Number,sourceY:Number,targetX:Number,targetY:Number,sourcePosition:String,targetPosition:String,markerEnd:String},setup(e){const t=e,{findNode:n}=ie.methods,o=n(t.source,j.selectedDialogue),i=me(()=>{let r={};return ie.state[j.selectedDialogue].nodesOutputsCollapsed.includes(t.source)?r={sourceX:t.sourceX+o.dimensions.width/2,sourceY:t.sourceY-12}:r={sourceX:t.sourceX,sourceY:t.sourceY},vr({...r,targetX:t.targetX,targetY:t.targetY,sourcePosition:"right",targetPosition:"left"})[0]});return(r,s)=>(z(),J(ve,null,[s[0]||(s[0]=B("defs",null,[B("marker",{id:"arrow",viewBox:"0 0 10 10",refX:"8",refY:"5",markerUnits:"strokeWidth",markerWidth:"5",markerHeight:"10",orient:"auto"},[B("path",{d:"M 0 0 L 10 5 L 0 10 z",fill:"context-stroke",stroke:"context-stroke"})])],-1)),B("path",{class:"vue-flow__edge-path",d:i.value},null,8,kk)],64))}}),Ok=en(Ak,[["__scopeId","data-v-e730ab45"]]),Ik={__name:"NodeContextMenu",setup(e){const t=be(null),n=me(()=>{let i=Object.values(tt);return ie.state[j.selectedDialogue].nodes.map(r=>r.type).includes(tt.START.type)&&(i=i.filter(r=>r.type!=tt.START.type)),[{label:"Add node"},...i.map(r=>({label:r.label,icon:r.icon,onClick:()=>o(r.type)}))]});function o(i){const r=vp(i,j.endPosition);if(ie.methods.addNode(r,j.selectedDialogue),j.pendingConnection){const s=j.pendingConnection.nodeId,l=r.id,a=j.pendingConnection.handleId,u={id:Qr(),source:s,target:l,sourceHandle:a,targetHandle:"in"};ie.methods.addEdge(u,j.selectedDialogue),j.pendingConnection=null}j.showMenu=!1}return ut(()=>{document.addEventListener("mousedown",i=>{t.value&&!t.value.contains(i.target)&&(j.showMenu=!1,j.pendingConnection=null)})}),(i,r)=>M(j).showMenu?(z(),J("div",{key:0,ref_key:"menuRef",ref:t},[pe(Ki,{title:"Add node",menuItems:n.value,style:at({left:M(j).menuPosition.x+"px",top:M(j).menuPosition.y+"px"})},null,8,["menuItems","style"])],512)):Ee("",!0)}},Mk={__name:"NodeCanvas",setup(e){const{getSelectedNodes:t,addSelectedNodes:n,onConnect:o,onConnectStart:i,onConnectEnd:r,onNodeDragStart:s,onNodeDragStop:l,onViewportChange:a,onPaneContextMenu:c,screenToFlowCoordinate:u}=Re(),d=be(!1);let f=[];function h(p){const{zoom:m,x:w,y:_}=p,x=document.querySelector(":root");x.style.setProperty("--grid-zoom",m),x.style.setProperty("--grid-offset-x",`${w}px`),x.style.setProperty("--grid-offset-y",`${_}px`)}ut(()=>{h(ie.state[j.selectedDialogue].defaultViewport),mt(()=>{ie.state[j.selectedDialogue].nodes.toReversed().forEach(p=>{!j.selectedNode&&p.selected&&(j.selectedNode=p)})})}),i(({event:p,handleId:m,handleType:w,nodeId:_})=>{w!="target"&&(j.pendingConnection={startEvent:p,handleId:m,handleType:w,nodeId:_})}),r(p=>{if(d.value){d.value=!1;return}if(p.target?.classList?.contains("vue-flow__pane")){const _=u({x:p.clientX,y:p.clientY});j.menuPosition={x:p.layerX,y:p.layerY},j.pendingConnection&&(j.endPosition=_,j.showMenu=!0)}}),o(p=>{if(p.source==p.target){console.warn("Attempted to connect node to itself");return}p.id=Qr(),ie.methods.addEdge(p,j.selectedDialogue),d.value=!0}),s(p=>{f=p.nodes.map(m=>({id:m.id,position:m.position}))}),l(p=>{const m=p.nodes.map(w=>({id:w.id,position:w.position}));ie.methods.moveNodes(f,m,j.selectedDialogue),f=[]}),a(p=>{h(p),ie.state[j.selectedDialogue].defaultViewport=p,cg()}),c(p=>{j.menuPosition={x:p.layerX,y:p.layerY},j.showMenu=!0,j.endPosition=u({x:p.clientX,y:p.clientY})});const g=()=>{j.showMenu=!1,j.pendingConnection=null};return Se(t,(p,m)=>{const w=p.filter(_=>!m.includes(_));if(w.length>0){const _=w[w.length-1];j.selectedNode=_}else j.selectedNode=null}),Se(()=>ie.state[j.selectedDialogue].nodes,(p,m)=>{if(!p||!m)return;const w=p.filter(_=>!m.map(x=>x.id).includes(_.id));if(w.length>0){const _=w[w.length-1];n([_]),p.forEach(x=>x.dragHandle=".drag-handle")}else j.selectedNode=null}),(p,m)=>(z(),Ve(M(Z1),{nodes:M(ie).state[M(j).selectedDialogue].nodes,"onUpdate:nodes":m[0]||(m[0]=w=>M(ie).state[M(j).selectedDialogue].nodes=w),edges:M(ie).state[M(j).selectedDialogue].edges,"onUpdate:edges":m[1]||(m[1]=w=>M(ie).state[M(j).selectedDialogue].edges=w),"edge-types":{custom:Yn(Ok)},"connection-mode":M(vn).Strict,"connection-line-type":"smoothstep","connection-line-style":{strokeWidth:2},"default-edge-options":{type:"custom"},"default-viewport":M(ie).state[M(j).selectedDialogue].defaultViewport,onMoveStart:g,"delete-key-code":null},{"node-dialogue":De(w=>[pe(Ld,{id:w.id,data:w.data,type:"dialogue"},null,8,["id","data"])]),"node-start":De(w=>[pe(qN,{id:w.id,data:w.data},null,8,["id","data"])]),"node-script":De(w=>[pe(tk,{id:w.id,data:w.data},null,8,["id","data"])]),"node-branch":De(w=>[pe(Ld,{id:w.id,data:w.data,type:"branch"},null,8,["id","data"])]),default:De(()=>[pe(Ik)]),_:1},8,["nodes","edges","edge-types","connection-mode","default-viewport"]))}},Dk={__name:"Gutter",props:["width","minWidth","side"],emits:["update:width"],setup(e,{emit:t}){const n=e,o=t,{panOnDrag:i}=Re();let r=0,s=0;const l=u=>{i.value=!1,r=u.clientX,s=n.width,window.addEventListener("mousemove",a),window.addEventListener("mouseup",c)},a=u=>{let d;n.side=="left"?d=s+(u.clientX-r):n.side==="right"&&(d=s-(u.clientX-r)),o("update:width",Math.max(n.minWidth,d))},c=()=>{i.value=!0,window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",c)};return(u,d)=>(z(),J("div",{class:"gutter",onMousedown:l},null,32))}},Rd=en(Dk,[["__scopeId","data-v-9e086fd7"]]),$k={key:0,class:"modal-overlay"},Pk={class:"vue-flow__node",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},Lk={class:"title title-1 drag-handle"},Rk={class:"section"},Fk={class:"row"},Vk={__name:"Modal",setup(e){const{state:t,resolve:n}=EC();function o(){n(!0),t.isVisible=!1}function i(){n(!1),t.isVisible=!1}return(r,s)=>M(t).isVisible?(z(),J("div",$k,[B("div",Pk,[B("div",Lk,Te(M(t).title),1),B("div",Rk,[B("div",Fk,Te(M(t).message),1),B("div",{class:"row"},[B("div",{class:"col"},[B("div",{class:"button-group"},[B("button",{class:"btn",onClick:o},"OK"),B("button",{class:"btn",onClick:i},"Cancel")])])])])])])):Ee("",!0)}},Bk={class:"title title-3"},Hk=["innerHTML"],jk={class:"text"},zk={key:1},Yk={class:"section dense subsection"},Gk={key:0,class:"col"},Uk=["value"],qk={key:1,class:"col"},Wk={key:2,class:"col"},Kk={class:"col"},Xk=["id"],Zk=["value"],Qk={key:0,class:"boundary-wrapper"},Jk={__name:"NodePanelOption",props:["selectedNode","opt"],setup(e){const t=e,{addOption:n,removeOption:o,moveOption:i,addEdge:r,removeEdge:s,updateEdge:l}=ie.methods,a=me(()=>ht.state.rightPanelWidth-17+"px"),c=be(ie.state[j.selectedDialogue].edges.find(d=>d.source==t.selectedNode.id&&d.sourceHandle==t.opt.id)?.target??""),u=me({get:()=>(c.value=ie.state[j.selectedDialogue].edges.find(d=>d.source==t.selectedNode.id&&d.sourceHandle==t.opt.id)?.target??"",c.value),set:d=>{const f=ie.state[j.selectedDialogue].edges.find(h=>h.source==t.selectedNode.id&&h.sourceHandle==t.opt.id);if(f)d?l(f.id,{target:d},j.selectedDialogue):s(f,j.selectedDialogue);else{const h=t.selectedNode.id,g=d,p=t.opt.id,w={id:Qr(),source:h,target:g,sourceHandle:p,targetHandle:"in"};r(w,j.selectedDialogue)}c.value=d}});return(d,f)=>(z(),J("div",{class:"node-option",style:at({minWidth:a.value})},[B("div",Bk,[e.selectedNode.type==="dialogue"||e.selectedNode.type==="branch"?(z(),J("button",{key:0,class:"btn square small",onClick:f[0]||(f[0]=h=>M(o)(e.selectedNode.id,e.opt.id,M(j).selectedDialogue))},[B("div",{innerHTML:M(St).Trash},null,8,Hk)])):Ee("",!0),B("div",jk,"Option "+Te(e.opt.order+1),1),e.selectedNode.type==="dialogue"||e.selectedNode.type==="branch"?(z(),J("div",zk,[B("button",{class:"btn square small",onClick:f[1]||(f[1]=h=>M(i)(e.selectedNode.id,e.opt.id,-1,M(j).selectedDialogue))},""),B("button",{class:"btn square small",onClick:f[2]||(f[2]=h=>M(i)(e.selectedNode.id,e.opt.id,1,M(j).selectedDialogue))},"")])):Ee("",!0)]),B("div",Yk,[e.selectedNode.type==="dialogue"?(z(),J("div",Gk,[f[9]||(f[9]=B("label",null,"String",-1)),Gn(B("select",{"onUpdate:modelValue":f[3]||(f[3]=h=>e.opt.textString=h)},[f[8]||(f[8]=B("option",{value:""},"",-1)),(z(!0),J(ve,null,We(M(U).state.labels,(h,g,p)=>(z(),J("option",{value:g},Te(h),9,Uk))),256))],512),[[Ll,e.opt.textString]])])):Ee("",!0),M(U).state.strings[e.opt.textString]?(z(),J("div",qk,[B("label",null,"Text ("+Te(M(U).state.selectedLanguage)+")",1),pe(Sr,{style:{resize:"none"},modelValue:M(U).state.strings[e.opt.textString][M(U).state.selectedLanguage],"onUpdate:modelValue":f[4]||(f[4]=h=>M(U).state.strings[e.opt.textString][M(U).state.selectedLanguage]=h)},null,8,["modelValue"])])):Ee("",!0),e.selectedNode.type==="dialogue"||e.selectedNode.type==="branch"?(z(),J("div",Wk,[f[10]||(f[10]=B("label",null,"Condition",-1)),Gn(B("input",{"onUpdate:modelValue":f[5]||(f[5]=h=>e.opt.if=h)},null,512),[[Sa,e.opt.if]])])):Ee("",!0),B("div",Kk,[f[12]||(f[12]=B("label",null,"Target",-1)),Gn((z(),J("select",{id:e.opt.id,key:c.value,"onUpdate:modelValue":f[6]||(f[6]=h=>u.value=h)},[f[11]||(f[11]=B("option",{value:""},"",-1)),(z(!0),J(ve,null,We(M(ie).state[M(j).selectedDialogue].nodes.filter(h=>h.id!=e.selectedNode.id&&h.type!="start"),h=>(z(),J("option",{key:h.id,value:h.id},Te(h.data.label),9,Zk))),128))],8,Xk)),[[Ll,u.value]])])]),e.selectedNode.type==="dialogue"||e.selectedNode.type==="branch"?(z(),J("div",Qk,[B("button",{class:"btn square small boundary",onClick:f[7]||(f[7]=h=>M(n)(e.selectedNode.id,e.opt.id,M(j).selectedDialogue))},"+")])):Ee("",!0)],4))}},eT={class:"nodePanel"},tT={class:"title title-1"},nT={class:"text"},oT={class:"ghost subtitle"},iT=["innerHTML"],rT={class:"section dense"},sT={class:"col"},lT=["id"],aT={class:"col"},uT=["value"],cT={key:0,class:"col"},dT={key:1,class:"col"},fT={class:"title title-2"},hT={key:0,class:"boundary-wrapper"},pT={key:1,class:"section"},gT={class:"col"},mT={key:1,class:"section"},vT={__name:"NodePanel",props:["selectedNode"],setup(e){const t=e,{updateNodeInternals:n,addSelectedNodes:o}=Re(),{removeNode:i,addOption:r}=ie.methods,s=be(!0);function l(c){o(ie.state[j.selectedDialogue].nodes.filter(u=>u.id==c))}function a(c){n(c)}return Se(()=>t.selectedNode?.id,()=>{s.value=!0,setTimeout(()=>s.value=!1,100)}),(c,u)=>(z(),J("div",eT,[M(ie).state[M(j).selectedDialogue]?(z(),J(ve,{key:0},[e.selectedNode?(z(),J(ve,{key:0},[B("div",tT,[B("div",nT,[yi(Te(e.selectedNode.data.label)+" ",1),B("div",oT,Te("ID: "+e.selectedNode.id),1)]),e.selectedNode.type!=M(tt).START.type?(z(),J("button",{key:0,class:"btn square",onClick:u[0]||(u[0]=d=>M(i)(e.selectedNode.id,M(j).selectedDialogue))},[B("div",{innerHTML:M(St).Trash},null,8,iT)])):Ee("",!0)]),B("div",rT,[B("div",sT,[u[7]||(u[7]=B("label",{for:"node-label"},"Label",-1)),pe(pi,{modelValue:e.selectedNode.data.label,"onUpdate:modelValue":u[1]||(u[1]=d=>e.selectedNode.data.label=d),validators:M(MC)},{default:De(()=>[B("input",{id:e.selectedNode.id},null,8,lT)]),_:1},8,["modelValue","validators"])]),e.selectedNode.type==="dialogue"?(z(),J(ve,{key:0},[B("div",aT,[u[9]||(u[9]=B("label",null,"String",-1)),Gn(B("select",{"onUpdate:modelValue":u[2]||(u[2]=d=>e.selectedNode.data.textString=d)},[u[8]||(u[8]=B("option",{value:""},"",-1)),(z(!0),J(ve,null,We(M(U).state.labels,(d,f,h)=>(z(),J("option",{value:f},Te(d),9,uT))),256))],512),[[Ll,e.selectedNode.data.textString]])]),M(U).state.strings[e.selectedNode.data.textString]?(z(),J("div",cT,[B("label",null,"Text ("+Te(M(U).state.selectedLanguage)+")",1),pe(Sr,{style:{resize:"none"},modelValue:M(U).state.strings[e.selectedNode.data.textString][M(U).state.selectedLanguage],"onUpdate:modelValue":u[3]||(u[3]=d=>M(U).state.strings[e.selectedNode.data.textString][M(U).state.selectedLanguage]=d)},null,8,["modelValue"])])):Ee("",!0)],64)):Ee("",!0),e.selectedNode.type==="script"?(z(),J("div",dT,[u[10]||(u[10]=B("label",null,"Script source",-1)),pe(Sr,{style:{resize:"vertical"},modelValue:e.selectedNode.data.text,"onUpdate:modelValue":u[4]||(u[4]=d=>e.selectedNode.data.text=d)},null,8,["modelValue"])])):Ee("",!0)]),B("div",fT,Te(`Options (${e.selectedNode.data.outputs.length})`),1),e.selectedNode.type==="dialogue"||e.selectedNode.type==="branch"?(z(),J("div",hT,[B("button",{class:"btn square small boundary",onClick:u[5]||(u[5]=d=>M(r)(e.selectedNode.id,null,M(j).selectedDialogue))},"+")])):Ee("",!0),pe(Ea,{class:Je({"no-transition":s.value}),name:"list",tag:"div",onTransitionend:u[6]||(u[6]=d=>a(c.id))},{default:De(()=>[(z(!0),J(ve,null,We(e.selectedNode.data.outputs||(e.selectedNode.data.outputs=[]),(d,f)=>(z(),Ve(Jk,gn({ref_for:!0},c.$props,{id:d.id,key:d.id,opt:d,"opt-idx":f}),null,16,["id","opt","opt-idx"]))),128))]),_:1},8,["class"])],64)):(z(),J("div",pT,[u[11]||(u[11]=B("div",{class:"ghost"},"Select a node",-1)),B("div",gT,[pe(Ga,{style:{"max-height":"300px"},rows:M(ie).state[M(j).selectedDialogue].nodes,columns:["type","data.label"],"on-select":l},null,8,["rows"])])]))],64)):(z(),J("div",mT,u[12]||(u[12]=[B("div",{class:"ghost"},"No dialogue graph selected",-1)])))]))}},yT={key:0,class:"section"},_T=["onClick"],wT=["onClick"],bT={__name:"HistoryPanel",setup(e){function t(o){for(let i=0;i<o+1;i++)He.methods.undo()}function n(o){const i=He.state.future.length-o;for(let r=0;r<i;r++)He.methods.redo()}return(o,i)=>(z(),J(ve,null,[!M(He).state.past.length&&!M(He).state.future.length?(z(),J("div",yT,i[0]||(i[0]=[B("div",{class:"text ghost"}," No changes made yet ",-1)]))):Ee("",!0),(z(!0),J(ve,null,We(M(He).state.future,(r,s)=>(z(),J("div",{class:"history-item past",onClick:l=>n(s),style:{"border-bottom":"1px solid var(--border-color)"}},[(z(!0),J(ve,null,We(r,l=>(z(),J("div",null,Te(l.type+" "+l.object),1))),256))],8,_T))),256)),(z(!0),J(ve,null,We(M(He).state.past.toReversed(),(r,s)=>(z(),J("div",{class:"history-item",onClick:l=>t(s)},[(z(!0),J(ve,null,We(r,l=>(z(),J("div",null,Te(l.type+" "+l.object),1))),256))],8,wT))),256))],64))}},xT=en(bT,[["__scopeId","data-v-ab386ce2"]]),ET={__name:"RightPanel",setup(e){const t={Nodes:St.Node,History:St.History};return(n,o)=>(z(),Ve(dg,{modelValue:M(j).activeTabRight,"onUpdate:modelValue":o[0]||(o[0]=i=>M(j).activeTabRight=i),style:at({width:M(ht).state.rightPanelWidth+"px"}),icons:t},{default:De(()=>[pe(Ko,{name:"Nodes"},{default:De(()=>[pe(vT,{"selected-node":M(j).selectedNode},null,8,["selected-node"])]),_:1}),pe(Ko,{name:"History"},{default:De(()=>[pe(xT)]),_:1})]),_:1},8,["modelValue","style"]))}},ST={style:{position:"relative"}},CT={key:0,class:"info-bar"},NT={__name:"DialogueInfoBar",setup(e){const t=me(()=>$e.state.dialogues.find(n=>n.id==j.selectedDialogue));return(n,o)=>(z(),J("div",ST,[t.value?(z(),J("div",CT,Te(t.value.name),1)):Ee("",!0)]))}},kT=en(NT,[["__scopeId","data-v-12a2652d"]]),TT={style:{position:"relative"}},AT=ze({__name:"Toaster",setup(e){return Se(()=>j.toasts.length,(t,n)=>{t>n&&setTimeout(()=>{j.toasts.pop()},3e3)}),(t,n)=>(z(),J("div",TT,[pe(Ea,{name:"list",tag:"div",class:"toast-box"},{default:De(()=>[(z(!0),J(ve,null,We(M(j).toasts,(o,i)=>(z(),J("div",{class:"toast",key:i},Te(o.text),1))),128))]),_:1})]))}}),OT=en(AT,[["__scopeId","data-v-0a455d79"]]),IT={class:"main"},MT={__name:"App",setup(e){Jr.value=Re(),SC(),$d();const t=ug();ut(()=>{j.selectedDialogue=$e.state.dialogues[0]?.id,window.addEventListener("keydown",c)}),vi(()=>{window.removeEventListener("keydown",c)}),Se(()=>[ht.state.theme],()=>{$d()}),Se(()=>[$e.state,ie.state,U.state,ht.state],u=>{j.loaded&&u&&cg()},{deep:!0}),Se(()=>j.commandQueue,(async u=>{for(;u.length!=0;){const d=u.shift();n.push(d),mt(o())}}),{deep:!0});const n=[];function o(){if(j.commandQueue.length||!n.length)return;const u=[];for(;n.length!=0;)u.push(n.shift());u&&(u.map(d=>d.type).includes("delete")?t.confirm({title:"Confirm action",message:"Are you sure to delete?"}).then(d=>{d&&He.methods.executeCommand(u)}):He.methods.executeCommand(u))}const i=ax(),{ctrl:r,z:s,y:l}=i,a=sx();jm(()=>{r.value&&s.value&&a.value.tagName!=="INPUT"&&a.value.tagName!=="TEXTAREA"&&He.methods.undo(),r.value&&l.value&&a.value.tagName!=="INPUT"&&a.value.tagName!=="TEXTAREA"&&He.methods.redo()}),nx(i.delete,()=>{j.selectedNode&&j.selectedNode.type!=tt.START.type&&a.value.tagName!=="INPUT"&&a.value.tagName!=="TEXTAREA"&&ie.methods.removeNode(j.selectedNode.id,j.selectedDialogue)});const c=u=>{u.ctrlKey&&u.key.toLowerCase()==="s"&&(u.preventDefault(),a.value?.tagName!=="INPUT"&&a.value?.tagName!=="TEXTAREA"&&Ya())};return(u,d)=>(z(),J(ve,null,[pe(BN),pe(Rd,{width:M(ht).state.leftPanelWidth,"onUpdate:width":d[0]||(d[0]=f=>M(ht).state.leftPanelWidth=f),"min-width":"100",side:"left"},null,8,["width"]),B("div",IT,[pe(zC),pe(kT),pe(OT),M(ie).state[M(j).selectedDialogue]?(z(),Ve(Mk,{key:0})):Ee("",!0),pe(Vk)]),pe(Rd,{width:M(ht).state.rightPanelWidth,"onUpdate:width":d[1]||(d[1]=f=>M(ht).state.rightPanelWidth=f),"min-width":"100",side:"right"},null,8,["width"]),pe(ET)],64))}};Yv(MT).mount("#app");
